(/*Copyright_2016_Erik_Neumann_All_Rights_Reserved_www.myphysicslab.com*/function(){'use strict';var g,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={W:!0},ea={};try{ea.__proto__=da;ca=ea.W;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=ba;
function l(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Of=b.prototype}var ha=this;function n(a){return void 0!==a}function ia(a){return"string"==typeof a}function r(a){return"number"==typeof a}function ja(){}
function ka(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function la(a){return"array"==ka(a)}function ma(a){var b=ka(a);return"array"==b||"object"==b&&"number"==typeof a.length}function na(a){return"function"==ka(a)}function oa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var qa="closure_uid_"+(1E9*Math.random()>>>0),ra=0;function ta(a,b,c){return a.call.apply(a.bind,arguments)}
function ua(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function v(a,b,c){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ta:ua;return v.apply(null,arguments)}var va=Date.now||function(){return+new Date};
function y(a,b){a=a.split(".");var c=ha;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&n(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}}function wa(a,b){function c(){}c.prototype=b.prototype;a.Of=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Zi=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var xa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(ia(a))return ia(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},z=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ia(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};
function ya(a,b,c){var d=a.length,e=ia(a)?a.split(""):a;for(--d;0<=d;--d)d in e&&b.call(c,e[d],d,a)}
var za=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=ia(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var m=h[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Aa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=ia(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ba=Array.prototype.reduce?function(a,b,c){return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c){var d=c;z(a,function(c,f){d=b.call(void 0,d,c,f,a)});return d};function Ca(a,b){var c=0;z(a,function(a,e,f){b.call(void 0,a,e,f)&&++c},void 0);return c}function Da(a,b){b=Ea(a,b,void 0);return 0>b?null:ia(a)?a.charAt(b):a[b]}function Ea(a,b,c){for(var d=a.length,e=ia(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function A(a,b){return 0<=xa(a,b)}function Fa(a){if(!la(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Ga(a,b){b=xa(a,b);var c;(c=0<=b)&&Ha(a,b);return c}function Ha(a,b){return 1==Array.prototype.splice.call(a,b,1).length}function Ia(a,b,c){var d=0;ya(a,function(e,f){b.call(c,e,f,a)&&Ha(a,f)&&d++})}function Ja(a){return Array.prototype.concat.apply([],arguments)}function Ka(a){return Array.prototype.concat.apply([],arguments)}function B(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function La(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ma(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}}function Ma(a,b,c,d){Array.prototype.splice.apply(a,Na(arguments,1))}function Na(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Oa(a,b){a.sort(b||Pa)}
function Qa(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Pa;Oa(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function Ra(a,b){if(!ma(a)||!ma(b)||a.length!=b.length)return!1;for(var c=a.length,d=Ta,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Pa(a,b){return a>b?1:a<b?-1:0}function Ta(a,b){return a===b}function Ua(a){var b=[];if(0>a)return[];for(var c=0;c<a;c+=1)b.push(c);return b}
function Va(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};function Wa(a){var b=document.createElement("img");b.src=a;b.width=30;b.height=n(void 0)?void 0:30;return b}function Xa(a){for(var b=Array(a),c=0;c<a;c++)b[c]=!1;return b}function D(a){for(var b=Array(a),c=0;c<a;c++)b[c]=0;return b}function Ya(a){return null!=a?a.toFixed(9):null===a?"null":"undefined"}function Za(a){return null!=a?a.toExponential(7):null===a?"null":"undefined"}
function $a(a){var b,c;r(b)||(b=2);ia(c)||(c="  ");var d=String(a),e="",f=0,h=d.length,k=!1,m=[],p="",q=0;a:for(;q<h;q++){var t=d.charAt(q);if(k)if(" "==t)continue;else k=!1;if("{"==t||"["==t){f++;if(f<=b){e+=t+"\n";for(var u=0;u<f;u++)e+=c;k=!0}else e+=t;m.push(p);p="{"==t?"}":"]"}else if(t==p){if(f<=b)for(f--,e+="\n",u=0;u<f;u++)e+=c;else f--;e+=t;p=m.pop();if(0>f)throw Error("unbalanced "+p+" at "+q+" in "+a);}else{if('"'==t||"'"==t){u=t;var C=q;for(e+=t;++q<h;)if(t=d.charAt(q),e+=t,t==u)continue a;
throw Error("unbalanced quote at "+C+" in "+a);}if((","==t||";"==t)&&f<=b){e+=t+"\n";for(u=0;u<f;u++)e+=c;k=!0}else e+=t}}return e=e.replace(/^\s+\n/gm,"")}function ab(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];a+=" "+(null!=d?d.toFixed(5):null===d?"null":"undefined")}console.log(a)}function bb(){window.onerror=function(a,b,c){3>cb++&&alert(a+"\n"+b+":"+c)}}function db(a){void 0!==a&&(eb=a)}function fb(){return gb&&!hb?.001*performance.now():.001*va()}
function ib(a){if(!isFinite(a))throw Error("not a finite number "+a);return a}function jb(a){if(isNaN(a))throw Error("not a number "+a);return a}function E(a){return a.toUpperCase().replace(/[ -]/g,"_")}function kb(a){if(!a.match(/^[A-Z_][A-Z_0-9]*$/))throw Error("not a valid name: "+a);return a}
function F(a,b,c){c=c||1E-14;if(0>=c)throw Error("epsilon must be positive "+c);var d=d||1;if(0>=d)throw Error("magnitude must be positive "+d);var e=Math.max(Math.abs(a),Math.abs(b));return Math.abs(a-b)>(e>d?e:d)*c}function lb(a){for(var b=a.length,c=0;c<b;c++)a[c]=0}var eb=".",mb=Math.pow(2,53),hb=!1,gb=oa(performance)&&na(performance.now),nb=Number.NaN,ob=Number.NEGATIVE_INFINITY,cb=0,I=Number.POSITIVE_INFINITY;function pb(){}pb.prototype.toString=function(){return""};pb.prototype.reset=function(){};function J(a,b,c){c=r(c)?c:0;this.a=jb(a);this.b=jb(b);this.c=jb(c)}g=J.prototype;g.toString=function(){return""};function qb(a){return a instanceof J?a:new J(a.l(),a.m(),a.xa())}g.add=function(a){return new J(this.a+a.l(),this.b+a.m(),this.c+a.xa())};function rb(a,b){var c=a.a-b.l(),d=a.b-b.m();a=a.c-b.xa();return c*c+d*d+a*a}function sb(a,b){return Math.sqrt(rb(a,b))}
function tb(a,b){if(1===b)return a;if(1E-10>b)throw Error("Vector.divide by near zero factor "+Za(b));return new J(a.a/b,a.b/b,a.c/b)}function vb(a,b){a=a.a*b.l()+a.b*b.m()+a.c*b.xa();if(isNaN(a))throw Error("");return a}g.Sb=function(a){return null===a?!1:a.l()===this.a&&a.m()===this.b&&a.xa()===this.c};function wb(a){return Math.atan2(a.b,a.a)}g.l=function(){return this.a};g.m=function(){return this.b};g.xa=function(){return this.c};g.length=function(){return Math.sqrt(xb(this))};
function yb(a){var b=Math.abs(a.a)+Math.abs(a.b);return 0==a.c?b:b+Math.abs(a.c)}function xb(a){return 0===a.c?a.a*a.a+a.b*a.b:a.a*a.a+a.b*a.b+a.c*a.c}function zb(a,b){return 1===b?a:new J(b*a.a,b*a.b,b*a.c)}g.Ra=function(a,b){return F(this.a,a.l(),b)||F(this.b,a.m(),b)||F(this.c,a.xa(),b)?!1:!0};function Ab(a){return tb(a,a.length())}function Bb(a,b,c){if(n(c))var d=b;else d=Math.cos(b),c=Math.sin(b);if(1E-12<Math.abs(d*d+c*c-1))throw Error();return new J(a.a*d-a.b*c,a.a*c+a.b*d,a.c)}
function K(a,b){return new J(a.a-b.l(),a.b-b.m(),a.c-b.xa())}var Cb=new J(1,0),Db=new J(0,1),L=new J(0,0);new J(0,-1);new J(-1,0);function M(a,b,c,d){this.c=jb(a);this.a=jb(c);this.b=jb(b);this.f=jb(d);if(a>c)throw Error("DoubleRect: left > right "+a+" > "+c);if(b>d)throw Error("DoubleRect: bottom > top "+b+" > "+d);}g=M.prototype;g.toString=function(){return""};function Eb(a,b){return new M(Math.min(a.l(),b.l()),Math.min(a.m(),b.m()),Math.max(a.l(),b.l()),Math.max(a.m(),b.m()))}function Fb(a,b){return b.l()>=a.c&&b.l()<=a.a&&b.m()>=a.b&&b.m()<=a.f}
g.Sb=function(a){return a===this?!0:a instanceof M?a.va()==this.c&&a.a==this.a&&a.b==this.b&&a.na()==this.f:!1};function Gb(a){return new J(Hb(a),Ib(a))}function Hb(a){return(a.c+a.a)/2}function Ib(a){return(a.b+a.f)/2}g.T=function(){return this.f-this.b};g.va=function(){return this.c};g.na=function(){return this.f};g.S=function(){return this.a-this.c};g.Za=function(){return 1E-16>this.S()||1E-16>this.T()};
function Jb(a,b,c){if(Fb(a,b)||Fb(a,c))return!0;var d=b.l();b=b.m();var e=c.l();c=c.m();var f=a.c;if(d<f&&e<f)return!1;f=a.a;if(d>f&&e>f)return!1;f=a.b;if(b<f&&c<f)return!1;f=a.f;return b>f&&c>f?!1:!0}g.Ra=function(a,b){return F(this.c,a.va(),b)||F(this.b,a.b,b)||F(this.a,a.a,b)||F(this.f,a.na(),b)?!1:!0};g.scale=function(a,b){b=void 0===b?a:b;var c=Hb(this),d=Ib(this),e=this.S(),f=this.T();return new M(c-a*e/2,d-b*f/2,c+a*e/2,d+b*f/2)};
g.translate=function(a,b){r(a)||(b=a.m(),a=a.l());if(!r(a)||!r(b))throw Error();return new M(this.c+a,this.b+b,this.a+a,this.f+b)};function Kb(a,b){return new M(Math.min(a.c,b.va()),Math.min(a.b,b.b),Math.max(a.a,b.a),Math.max(a.f,b.na()))}var Lb=new M(0,0,0,0);function Mb(a,b){a=a||"SIM_OBJ"+Nb++;this.Lb=kb(E(a));this.Hc=b||a;this.O=I}g=Mb.prototype;g.toString=function(){return""};g.He=function(){return this.O};g.getName=function(a){return a?this.Hc:this.Lb};g.Rc=function(){return!1};g.R=function(a){return this.Lb==E(a)};g.pc=function(a){return a==this};var Nb=1;function Ob(a,b,c){Mb.call(this,a);this.b=oa(b)?b:L;this.a=oa(c)?c:L}l(Ob,Mb);g=Ob.prototype;g.toString=function(){return""};g.Ja=function(){return Eb(this.V(),this.ba())};g.ba=function(){return this.a};g.V=function(){return this.b};g.Ya=function(){return K(this.ba(),this.V())};g.pc=function(a,b){return a instanceof Ob&&a.V().Ra(this.V(),b)?a.ba().Ra(this.ba(),b):!1};function Pb(a,b,c){this.a=kb(E(b));this.b=a;this.c=c}g=Pb.prototype;g.toString=function(){return""};g.getName=function(){return this.a};g.ga=function(){return this.b};g.P=function(){return this.c};g.R=function(a){return this.a==E(a)};function Qb(a,b,c,d,e){this.i=a;this.b=kb(E(b));this.g=c;this.f=d;this.h=e;this.a=!1;this.c=[];this.j=[]}g=Qb.prototype;g.toString=function(){return""};g.Pd=function(){return this.P().toString()};g.Kc=function(){return B(this.c)};g.getName=function(a){return a?this.g:this.b};g.ga=function(){return this.i};g.P=function(){return this.f()};g.Tc=function(){return Aa(this.j,function(a){return a.toString()})};g.mc=function(){return this.a};g.R=function(a){return this.b==E(a)};g.Uc=function(a){this.a=a};
g.Xc=function(a){this.Vc("true"==a||"TRUE"==a)};g.Vc=function(a){if("boolean"!=typeof a)throw Error("non-boolean value: "+a);a!==this.P()&&this.h(a)};function N(a,b,c,d,e,f,h){this.h=a;this.o=kb(E(b));this.A=c;this.v=d;this.B=e;this.j=!1;this.g=3;this.f=-1;this.a=0;this.b=I;this.i=[];this.c=[];if(null!=f)if(null!=h)Rb(this,f,h);else throw Error("values is not defined");}g=N.prototype;g.toString=function(){return""};g.Pd=function(){return this.P().toString()};g.Kc=function(){return B(this.i)};g.getName=function(a){return a?this.A:this.o};g.ga=function(){return this.h};g.P=function(){return this.v()};g.Tc=function(){return Aa(this.c,function(a){return a.toString()})};
g.mc=function(){return this.j};g.R=function(a){return this.o==E(a)};function Sb(a,b,c){Rb(a,b,c);b=new Pb(a.h,"CHOICES_MODIFIED",a);Tb(a.h,b)}function Rb(a,b,c){if(c.length!==b.length)throw Error("choices and values not same length");a.i=b;a.c=c}g.Uc=function(a){this.j=a};function Ub(a){a.f=0;return a}g.Xc=function(a){var b=Number(a);if(isNaN(b))throw Error("not a number: "+a);this.Ye(b)};
function Vb(a,b){if(b>a.P()||b>a.b)throw Error("out of range: "+b+" value="+a.P()+" upper="+a.b);a.a=b;return a}function Wb(a,b){a.g=b;return a}function Xb(a,b){if(b<a.P()||b<a.a)throw Error("out of range: "+b+" value="+a.P()+" lower="+a.a);a.b=b;return a}
g.Ye=function(a){if(!r(a))throw Error("not a number: "+a);if(a<this.a||a>this.b)throw Error("out of range. "+a+" is not between "+this.a+" and "+this.b);if(0<this.c.length&&!A(this.c,a))throw Error(a+" is not an allowed value among: ["+this.c.join(",")+"]");a!==this.P()&&this.B(a)};function Yb(a,b,c,d,e,f,h){this.o=a;this.g=kb(E(b));this.i=c;this.h=d;this.j=e;this.f=!1;this.b=I;this.c=[];this.a=[];if(null!=f)if(null!=h){this.c=f;if(h.length!==f.length)throw Error("different lengths choices:"+f+" values:"+h);this.a=h}else throw Error("values is not defined");}g=Yb.prototype;g.toString=function(){return""};g.Pd=function(){return this.P()};g.Kc=function(){return B(this.c)};g.getName=function(a){return a?this.i:this.g};g.ga=function(){return this.o};g.P=function(){return this.h()};
g.Tc=function(){return B(this.a)};g.mc=function(){return this.f};g.R=function(a){return this.g==E(a)};g.Uc=function(a){this.f=a};g.Xc=function(a){if(!ia(a))throw Error("non-string value: "+a);if(a.length>this.b)throw Error("string too long: "+a+" maxLength="+this.b);if(0<this.a.length&&!A(this.a,a))throw Error('"'+a+'" is not an allowed value among: ['+this.a.join(",")+"]");a!==this.P()&&this.j(a)};function P(a){if(!a)throw Error("no name");this.Fd=kb(E(a));this.aa=[];this.Ua=[];this.ma=!0;this.za=!1;this.J=[]}g=P.prototype;g.toString=function(){return""};function Zb(a,b){a.J.push({action:!0,Rd:b});$b(a)}function $b(a){if(!a.za){for(var b=0,c=a.J.length;b<c;b++){var d=a.J[b];d.action?A(a.aa,d.Rd)||a.aa.push(d.Rd):Ga(a.aa,d.Rd)}a.J=[]}}g.I=function(a){var b=a.getName(),c=ac(this,b);if(null!=c)throw Error("parameter "+b+" already exists: "+c);this.Ua.push(a)};
function Tb(a,b){if(a.ma){a.za=!0;try{z(a.aa,function(a){a.ka(b)})}finally{a.za=!1,$b(a)}}}function Q(a,b){var c=ac(a,b);if(null==c)throw Error("unknown Parameter "+b);Tb(a,c)}g.getName=function(){return this.Fd};function ac(a,b){b=E(b);return Da(a.Ua,function(a){return a.getName()==b})}g.Qd=function(a){var b=ac(this,a);if(null!=b)return b;throw Error("Parameter not found "+a);};function bc(a,b){a=ac(a,b);if(a instanceof Qb)return a;throw Error("ParameterBoolean not found "+b);}
function ec(a,b){a=ac(a,b);if(a instanceof N)return a;throw Error("ParameterNumber not found "+b);}function fc(a,b){a=ac(a,b);if(a instanceof Yb)return a;throw Error("ParameterString not found "+b);}g.getParameters=function(){return B(this.Ua)};function gc(a,b){a.J.push({action:!1,Rd:b});$b(a)}function hc(a,b){var c=a.ma;a.ma=b;return c};function ic(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.f=d;this.g=e;this.h=f}ic.prototype.toString=function(){return""};function jc(a,b){b.transform(a.a,a.b,a.c,a.f,a.g,a.h)}function kc(a,b){return new ic(a.a*b.a+a.c*b.b,a.b*b.a+a.f*b.b,a.a*b.c+a.c*b.f,a.b*b.c+a.f*b.f,a.a*b.g+a.c*b.h+a.g,a.b*b.g+a.f*b.h+a.h)}function lc(a,b,c,d){a=mc(a,b,c);d.lineTo(a.l(),a.m())}function nc(a,b){a=mc(a,0,0);b.moveTo(a.l(),a.m())}
function oc(a,b){var c=Math.cos(b);b=Math.sin(b);return new ic(c*a.a+b*a.c,c*a.b+b*a.f,-b*a.a+c*a.c,-b*a.b+c*a.f,a.g,a.h)}ic.prototype.scale=function(a,b){return new ic(this.a*a,this.b*a,this.c*b,this.f*b,this.g,this.h)};function pc(a,b){b.setTransform(a.a,a.b,a.c,a.f,a.g,a.h)}function mc(a,b,c){r(b)||(c=b.m(),b=b.l());if(!r(b)||!r(c))throw Error();return new J(a.a*b+a.c*c+a.g,a.b*b+a.f*c+a.h)}
ic.prototype.translate=function(a,b){r(a)||(b=a.m(),a=a.l());if(!r(a)||!r(b))throw Error();return new ic(this.a,this.b,this.c,this.f,this.g+this.a*a+this.c*b,this.h+this.b*a+this.f*b)};var qc=new ic(1,0,0,1,0,0);function rc(a,b){Mb.call(this,a,b);this.v=1;this.f=L;this.i=this.o=0;this.h=1;this.H=L;this.A=0;this.a=L;this.mb=null;this.sa=[L];this.Fd=0;this.g=nb}l(rc,Mb);g=rc.prototype;g.toString=function(){return""};g.vb=function(a,b,c){c=void 0===c?this.o:c;var d=a.l()-this.a.l();a=a.m()-this.a.m();var e=Math.sin(c),f=Math.cos(c);this.u(new J(b.l()-(d*f-a*e),b.m()-(d*e+a*f)),c)};g.G=function(a){var b=a.l()-this.a.l();a=a.m()-this.a.m();return new J(this.f.l()+(b*this.h-a*this.i),this.f.m()+(b*this.i+a*this.h))};
g.kf=function(){var a=new ic(1,0,0,1,this.f.l(),this.f.m());a=oc(a,this.o);return a.translate(-this.a.l(),-this.a.m())};g.Xe=function(){return this.o};g.Jc=function(){return this.A};g.pf=function(){var a=I;z(this.lc(),function(b){b=this.G(b);b.m()<a&&(a=b.m())},this);return a};function sc(a){return new M(a.Aa(),a.Fa(),a.Bb(),a.qb())}g.Ja=function(){return new M(this.Ie(),this.pf(),this.Je(),this.Nc())};g.rf=function(){return this.a};g.oc=function(){return this.G(this.nc())};g.Tb=function(){return B(this.sa)};
g.T=function(){return this.qb()-this.Fa()};g.Ie=function(){var a=I;z(this.lc(),function(b){b=this.G(b);b.l()<a&&(a=b.l())},this);return a};g.N=function(){return this.v};g.ca=function(){return this.f};g.Je=function(){var a=ob;z(this.lc(),function(b){b=this.G(b);b.l()>a&&(a=b.l())},this);return a};g.Nc=function(){var a=ob;z(this.lc(),function(b){b=this.G(b);b.m()>a&&(a=b.m())},this);return a};g.S=function(){return this.Bb()-this.Aa()};
g.rb=function(a){return n(a)?(a=this.oa(K(qb(a),this.a)),new J(this.H.l()-a.m()*this.A,this.H.m()+a.l()*this.A)):this.H};g.Af=function(){return this.mb};g.Rc=function(){return!0};g.sb=function(){return this.v*this.Fd};g.oa=function(a){return Bb(qb(a),this.h,this.i)};g.Jf=function(a){return Bb(qb(a),this.h,-this.i)};g.Kf=function(){return.5*this.sb()*this.A*this.A};g.bb=function(a){this.u(this.f,a)};g.Lf=function(a){if(!isFinite(a))throw Error("angular velocity must be finite "+a);this.A=a};
g.ra=function(a,b){this.a=new J(a,b);this.g=nb};g.Eb=function(a){this.sa=B(a)};g.M=function(a){if(0>=a||!r(a))throw Error("mass must be positive "+a);this.v=a;return this};g.Ba=function(a){this.Fd=a};g.u=function(a,b){this.f=qb(a);n(b)&&this.o!=b&&(this.o=b,this.i=Math.sin(b),this.h=Math.cos(b))};g.K=function(a,b){this.H=qb(a);n(b)&&this.Lf(b)};g.U=function(a){this.mb=n(a)?a:this.f.m();return this};g.Pf=function(){return.5*this.v*xb(this.H)};
g.Ga=function(a){var b=a.l()-this.f.l();a=a.m()-this.f.m();var c=-this.i,d=this.h;return new J(this.a.l()+(b*d-a*c),this.a.m()+(b*c+a*d))};function tc(a,b){n(a)&&""!=a?b=b?b:a:(b=uc++,a=vc.ne+b,b=wc.ne+b);rc.call(this,a,b);this.b=this.c=this.v=1}l(tc,rc);g=tc.prototype;g.toString=function(){return""};function xc(a,b){b=new tc(b,void 0);b.c=a;b.b=a;return b}g.De=function(a){a.beginPath();var b=this.b/2,c=this.c/2;na(a.ellipse)?(a.moveTo(c,0),a.ellipse(0,0,c,b,0,0,2*Math.PI,!1)):(a.arc(0,0,Math.min(c,b),0,2*Math.PI,!1),a.closePath())};g.Fa=function(){return-this.b/2};g.nc=function(){return L};
g.Ab=function(){var a=this.c/2,b=this.b/2;return Math.sqrt(a*a+b*b)};g.Aa=function(){return-this.c/2};g.Ub=function(){if(isNaN(this.g)){var a=this.a.l(),b=this.a.m(),c=b-this.Fa(),d=a-this.Aa();d<c&&(c=d);d=this.qb()-b;d<c&&(c=d);d=this.Bb()-a;d<c&&(c=d);this.g=c}return this.g};g.Bb=function(){return this.c/2};g.qb=function(){return this.b/2};g.lc=function(){var a=this.c/2,b=this.b/2;return[new J(-a,-b),new J(a,-b),new J(a,b),new J(-a,b)]};
g.M=function(a){if(0>a||!r(a))throw Error("mass must be non-negative "+a);this.v=a;return this};g.pc=function(a,b){return a instanceof tc&&a.f.Ra(this.f,b)&&!F(a.c,this.c,b)&&!F(a.b,this.b,b)?!0:!1};var uc=1,vc={ne:"PointMass"},wc={ne:"Punktmasse"};function yc(a,b,c,d,e,f,h){Mb.call(this,a);this.a=b;this.g=c;this.f=e;this.i=d;this.h=f;this.c=this.b=0;this.j=void 0===h?0:h}l(yc,Mb);g=yc.prototype;g.toString=function(){return""};g.Ja=function(){return Eb(this.V(),this.ba())};g.ba=function(){return this.V().add(this.Ya())};g.V=function(){return 0==this.i?this.a.G(this.g):this.g};g.Ya=function(){return 0==this.h?this.a.oa(this.f):this.f};
g.pc=function(a,b){return a instanceof yc&&a.getName()==this.getName()&&this.V().Ra(a.V(),b)?this.Ya().Ra(a.Ya(),b):!1};function zc(a,b,c,d,e,f,h,k){Mb.call(this,a);this.b=b;this.g=qb(c);this.c=d;this.h=qb(e);this.a=f;this.f=void 0===h?0:h;this.i=k||!1}l(zc,Mb);g=zc.prototype;g.toString=function(){return""};g.Rb=function(){var a=this.V(),b=this.ba(),c=K(b,a),d=c.length(),e=-this.f*(d-this.a);c=new J(c.l()/d*-e,c.m()/d*-e,0);return[new yc("spring",this.b,a,1,c,1),new yc("spring",this.c,b,1,zb(c,-1),1)]};g.Xb=function(){};g.Ja=function(){return Eb(this.V(),this.ba())};
g.ba=function(){if(null==this.h||null==this.c)throw Error();var a=this.c.G(this.h);if(this.i){var b=this.V(),c=this.a;if(sb(b,a)<=c)return a;a=Ab(K(a,b));return b.add(zb(a,c))}return a};g.Vb=function(){var a=sb(this.ba(),this.V())-this.a;return.5*this.f*a*a};g.V=function(){if(null==this.g||null==this.b)throw Error();return this.b.G(this.g)};g.Ya=function(){return K(this.ba(),this.V())};function Ac(){P.call(this,"SIM_LIST");this.a=[]}l(Ac,P);g=Ac.prototype;g.toString=function(){return""};g.add=function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];if(null==c)throw Error("cannot add invalid SimObject");if(isFinite(c.He()))for(var d;d=Bc(this,c);)this.remove(d);A(this.a,c)||(this.a.push(c),Tb(this,new Pb(this,"OBJECT_ADDED",c)))}};
g.get=function(a){if(r(a)){if(0<=a&&a<this.a.length)return this.a[a]}else if(ia(a)){a=E(a);var b=Da(this.a,function(b){return b.getName()==a});if(null!=b)return b}throw Error("SimList did not find "+a);};function Bc(a,b){return Da(a.a,function(a){return a.pc(b,.1)})}g.indexOf=function(a){return xa(this.a,a)};g.length=function(){return this.a.length};g.remove=function(a){Ga(this.a,a)&&Tb(this,new Pb(this,"OBJECT_REMOVED",a))};
function Cc(a,b){for(var c=a.a.length-1;0<=c;c--){var d=a.a[c];d.He()<b&&(a.a.splice(c,1),Tb(a,new Pb(a,"OBJECT_REMOVED",d)))}};function Dc(a,b,c){this.h=a;this.f=kb(E(b));this.g=c;this.a=0;this.c=!1;this.b=0}g=Dc.prototype;g.toString=function(){return""};g.Pd=function(){return this.a.toString()};g.Kc=function(){return[]};g.getName=function(a){return a?this.g:this.f};g.ga=function(){return this.h};g.P=function(){return this.a};g.Tc=function(){return[]};g.mc=function(){return this.c};g.R=function(a){return this.f==E(a)};g.Uc=function(a){this.c=a};
g.Xc=function(a){var b=Number(a);if(isNaN(b))throw Error("not a number: "+a+" (ConcreteVariable)");this.a!=b&&(this.a=b,this.b++)};function Ec(a,b,c){P.call(this,n(c)?c:"VARIABLES");this.b=-1;if(a.length!=b.length)throw Error("varNames and localNames are different lengths");c=0;for(var d=a.length;c<d;c++){var e=a[c];if(!ia(e))throw Error("variable name "+e+" is not a string i="+c);e=kb(E(e));a[c]=e;"TIME"==e&&(this.b=c)}a:{c=a.length;if(1<c){d=Array(c);for(e=0;e<c;e++)d[e]=a[e];Oa(d);var f=d[0];for(e=1;e<c;e++){if(f==d[e]){c=!1;break a}f=d[e]}}c=!0}if(!c)throw Error("duplicate variable names");this.a=[];c=0;for(d=a.length;c<
d;c++)this.a.push(new Dc(this,a[c],b[c]));this.f=!1;this.c=[]}l(Ec,P);g=Ec.prototype;g.toString=function(){return""};g.I=function(){throw Error("addParameter not allowed on VarsList");};
function Fc(a,b,c){var d=b.length;if(0==d)throw Error();if(b.length!=c.length)throw Error("names and localNames are different lengths");a:{if(0>d)throw Error();var e=0;var f=-1;for(var h=0,k=a.a.length;h<k;h++)if("DELETED"==a.a[h].getName()){if(-1==f&&(f=h),e++,e>=d)break a}else f=-1,e=0;0<e?e=d-e:(f=a.a.length,e=d);for(h=0;h<e;h++)a.a.push(new Dc(a,"DELETED","DELETED"))}for(h=0;h<d;h++){e=kb(E(b[h]));if("DELETED"==e)throw Error("variable cannot be named ''+VarsList.DELETED+''");k=f+h;a.a[k]=new Dc(a,
e,c[h]);"TIME"==e&&(a.b=k)}Tb(a,new Pb(a,"VARS_MODIFIED"));return f}function Gc(a,b){if(0>b||b>=a.a.length)throw Error("bad variable index="+b+"; numVars="+a.a.length);}g.Qd=function(a){a=E(a);var b=Da(this.a,function(b){return b.getName()==a});if(null!=b)return b;throw Error("Parameter not found "+a);};g.getParameters=function(){return B(this.a)};function Hc(a){if(0>a.b)throw Error("no time variable");return a.P(a.b)}g.P=function(a){Gc(this,a);return this.a[a].P()};
function Ic(a){return Aa(a.a,function(a){return a.mc()?NaN:a.P()})}function Jc(a,b){if(r(b))var c=b;else if(ia(b)){if(b=E(b),c=Ea(a.a,function(a){return a.getName()==b}),0>c)throw Error("unknown variable name "+b);}else throw Error();Gc(a,c);return a.a[c]}g.Yb=function(a){if(0==arguments.length)for(var b=0,c=this.a.length;b<c;b++)this.a[b].b++;else for(b=0,c=arguments.length;b<c;b++){var d=arguments[b];Gc(this,d);this.a[d].b++}};
function Kc(a){if(a.f){var b=Ic(a);b.push(Hc(a));a.c.push(b);20<a.c.length&&a.c.shift()}}g.ai=function(a){for(var b=0,c=arguments.length;b<c;b++){var d=arguments[b];Gc(this,d);this.a[d].Uc(!0)}};function Lc(a){R(a,a.b,0)}function R(a,b,c,d){Gc(a,b);a=a.a[b];if("DELETED"!=a.getName()){if(isNaN(c)&&!a.mc())throw Error("cannot set variable "+a.getName()+" to NaN");d?a.a=c:a.a!=c&&(a.a=c,a.b++)}}
function Mc(a,b,c){var d=a.a.length,e=b.length;if(e>d)throw Error("setValues bad length n="+e+" > N="+d);for(var f=0;f<d;f++)f<e&&R(a,f,b[f],c)}var Nc={re:"time"},Oc={re:"Zeit"};function Pc(){this.c=this.g=0;this.b=this.a=this.f=I}Pc.prototype.toString=function(){return""};function Qc(a){a.g=0;a.c=0;a.f=I;a.a=I;a.b=I}function Rc(a,b){Qc(a);z(b,function(a){a.i?this.g++:Sc(a);Sc(a);a.O&&(this.c++,a.D<this.b&&(this.b=a.D));if((a.O||!Sc(a))&&0>Tc(a)){var b=a.f;if(!isFinite(b))throw Error("distance is NaN "+a);b<this.f&&(this.f=b);isNaN(this.a)||(a=a.C,isNaN(a)?this.a=nb:a<this.a&&(this.a=a))}},a);a.a==I&&(a.a=nb);a.b==I&&(a.b=nb)};function Uc(a){this.a=a;this.c=[];this.h=[];this.i=[];this.f=[];this.g=[]}Uc.prototype.toString=function(){return""};Uc.prototype.getName=function(a){return a?Vc.da:E(Wc.da)};Uc.prototype.R=function(a){return this.getName()==E(a)};
Uc.prototype.b=function(a){var b,c=this.a.w(),d=Ic(c),e=d.length;this.c.length<e&&(this.c=Array(e),this.h=Array(e),this.i=Array(e),this.f=Array(e),this.g=Array(e));var f=this.c,h=this.h,k=this.i,m=this.f,p=this.g;for(b=0;b<e;b++)f[b]=d[b];lb(h);b=this.a.pb(f,h,0);if(null!==b)return b;for(b=0;b<e;b++)f[b]=d[b]+h[b]*a/2;lb(k);b=this.a.pb(f,k,a/2);if(null!==b)return b;for(b=0;b<e;b++)f[b]=d[b]+k[b]*a/2;lb(m);b=this.a.pb(f,m,a/2);if(null!==b)return b;for(b=0;b<e;b++)f[b]=d[b]+m[b]*a;lb(p);b=this.a.pb(f,
p,a);if(null!==b)return b;for(b=0;b<e;b++)d[b]+=(h[b]+2*k[b]+2*m[b]+p[b])*a/6;Mc(c,d,!0);return null};var Wc={da:"Runge-Kutta"},Vc={da:"Runge-Kutta"};function Xc(a){this.b=a;this.f=new Uc(a);this.a=.025;this.c=!1;this.L=new pb;this.F=this.B=this.i=0;this.j=nb;this.g=[];this.o=new Pc;this.D=[];this.h=!1;this.J=this.C=this.H=this.v=this.A=0}Xc.prototype.toString=function(){return""};
function Yc(a,b,c){if(1E-16>b)a.b.ea();else{Cc(a.b.a,a.b.X()+b);a.B=0;a.F=b;a.i=b;a.A=0;a.h=!1;a.j=nb;a.v=0;a.H=0;a.J=0;a.C=0;Qc(a.o);a.g=[];Kc(a.b.w());for(b=!1;a.B<a.F-1E-16;){Zc(a,a.i);Rc(a.o,a.g);var d=!1;if(0<a.o.c&&($c(a,a.i),d=!0,Rc(a.o,a.g),a.v++,3<=a.v&&(a.h||(a.h=!0),30<=a.v)))throw Error("collision was not resolved after "+a.v+" tries");a.C=Ca(a.g,function(a){var b;if(b=(a.O||!Sc(a))&&0>Tc(a))b=d,b=Sc(a)?!0:b?0<a.f&&a.f<a.J+a.$:a.f>a.J-a.$&&a.f<a.J+a.$;return b});if(0<a.C){a.D=[];ad(a);
var e=bd(a,a.C);b=b||e;a.j=NaN;Rc(a.o,a.D)}d||(1E-7<a.i&&(a.v=0),a.B+=a.i,void 0!==c&&c.Pa(),a.h&&2<=++a.A?(a.h=!1,a.A=0):isFinite(a.j)&&(a.h=!0));cd(a,d)}!b&&a.c&&0<a.o.g&&dd(a)}}function cd(a,b){a.j=a.o.a;a.h||(a.j<a.b.X()&&(a.h=!0),0<a.o.c&&isNaN(a.j)&&(a.h=!0));var c=a.F-a.B;a.h?(a.j=NaN,b&&(a.i/=2,a.A=0),a.i=Math.min(a.i,c)):isNaN(a.j)?a.i=c:(b=a.j-a.b.X(),a.i=Math.min(b,c))}
function Zc(a,b){a.g=[];ed(a.b);var c=a.f.b(b);a.b.ea();a.H++;null!=c?a.g=c:(c=Ic(a.b.w()),a.b.ua(a.g,c,b));Qa(a.g,function(a,b){a=Math.round(1E7*a.C);b=Math.round(1E7*b.C);return isNaN(a)?isNaN(b)?0:1:isNaN(b)?-1:a<b?-1:a>b?1:0});z(a.g,function(a){var b=fd(a);a.O=b})}function $c(a,b){gd(a.b);a.b.ea();for(var c=a.b.X(),d=a.g.length-1;0<=d;d--){var e=a.g[d];fd(e)?e.fb(c):Ha(a.g,d)}c=Ic(a.b.w());a.b.ua(a.g,c,b)}
function bd(a,b){if(hd(a.b,a.g)){a.b.ea();var c=a.b.X();z(a.g,function(a){a.fb(c)});a.J+=b;a.h=!1;a.A=0;return!0}a.h=!0;return!1}function dd(a){0<a.g.length&&(ad(a),hd(a.b,a.g),a.b.ea())}function ad(a){for(var b=a.g.length;0<b--;){var c=a.g[b];c.i||c.f<c.F||(Ha(a.g,b),a.D.push(c))}}Xc.prototype.reset=function(){this.b.reset();this.L.reset()};function id(){return"simultaneous;hybrid;serial grouped;serial grouped lastpass;serial separate;serial separate lastpass".split(";")}function jd(a){for(var b=id(),c=0,d=b.length;c<d;c++)if(a==b[c])return b[c];throw Error("not found "+a);};function kd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}kd.prototype.a=8;kd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};kd.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{kd.BYTES_PER_ELEMENT=8}catch(a){}kd.prototype.BYTES_PER_ELEMENT=kd.prototype.a;kd.prototype.set=kd.prototype.set;kd.prototype.toString=kd.prototype.toString;y("Float64Array",kd)};function ld(a,b){var c=r(void 0)?void 0:0;this.a=jb(a);this.b=jb(b);this.c=jb(c)}g=ld.prototype;g.toString=function(){return""};g.add=function(a){this.a+=a.l();this.b+=a.m();this.c+=a.xa();return this};function md(a,b){var c=a.a-b.l(),d=a.b-b.m();a=a.c-b.xa();return c*c+d*d+a*a}function nd(a){a.a/=2;a.b/=2;a.c/=2;return a}g.Sb=function(a){return null===a?!1:a.l()===this.a&&a.m()===this.b&&a.xa()===this.c};g.l=function(){return this.a};g.m=function(){return this.b};g.xa=function(){return this.c};
g.length=function(){return Math.sqrt(0===this.c?this.a*this.a+this.b*this.b:this.a*this.a+this.b*this.b+this.c*this.c)};function od(a,b){a.a*=b;a.b*=b;a.c*=b;return a}g.Ra=function(a,b){return F(this.a,a.l(),b)||F(this.b,a.m(),b)||F(this.c,a.xa(),b)?!1:!0};function pd(a,b){a.a=b.l();a.b=b.m();a.c=b.xa();return a}function qd(a,b){a.a-=b.l();a.b-=b.m();a.c-=b.xa()};function rd(a,b){for(var c=0,d=0;d<b;d++)a[d]&&c++;return c}
function sd(a,b,c){var d;if(2>c.length)throw Error("");if(3!=a.length)throw Error("");var e=Array(3);for(d=0;3>d;d++)e[d]=b(a[d]);e[0]>e[1]&&td(e,a,0,1);e[1]>e[2]&&td(e,a,1,2);e[0]>e[1]&&td(e,a,0,1);d=new ld(0,0);for(var f=new ld(0,0),h=new ld(0,0),k=new ld(0,0),m=new ld(0,0),p=new ld(0,0),q=0;1E-6<ud(a);){q++;if(1E4<q)return c[0]=q,c[1]=1,qb(a[0]);nd(pd(d,a[0]).add(a[1]));qd(od(pd(f,d),2),a[2]);var t=b(f);if(t<e[1])if(t>=e[0])e[2]=t,pd(a[2],f),td(e,a,1,2);else{qd(od(pd(h,f),2),d);var u=b(h);u<t?
(e[2]=u,pd(a[2],h)):(e[2]=t,pd(a[2],f));td(e,a,1,2);td(e,a,0,1)}else nd(pd(k,a[2]).add(d)),t=b(k),pd(p,nd(a[2])),qd(od(pd(m,d),1.5),p),u=b(m),t<e[2]&&t<u?(e[2]=t,pd(a[2],k),e[2]<e[1]&&td(e,a,1,2),e[1]<e[0]&&td(e,a,0,1)):u<e[2]?(e[2]=u,pd(a[2],m),e[2]<e[1]&&td(e,a,1,2),e[1]<e[0]&&td(e,a,0,1)):(nd(a[1].add(a[0])),nd(a[2].add(a[0])),e[1]=b(a[1]),e[2]=b(a[2]),e[0]>e[1]&&td(e,a,0,1),e[1]>e[2]&&td(e,a,1,2),e[0]>e[1]&&td(e,a,0,1))}c[0]=q;c[1]=0;return qb(a[0])}
function vd(a,b,c,d){var e=a.l();a=a.m();var f=b.l();b=b.m();var h=c.l();c=c.m();var k=d.l(),m=d.m();var p=e>f?e:f;if(h>p&&k>p)return null;p=e<f?e:f;if(h<p&&k<p)return null;p=a>b?a:b;if(c>p&&m>p)return null;p=a<b?a:b;if(c<p&&m<p)return null;if(1E-16>Math.abs(f-e)){if(1E-16>Math.abs(k-h))return null;var q=e;d=(m-c)/(k-h)*(q-h)+c;b<a&&(p=a,a=b,b=p);k<h&&(p=h,h=k,k=p);m<c&&(p=c,c=m,m=p);return a-1E-14<=d&&d<=b+1E-14&&h-1E-14<=q&&q<=k+1E-14&&c-1E-14<=d&&d<=m+1E-14?new J(q,d):null}if(1E-16>Math.abs(k-
h))return q=h,d=(b-a)/(f-e)*(q-e)+a,b<a&&(p=a,a=b,b=p),f<e&&(p=e,e=f,f=p),m<c&&(p=c,c=m,m=p),e-1E-14<=q&&q<=f+1E-14&&a-1E-14<=d&&d<=b+1E-14&&c-1E-14<=d&&d<=m+1E-14?new J(q,d):null;p=(b-a)/(f-e);q=(m-c)/(k-h);if(1E-16>Math.abs(q-p))return null;1E-16>Math.abs(q)?(d=(c+m)/2,q=(d-a)/p+e):1E-16>Math.abs(p)?(d=(a+b)/2,q=(d-c)/q+h):(q=(q*h-p*e-c+a)/(q-p),d=p*(q-e)+a);b<a&&(p=a,a=b,b=p);f<e&&(p=e,e=f,f=p);k<h&&(p=h,h=k,k=p);m<c&&(p=c,c=m,m=p);return e-1E-14<=q&&q<=f+1E-14&&a-1E-14<=d&&d<=b+1E-14&&h-1E-14<=
q&&q<=k+1E-14&&c-1E-14<=d&&d<=m+1E-14?new J(q,d):null}function ud(a){var b=md(a[0],a[1]),c=md(a[0],a[2]);c>b&&(b=c);c=md(a[1],a[2]);c>b&&(b=c);return Math.sqrt(b)}function wd(a,b){a+=" [";for(var c=0,d=b.length;c<d;c++)a+=b[c].toString()+", ";console.log(a+"]")}function xd(a,b,c){for(var d=b.length,e=Array(d),f=0;f<d;f++){for(var h=e[f]=0;h<d;h++)e[f]+=a[f][h]*b[h];c&&(e[f]+=-c[f])}return e}
function yd(a,b,c,d){var e=b.length,f,h,k,m=Array(e+1),p=Array(e);for(f=0;f<e;f++){d[f]=f;m[f]=f;for(h=p[f]=0;h<e;h++)Math.abs(a[f][h])>p[f]&&(p[f]=Math.abs(a[f][h]));if(1E-10>p[f])return f}m[e]=e;var q=0;f=0;a:for(;f<e;f++)for(k=0;;){var t=q;var u=Math.abs(a[d[t]][m[f]])/p[d[t]];for(h=q+1;h<e;h++){var C=Math.abs(a[d[h]][m[f]])/p[d[h]];C>u&&(u=C,t=h)}if(Math.abs(a[d[t]][m[f]])<c){if(k>=e-1-f)break a;u=m[f];for(h=f;h<e-1;h++)m[h]=m[h+1];m[e-1]=u;k++}else{d[q]!=d[t]&&(u=d[q],d[q]=d[t],d[t]=u);for(h=
q+1;h<e;h++)for(t=a[d[h]][m[f]]/a[d[q]][m[f]],k=0;k<e+1;k++)a[d[h]][m[k]]-=t*a[d[q]][m[k]];q++;break}}q--;if(q<e-1)for(f=q+1;f<e;f++)if(.1<Math.abs(a[d[f]][e]))return d[f];f=e-1;for(p=e;0<=q;){h=-1;for(k=f;k>=q;k--)Math.abs(a[d[q]][m[k]])>c&&(h=k);-1!=h&&h!=f&&(f=h);if(!(Math.abs(a[d[q]][m[f]])<c)){if(1<p-f)for(h=f+1;h<p;h++)b[m[h]]=0;p=f;k=0;for(h=f+1;h<e;h++)k+=a[d[q]][m[h]]*b[m[h]];b[m[f]]=(a[d[q]][e]-k)/a[d[q]][m[f]];f--}q--}return-1}
function zd(a,b,c){for(var d=I,e=0,f=0;f<b;f++){var h=Math.abs(a[c[f]][f]);h<d&&(d=h);h>e&&(e=h)}return.002>Math.abs(d)}function Ad(a,b,c){if(a==nb||b==nb)throw Error();a=a==I?0<b?b:a:b==I?0<a?a:b:0<a&&0<b?a<b?a:b:0>a?-a:-b;return a==I?c:2*a*Math.sqrt(2*c/a)}function td(a,b,c,d){var e=a[c];a[c]=a[d];a[d]=e;a=b[c];b[c]=b[d];b[d]=a}function Bd(a,b){for(var c=a.length,d=Array(c),e=0;e<c;e++)d[e]=a[e]+b[e];return d};function Cd(a){this.J=!1;this.time=0;this.D=[];this.v=[];this.A=[];this.i=[];this.W=[];this.j=[];this.h=[];this.H=[];this.o=[];this.O=[];this.b=[];this.c=[];this.f=[];this.g=[];this.a=0;this.C=[];this.B=0;this.F=[];this.L=[];this.aa=a}
function Dd(a,b,c,d,e,f){a.J=!1;a.time=f;a.a=d.length;if(1==a.a)return c[0]=e[0]||0>d[0]?-d[0]/b[0][0]:0,-1;a.o=b;a.O=d;a.i=c;a.g=e;a.W.length<a.a&&(b=a.a+10,a.W=D(b),a.b=Xa(b),a.c=Xa(b),a.f=Xa(b),a.h=D(b),a.j=D(b),a.H=Xa(b));Fa(a.D);b=0;a.F=[];a.L=[];for(c=0;c<a.a;c++)a.i[c]=0,a.W[c]=a.O[c],a.c[c]=!1,a.b[c]=!1,a.f[c]=!1;for(c=0;;){c++;a:{d=a;var h=Ed(d.aa,d.a);for(f=0;f<d.a;f++)if(e=h[f],d.g[e]&&!d.b[e]&&!d.c[e]&&!d.f[e]){d=e;break a}h=I;f=-1;for(e=0;e<d.a;e++)!(d.g[e]||d.b[e]||d.c[e]||d.f[e])&&
d.W[e]<h&&(h=d.W[e],f=e);if(-1<f)d=f;else{f=0;h=-1;for(e=0;e<d.a;e++)d.f[e]&&!A(d.D,e)&&(!d.g[e]&&d.W[e]<-f||d.g[e]&&Math.abs(d.W[e])>f)&&(f=Math.abs(d.W[e]),h=e);d=-1<h&&1E-8<f?h:-1}}if(0>d)break;a.f[d]&&a.D.push(d);a:{var k;e=a;f=d;var m=e.J;for(h=0;h<e.a;h++)if(!e.b[h]&&!e.c[h]&&!e.f[h]){e=!1;break a}var p=[];for(h=0;h<e.a;h++)p.push(e.b[h]?1:e.c[h]?2:3);p.push(f);m&&wd("checkLoop state",p);f=!1;h=0;for(k=e.F.length;h<k;h++){var q=e.F[h];m&&wd("state",p);Ra(p,q)&&(f=!0)}if(!f){e.F.push(p);h=e.W;
for(p=m=0;p<e.a;p++)if(e.g[p]||0>h[p])m+=h[p]*h[p];e.L.push(m)}e=f}if(e)break;e=Fd(a,d);if(-1<e)a.b[e]=!1,a.c[e]=!1,a.f[e]=!0;else{if(-1>e)return e;Fa(a.D);a.f[d]&&(b++,a.f[d]=!1)}}return-1}function Gd(a){return Hd(a.i,a.W,a.g)?!0:!1}function Hd(a,b,c){var d=a.length,e;if(b.length<d)throw Error();var f=!0;for(e=0;e<d;e++)c[e]||1E-10<Math.abs(a[e])?1E-4<Math.abs(b[e])&&(f=!1):-1E-4>b[e]&&(f=!1);return f}
function Fd(a,b){var c;if(!a.g[b]&&-1E-10<=a.W[b]||a.g[b]&&1E-10>=Math.abs(a.W[b]))return a.c[b]=!0,-1;var d,e=rd(a.b,a.a);e+=1;var f=Id(a,e),h=0;for(d=0;d<a.a;d++)if(a.b[d]||d==b){var k=0;for(c=0;c<a.a;c++)if(a.b[c]||c==b)f[h][k]=a.o[d][c],k++;f[h][e]=1;h++}d=D(e);c=D(e);yd(f,c,1E-9,d);if(c=(c=zd(f,e,d))&&!a.f[b])return b;for(c=0;c<a.a;c++)a.h[c]=0,a.j[c]=0,a.H[c]=!1;e=1E-10;for(f=0;!a.g[b]&&a.W[b]<-e||a.g[b]&&Math.abs(a.W[b])>e;){a:{var m;d=a;var p=b;for(m=0;m<d.a;m++)d.j[m]=0;d.j[p]=1;c=rd(d.b,
d.a);if(0<c){h=Id(d,c);if(null==d.C||d.C.length<c)d.C=D(c+10);var q=0;for(m=0;m<d.a;m++)if(d.b[m]){var t=0;for(k=0;k<d.a;k++)d.b[k]&&(h[q][t]=d.o[m][k],t++);h[q][c]=-d.o[m][p];d.C[q]=-d.o[m][p];q++}k=D(c);Jd(c,c+1,h,d.A);for(m=1E-9;;){q=D(c);if(-1!=yd(h,k,m,q)){d=-999999;break a}q=xd(d.A,k,d.C);p=void 0;t=0;p=p||q.length;for(var u=0;u<p;u++)Math.abs(q[u])>t&&(t=Math.abs(q[u]));if(1E-7>t)break;else if(m/=10,Jd(c,c+1,d.A,h),1E-17>m)break}for(m=q=0;m<d.a;m++)d.b[m]&&(d.j[m]=k[q++])}for(m=0;m<d.a;m++)for(k=
d.h[m]=0;k<d.a;k++)d.h[m]+=d.o[m][k]*d.j[k];d=-1}if(-1!=d)return d;h=a;k=I;h.g[b]&&0<h.W[b]&&(k=ob);m=-1;h.g[b]?(m=b,k=-h.W[b]/h.h[b]):0<h.h[b]&&(m=b,k=-h.W[b]/h.h[b]);q=0<k?1:-1;for(c=0;c<h.a;c++)!h.g[c]&&h.b[c]&&-1E-14>h.j[c]*q&&(d=-h.i[c]/h.j[c],0>d*q&&(2E-10<Math.abs(h.i[c])&&(h.J=!0),d=0),d*q<k*q&&(k=d,m=c));for(c=0;c<h.a;c++)h.c[c]&&(!h.g[c]&&-1E-14>h.h[c]*q||h.g[c]&&1E-14<Math.abs(h.h[c]*q))&&(d=-h.W[c]/h.h[c],0>d*q&&(2E-10<Math.abs(h.W[c])&&(h.J=!0),d=0),d*q<k*q&&(k=d,m=c));h.B=k;d=m;if(0>
d||1E5<Math.abs(a.B)){if(1E-10>Math.abs(a.i[b]))return b;if(1E-5>Math.abs(a.W[b])){e=1.1*Math.abs(a.W[b]);continue}return-2}1E-12>Math.abs(a.B)&&(a.H[d]&&(a.b[d]=!1,a.c[d]=!1,a.f[d]=!0),a.H[d]=!0);for(c=0;c<a.a;c++)a.i[c]+=a.B*a.j[c],a.W[c]+=a.B*a.h[c];if(f++>10*a.a&&f>1E3*a.a)throw Error("drive_to_zero() loopCtr="+f+" d="+b+" a[d]="+a.W[b]);if(a.c[d]){q=a;p=b;t=d;c=rd(q.b,q.a);c+=2;h=Id(q,c);for(m=u=0;m<q.a;m++)if(q.b[m]||m==p||m==t){var C=0;for(k=0;k<q.a;k++)if(q.b[k]||k==p||k==t)h[u][C]=q.o[m][k],
C++;h[u][c]=1;u++}k=D(c);m=D(c);yd(h,m,1E-9,k);if(c=(c=zd(h,c,k))&&!a.f[d]){a.b[d]=!1;a.c[d]=!1;a.f[d]=!0;continue}}if(a.b[d])if(1E-10<Math.abs(a.W[d])){if(1E-9<Math.abs(a.i[d]))throw Error("moving C to NC but f[j]="+Za(a.i[d]));a.b[d]=!1;a.c[d]=!1;a.f[d]=!0}else a.b[d]=!1,a.c[d]=!0;else a.c[d]&&(1E-10<Math.abs(a.i[d])?(a.b[d]=!1,a.c[d]=!1,a.f[d]=!0):(a.b[d]=!0,a.c[d]=!1))}a.b[b]=1E-10<Math.abs(a.i[b]);a.c[b]=!a.b[b];return-1}
function Id(a,b){if(null==a.v||a.v.length<b){b=10*(2+b/10);a.v=Array(b);a.A=Array(b);for(var c=0;c<b;c++)a.v[c]=new Float64Array(b+1),a.A[c]=new Float64Array(b+1)}return a.v}function Jd(a,b,c,d){for(var e=0;e<a;e++)for(var f=b,h=c[e],k=d[e],m=0;m<f;m++)k[m]=h[m]};function Kd(){this.b=this.a=L;this.f=0;this.c=1}Kd.prototype.toString=function(){return""};function Ld(a,b){var c=b.l()-a.a.l();b=b.m()-a.a.m();return new J(a.b.l()+(c*a.c-b*a.f),a.b.m()+(c*a.f+b*a.c))}Kd.prototype.set=function(a,b,c,d){this.a=a;this.b=b;this.f=c;this.c=d};function Md(a,b){var c=b.l()-a.b.l();b=b.m()-a.b.m();var d=-a.f,e=a.c;return new J(a.a.l()+(c*e-b*d),a.a.m()+(c*d+b*e))};function Nd(a,b,c){this.c=a;this.b=b;this.i=c;this.F=Math.max(a.Ea(),b.Ea());this.J=c?0:this.F/2;c=Math.max(a.Ge(),b.Ge());if(0>=c||1<c)throw Error("accuracy must be between 0 and 1, is "+c);this.$=c*this.F/2;this.Ua=Math.max(a.Ue(),b.Ue());this.za=Math.min(a.Od(),b.Od());this.j=this.B=this.O=this.la=!1;this.g=L;this.o=null;this.f=nb;this.a=Db;this.ta=null;this.sa=this.ia=this.h=this.v=nb;this.A="";this.mb=this.lb=this.C=this.D=nb}g=Nd.prototype;g.toString=function(){return""};
function Sc(a){return a.i||Math.abs(Tc(a))<a.Ua&&0<a.f&&a.f<a.F}g.Lc=function(){return null};function Tc(a){if(isNaN(a.ia)){var b=a.a,c,d=c=0,e=0,f=0;if(isFinite(a.c.N())){c=a.Oc();d=c.l();c=c.m();var h=a.c.rb(),k=a.c.Jc();c=h.l()-k*c;d=h.m()+k*d}isFinite(a.b.N())&&(e=a.kc(),f=e.l(),e=e.m(),h=a.b.rb(),k=a.b.Jc(),e=h.l()-k*e,f=h.m()+k*f);c=new J(c-e,d-f);a.ia=vb(b,c)}return a.ia}function Od(a){return K(a.g,a.c.ca())}function Pd(a){return K(a.o?a.o:a.g,a.b.ca())}g.Oc=function(){return Od(this)};
g.kc=function(){return Pd(this)};function Qd(a,b){return a.c==b||a.b==b}g.Wb=function(){return!1};g.Qc=function(){return!1};function fd(a){return a.i?!1:0>a.f||Tc(a)<-a.Ua&&a.f<a.J-a.$?!0:!1}function Rd(a,b){if(isFinite(a.D))throw Error("detectedTime_ already set "+a);a.D=b;var c=Tc(a);a.sa=c;a.C=nb;!a.i&&-.001>c&&(a.C=b+(a.J-a.f)/c)}
g.fb=function(a){if(!isFinite(this.f))throw Error("distance is NaN "+this);this.ia=nb;if((this.O||!Sc(this))&&0>Tc(this)){var b=this.D,c=this.f,d=Tc(this),e=this.sa,f=b-a;1E-12>=f||(e=(e-d)/f,1E-12>Math.abs(e)||(f=Math.sqrt(d*d-2*e*(c-this.J)),c=a+(-d+f)/e,d=a+(-d-f)/e,e=!1,c>a&&c<b&&(this.C=c,e=!0),d>a&&d<b&&(!e||d<c)&&(this.C=d)))}else this.C=nb};function Sd(){return["none","velocity","velocity_and_distance","velocity_joints","velocity_and_distance_joints"]}function Td(a){for(var b=Sd(),c=0,d=b.length;c<d;c++)if(a===b[c])return b[c];throw Error("not found "+a);}var Ud={NONE:"keine",Ob:"Geschwindigkeit",Hg:"Geschwindigkeit+Entfernung",Jg:"Geschwindigkeit (auch Verbindungsglied)",Ig:"Geschwindigkeit+Entfernung (auch Verbindungsglied)"};function Vd(a,b,c,d,e,f){Mb.call(this,a);this.g=b;this.b=c;this.a=d;this.c=e;this.f=f}l(Vd,Mb);g=Vd.prototype;g.toString=function(){return""};g.Ja=function(){return Eb(this.a,this.ba())};g.ba=function(){return this.a.add(this.c)};g.V=function(){return this.a};g.Ya=function(){return this.c};g.pc=function(a,b){return a instanceof Vd&&a.getName()==this.getName()&&this.a.Ra(a.V(),b)&&!F(this.b,a.b,b)&&this.c.Ra(a.Ya(),b)?this.f.Ra(a.f,b):!1};function Wd(a,b,c){this.f=b;this.c=c;this.A=zb(this.f.a.add(this.c.a),.5);this.B=null;this.o=nb;this.a=a;this.D=-1;this.J=!1}Wd.prototype.toString=function(){return""};function Xd(a){isNaN(a.o)&&(a.o=1.25*a.wf(a.A));return a.o}function Yd(a){null==a.B&&(a.B=a.a.G(a.A));return a.B}Wd.prototype.sf=function(){return[]};function Zd(a){if(-1==a.D&&(a.D=xa(a.a.c,a),-1==a.D))throw Error();return a.D}Wd.prototype.Ne=function(a,b){var c=Yd(this),d=Yd(a);c=xb(K(c,d));a=Xd(a)+Xd(this)+b;return c<a*a};
function $d(a,b,c){a=a.yb(b);return b.add(zb(a,c))};function ae(a,b){Nd.call(this,a.a,b.a,!1);this.ma=a;this.aa=b;this.H=this.L=null}l(ae,Nd);g=ae.prototype;g.toString=function(){return""};g.Oc=function(){return null!=this.L?this.L:this.B?this.L=K(this.c.G(this.ma.i),this.c.ca()):Od(this)};g.kc=function(){return null!=this.H?this.H:this.j?this.H=K(this.b.G(this.aa.i),this.b.ca()):Pd(this)};g.Wb=function(a){return null==a?!1:a==this.aa||a==this.ma};
g.Ud=function(a){if(!(Qd(a,this.c)&&Qd(a,this.b)&&a.Wb(this.aa)&&a.Wb(this.ma)))return!1;var b=Ad(this.v,this.h,this.F);return xb(K(this.g,a.g))>b*b||.9>Math.abs(vb(this.a,a.a))?!1:!0};g.fb=function(a){this.H=this.L=null;this.ma.Me(this,this.aa);Nd.prototype.fb.call(this,a)};function be(a,b){var c=ce(a);if(null==c)throw Error("CornerEdgeCollision: null edge; vertex="+a);Nd.call(this,c.a,b.a,!1);this.aa=a;this.H=b;this.ma=c;this.L=null;this.Va=a.f?de(a):null;this.v=ee(a);this.B=!1}l(be,Nd);g=be.prototype;g.toString=function(){return""};g.kc=function(){if(null!=this.L)return this.L;if(this.j){this.b.Ga(this.o?this.o:this.g);var a=this.H.qf();if(null!=a)return this.L=K(this.b.G(a),this.b.ca())}return Pd(this)};
g.Wb=function(a){return null==a?!1:a==this.H||a==this.ma||this.Va==a};g.Qc=function(a){return a==this.aa};g.Ud=function(a){if(!Qd(a,this.c)||!Qd(a,this.b))return!1;if(a.Qc(this.aa))return!0;if(!a.Wb(this.H)||!a.Wb(this.ma)&&!a.Wb(this.Va))return!1;var b=Ad(this.v,this.h,this.F);return xb(K(this.g,a.g))>b*b||.9>Math.abs(vb(this.a,a.a))?!1:!0};
g.fb=function(a){this.L=null;var b=this.c.G(this.aa.a);b=this.b.Ga(b);var c=this.H.tf(b);null!=c&&(this.g=this.b.G(c[0]),this.a=this.b.oa(c[1]),this.f=this.H.hc(b),Nd.prototype.fb.call(this,a))};function fe(a,b){if(null==b)throw Error();var c=[],d=!0;if(!b.i){if(!isFinite(b.f))throw Error("distance is NaN "+b);z(a,function(a){if(b.Ud(a)){var e=a.D,h=b.D;e>h+1E-14?d=!1:h>e+1E-14?c.push(a):b.f<a.f?c.push(a):d=!1}})}0<c.length&&z(c,function(b){Ga(a,b)});d&&a.push(b)}
function ge(a,b,c,d){var e=c.Ga(b.oc()),f=he(b);null!=f&&(f=c.Jf(f));z(c.j,function(h){if(!ie(b,ce(h))||!ie(b,de(h))){var k=b.Ga(c.G(h.a)),m=k,p=0,q=b.ic(),t=c.ic();if(null!=q&&null!=t)m=Md(q,Ld(t,h.a)),p=rb(k,m);else if(null!=q||null!=t)throw Error("problem with old copy in checkVertexes");p=.01<p?Math.sqrt(p):.1;if(null!=f){if(q=vb(K(h.a,e),f),q>b.Ab()+b.Ea())return}else if(q=b.Ab()+b.Ea()+p,t=q*q,q=xb(K(h.a,e)),q>t)return;je(a,b,h,k,m,p,d)}})}
function ke(a,b,c){var d=he(a);if(null==d)throw Error();return vb(K(b.oc(),a.oc()),d)<b.Ab()+a.Ab()+c}function le(a,b,c,d,e,f){var h=new be(c,b);if(null==ce(c))throw Error();c=b.a;h.f=b.hc(e);e=c.G(d);h.g=e;d=c.oa(b.yb(d));h.a=d;h.h=b.Ld();h.j=isFinite(h.h);h.A="";Rd(h,f);fe(a,h)}
function me(a){var b,c=[];if(0==a.length)return c;c.push(a[0]);var d=[];var e=c[0];isFinite(e.c.N())&&d.push(e.c);null!=e.b&&isFinite(e.b.N())&&d.push(e.b);do{var f=c.length;var h=0;for(b=a.length;h<b;h++)e=a[h],A(c,e)||(A(d,e.c)?(c.push(e),isFinite(e.b.N())&&!A(d,e.b)&&d.push(e.b)):A(d,e.b)&&(c.push(e),isFinite(e.c.N())&&!A(d,e.c)&&d.push(e.c)))}while(f<c.length);return c}
function ne(a,b,c,d,e){var f;if(0==a.length)return[];var h=[];h.push(b);var k=[];isFinite(b.c.N())&&k.push(b.c);isFinite(b.b.N())&&k.push(b.b);if(c)for(c=0,f=a.length;c<f;c++){var m=a[c];A(h,m)||m.i||!(d[c]<e)||m.c!=b.c&&m.b!=b.b&&m.c!=b.b&&m.b!=b.c||(h.push(m),A(k,m.c)||k.push(m.c),A(k,m.b)||k.push(m.b))}do for(b=h.length,c=0,f=a.length;c<f;c++)m=a[c],A(h,m)||(A(k,m.c)&&m.i?(h.push(m),isFinite(m.b.N())&&!A(k,m.b)&&k.push(m.b)):A(k,m.b)&&m.i&&(h.push(m),isFinite(m.c.N())&&!A(k,m.c)&&k.push(m.c)));
while(b<h.length);return h}
function je(a,b,c,d,e,f,h){var k=ce(c);if(null==k)throw Error("");var m=k.a,p=b.Ea();if(!(d.l()<b.Aa()-p&&e.l()<b.Aa()||d.l()>b.Bb()+p&&e.l()>b.Bb()||d.m()<b.Fa()-p&&e.m()<b.Fa()||d.m()>b.qb()+p&&e.m()>b.qb()))for(;;){var q=null,t=null,u=I;z(b.c,function(b){if(!ie(m,b)){var k=Xd(b)+p+f;rb(b.A,d)>k*k||(k=b.Te(d,e),null==k?c.f&&(k=b.nf(c,d,p),null!=k&&(Rd(k,h),fe(a,k))):z(k,function(a){var c=K(e,a).length();c<u&&(u=c,t=a,q=b)}))}});null!=q&&null!=t&&le(a,q,c,t,d,h);break}};function oe(a,b,c){var d=b.a,e=c.a;if(c.g||b.g){e.G(c.i);d=d.G(b.i);d=e.Ga(d);d=pe(c,d);var f=d.length();if(c.g&&b.g)a.f=f-(c.b+b.b);else if(!c.g&&b.g)a.f=c.b-b.b-f;else if(c.g&&!b.g)a.f=b.b-c.b-f;else throw Error();b=zb(d,1/f);d=qe(c,zb(b,c.b));a.g=d;c.g||(b=zb(b,-1));a.a=e.oa(b)}}
function re(a,b,c,d,e,f,h,k){var m=new ae(d,c);m.f=e;m.j=!0;m.B=!0;m.A="";f=zb(h,1/f);h=qe(c,zb(f,c.b));m.g=h;c.g||(f=zb(f,-1));m.a=c.a.oa(f);m.v=(d.g?1:-1)*d.b;m.h=(c.g?1:-1)*c.b;a&&(m.v+=e/2,m.h+=e/2);Rd(m,k);fe(b,m)};function se(a,b,c,d,e,f,h,k){var m=new ae(d,c);m.j=!1;m.B=!0;m.v=d.b;m.h=I;a&&(m.v+=e);m.f=e;m.g=f;m.A="";m.a=c.a.oa(c.yb(h));Rd(m,k);fe(b,m)};function te(a,b,c){this.a=a;this.f=n(b)?b:!0;this.c=n(c)?c:null;this.b=null;ue++}te.prototype.toString=function(){return""};function S(a){return a.a.l()}function ve(a){return a.a.m()}function ee(a){var b=I;null!=a.c&&(b=a.c.Ld(),null!=a.b&&(a=a.b.Ld(),Math.abs(a)<Math.abs(b)&&(b=a)));return b}function ce(a){if(null!=a.c)return a.c;throw Error();}function de(a){if(null!=a.b)return a.b;if(null!=a.c)return a.c;throw Error();}function we(a,b){if(null==a.c)a.c=b;else throw Error();}var ue=1;function xe(a,b){var c=ce(a),d=ce(b);if(null==c||null==d)throw Error("CornerCornerCollision: null edge; vertex="+a+"; normalVertex="+b);Nd.call(this,c.a,d.a,!1);this.L=a;this.H=b}l(xe,Nd);xe.prototype.toString=function(){return""};xe.prototype.Qc=function(a){return a==this.L||a==this.H};xe.prototype.Ud=function(a){return Qd(a,this.c)&&Qd(a,this.b)?a.Qc(this.L)||a.Qc(this.H)?!0:!1:!1};
xe.prototype.fb=function(a){var b=this.c.G(this.L.a);b=this.b.Ga(b);this.g=this.b.G(this.H.a);this.f=sb(this.H.a,b);if(!isFinite(this.f))throw Error();b=Ab(K(b,this.H.a));if(null==b)throw Error();this.a=this.b.oa(b);Nd.prototype.fb.call(this,a)};function ye(a,b,c,d){Wd.call(this,a,b,c);this.b=d;if(null==b.b)b.b=this;else throw Error();we(c,this);this.J=!0}l(ye,Wd);g=ye.prototype;g.toString=function(){return""};g.zf=function(a){a.lineTo(S(this.c),ve(this.c))};function ze(a,b,c,d){var e=sb(a.f.a,c);if(1E-6<=e&&e<=.6*d)return Ae(a,a.f,b,c,e);e=sb(a.c.a,c);return 1E-6<=e&&e<=.6*d?Ae(a,a.c,b,c,e):null}g.lf=function(){return 0};
g.hc=function(a){var b=a.l();a=a.m();var c=S(this.f),d=S(this.c),e=ve(this.f),f=ve(this.c);1E-10>Math.abs(d-c)?a=this.b?b-c:c-b:1E-10>Math.abs(f-e)?a=this.b?a-e:e-a:(f=(f-e)/(d-c),d=(-e+a+b/f+f*c)/(1/f+f),c=e+f*(d-c),b-=d,e=a-c,b=Math.sqrt(b*b+e*e),a<c&&(b=-b),a=this.b?b:-b);if(isNaN(a))throw Error("");return a};
g.Ee=function(a){var b=a.l();a=a.m();var c=S(this.f),d=S(this.c),e=ve(this.f),f=ve(this.c);if(1E-10>Math.abs(d-c))return e>f&&(a>e||a<f)||f>e&&(a>f||a<e)?I:this.b?b-c:c-b;if(1E-10>Math.abs(f-e))return c>d&&(b>c||b<d)||d>c&&(b>d||b<c)?I:this.b?a-e:e-a;var h=(f-e)/(d-c);f=(-e+a+b/h+h*c)/(1/h+h);e+=h*(f-c);if(c<d&&(f<c||f>d)||d<c&&(f<d||f>c))return I;b-=f;c=a-e;b=Math.sqrt(b*b+c*c);a<e&&(b=-b);return this.b?b:-b};
g.nf=function(a,b,c){var d=b.l(),e=b.m(),f=S(this.f),h=S(this.c),k=ve(this.f),m=ve(this.c);if(1E-10>Math.abs(h-f)){var p=(f+h)/2;if(k>m&&(e>k||e<m)||m>k&&(e>m||e<k))return ze(this,a,b,c);b=this.b?d-p:p-d;if(0>b||b>c)return null;a=new be(a,this);a.f=b;e=this.a.G(new J(p,e));a.g=e;e=this.a.oa(new J(this.b?1:-1,0));a.a=e;a.j=!1;a.h=I;a.A="";return a}if(1E-10>Math.abs(m-k)){m=(k+m)/2;if(f>h&&(d>f||d<h)||h>f&&(d>h||d<f))return ze(this,a,b,c);b=this.b?e-m:m-e;if(0>b||b>c)return null;a=new be(a,this);a.f=
b;e=this.a.G(new J(d,m));a.g=e;e=this.a.oa(new J(0,this.b?1:-1));a.a=e;a.j=!1;a.h=I;a.A="";return a}m=(m-k)/(h-f);p=(-k+e+d/m+m*f)/(1/m+m);k+=m*(p-f);if(f<h&&(p<f||p>h)||h<f&&(p<h||p>f))return ze(this,a,b,c);d-=p;b=e-k;b=Math.sqrt(d*d+b*b);e<k&&(b=-b);b=this.b?b:-b;if(0>b||b>c)return null;a=new be(a,this);a.f=b;e=this.a.G(new J(p,k));a.g=e;e=Math.sqrt(1+m*m);e=this.a.oa(new J(-m/e,1/e));this.b||(e=zb(e,-1));a.a=e;a.j=!1;a.h=I;a.A="";return a};
g.Pe=function(){var a=ve(this.f),b=ve(this.c);return a<b?a:b};g.qf=function(){return null};g.Ld=function(){return I};g.Qe=function(){var a=S(this.f),b=S(this.c);return a<b?a:b};g.yb=function(){var a=S(this.f),b=S(this.c),c=ve(this.f),d=ve(this.c);if(1E-10>Math.abs(b-a))return new J(this.b?1:-1,0);if(1E-10>Math.abs(d-c))return new J(0,this.b?1:-1);b=(d-c)/(b-a);a=Math.sqrt(1+b*b);b=-b/a;a=1/a;this.b||(b=-b,a=-a);return new J(b,a)};g.tf=function(a){var b=Be(this,a);a=this.yb(a);return[b,a]};
g.Re=function(){var a=S(this.f),b=S(this.c);return a>b?a:b};g.Se=function(){var a=ve(this.f),b=ve(this.c);return a>b?a:b};g.Me=function(a,b){b.J||b.Me(a,this)};g.Te=function(a,b){if(a==b)return null;a=vd(this.f.a,this.c.a,a,b);return null==a?null:[a]};g.Ne=function(a,b){return a.J?!1:Wd.prototype.Ne.call(this,a,b)};function Ae(a,b,c,d,e){c=new xe(c,b);c.f=e;var f=a.a.G(b.a);c.g=f;b=Ab(K(d,b.a));if(null==b)return null;a=a.a.oa(b);c.a=a;c.B=!1;c.v=nb;c.j=!0;c.h=e;c.A="";return Sc(c)?c:null}
g.wf=function(a){var b=sb(this.f.a,a);a=sb(this.c.a,a);return b>a?b:a};function Be(a,b){var c=b.l(),d=b.m();b=S(a.f);var e=S(a.c),f=ve(a.f);a=ve(a.c);if(1E-10>Math.abs(e-b))return new J(b,d);if(1E-10>Math.abs(a-f))return new J(c,f);a=(a-f)/(e-b);c=(-f+d+c/a+a*b)/(1/a+a);return new J(c,f+a*(c-b))}g.df=function(a,b,c){b.J||b.df(a,this,c)};function Ce(a,b,c,d,e,f,h){Wd.call(this,a,b,c);this.i=d;this.g=f;this.b=sb(d,b.a);if(Math.abs(1E-10<this.b-sb(c.a,d)))throw Error("center is not equidistant from the two end points");this.H=e;this.F=wb(K(b.a,d));this.C=wb(K(c.a,d));1E-10>Math.abs(this.F-this.C)&&(this.C=this.F+2*Math.PI);a=this.F;d=this.C;e=this.H;1E-10>Math.abs(a-d)?(e=a,a=e+2*Math.PI):1E-10>Math.abs(Math.abs(a-d)-2*Math.PI)?(e=Math.min(a,d),a=e+2*Math.PI):a>d?e?e=d:(e=a,a=d+2*Math.PI):e?(e=d,a+=2*Math.PI):(e=a,a=d);a=[e,a];this.h=
a[0];this.j=a[1];d=this.j-this.h;a=Math.sin(d/2)-Math.sin(d)/2;d=Math.cos(d/2)-(1+Math.cos(d))/2;this.v=this.b*Math.sqrt(a*a+d*d);h=Math.max(Math.ceil((this.j-this.h)/(Math.PI/4)),Math.ceil((this.j-this.h)*this.b/(void 0===h?.3:h)));this.O=a=(this.j-this.h)/h;this.aa=[];for(d=1;d<h;d++)e=this.H?this.j-d*a:this.h+d*a,e=new J(this.i.l()+this.b*Math.cos(e),this.i.m()+this.b*Math.sin(e)),e=new te(e,!1,this),this.aa.push(e);if(null==b.b)b.b=this;else throw Error();we(c,this);this.j-this.h>=Math.PI?(this.A=
this.i,this.o=this.b):this.o=sb(this.A,b.a);this.g||(this.o*=1.2);this.L=1E-6>Math.abs(2*Math.PI-(this.j-this.h))}l(Ce,Wd);g=Ce.prototype;g.toString=function(){return""};g.zf=function(a){a.arc(this.i.l(),this.i.m(),this.b,this.F,this.C,this.H)};function pe(a,b){return K(b,a.i)}g.lf=function(){return this.b*(1-Math.sqrt(1-this.O*this.O/4))};g.hc=function(a){a=pe(this,a);return(this.g?1:-1)*(a.length()-this.b)};g.Ee=function(a){a=pe(this,a);return De(this,a)?(this.g?1:-1)*(a.length()-this.b):I};
function Ee(a,b){return b.add(a.i)}function qe(a,b){return a.a.G(b.add(a.i))}g.nf=function(a,b,c){var d=pe(this,b);if(!De(this,d))return null;var e=d.length();b=(this.g?1:-1)*(e-this.b);if(0>b||b>c)return null;c=new be(a,this);c.f=b;if(1E-10>e)throw Error("cannot get normal for point at center of circle");d=zb(d,1/e*(this.g?1:-1));c.a=this.a.oa(d);c.h=(this.g?1:-1)*this.b;c.h+=b;b=this.a.G(Ee(this,zb(d,c.h)));c.g=b;c.j=!0;c.v=ee(a);c.A="";return c};
g.Pe=function(){var a=-Math.PI/2;a+=a<this.h?2*Math.PI:0;return this.h<=a&&a<=this.j?this.i.m()-this.b:ve(this.f)<ve(this.c)?ve(this.f):ve(this.c)};g.qf=function(){return this.i};g.Ld=function(){return(this.g?1:-1)*this.b};g.sf=function(){return this.aa};g.Qe=function(){var a=Math.PI;a+=a<this.h?2*Math.PI:0;return this.h<=a&&a<=this.j?this.i.l()-this.b:S(this.f)<S(this.c)?S(this.f):S(this.c)};g.yb=function(a){a=pe(this,a);var b=a.length();if(1E-10>b)throw Error("");return zb(a,this.g?1/b:-1/b)};
g.tf=function(a){a=this.yb(a);return[Ee(this,zb(a,(this.g?1:-1)*this.b)),a]};g.Re=function(){var a=0;a+=a<this.h?2*Math.PI:0;return this.h<=a&&a<=this.j?this.i.l()+this.b:S(this.f)>S(this.c)?S(this.f):S(this.c)};g.Se=function(){var a=Math.PI/2;a+=a<this.h?2*Math.PI:0;return this.h<=a&&a<=this.j?this.i.m()+this.b:ve(this.f)>ve(this.c)?ve(this.f):ve(this.c)};
g.Me=function(a,b){if(b instanceof ye){var c=b.a,d=this.a.G(this.i),e=c.Ga(d);d=$d(b,e,-this.b);var f=Sc(a)?Be(b,e):d;e=c.G(f);f=b.yb(f);c=c.oa(f);a.f=b.hc(d);a.g=e;a.a=c}else if(b instanceof Ce)a.b==b.a?oe(a,this,b):oe(a,b,this);else throw Error();};
g.Te=function(a,b){if(a==b)return null;var c=pe(this,a),d=pe(this,b);a=b=null;if(1E-10>Math.abs(d.l()-c.l())){var e=(c.l()+d.l())/2;if(Math.abs(e)>this.b)return null;var f=Math.sqrt(this.b*this.b-e*e),h=c.m()<d.m()?c.m():d.m();c=c.m()>d.m()?c.m():d.m();h<=f&&f<=c&&(b=new J(e,f));h<=-f&&-f<=c&&(a=new J(e,-f))}else{h=(d.m()-c.m())/(d.l()-c.l());var k=1+h*h,m=c.m()-h*c.l(),p=k*this.b*this.b-m*m;if(0>p)return null;p=Math.sqrt(p);e=-(h*m+p)/k;f=(h*-m+p)/k;var q=(m-h*p)/k;k=(m+h*p)/k;m=c.l()<d.l()?c.l():
d.l();p=c.l()>d.l()?c.l():d.l();h=c.m()<d.m()?c.m():d.m();c=c.m()>d.m()?c.m():d.m();m<=e&&e<=p&&h<=q&&q<=c&&(b=new J(e,q));m<=f&&f<=p&&h<=k&&k<=c&&(a=new J(f,k))}d=c=null;null!=b&&De(this,b)&&(c=Ee(this,b));null!=a&&De(this,a)&&(d=Ee(this,a));return null==c&&null==d?null:null!=c&&null!=d?[c,d]:null!=c?[c]:[d]};function Fe(a,b,c){a=wb(a);a<b&&(a+=2*Math.PI);return b<=a&&a<=c}function De(a,b){return a.L?!0:Fe(b,a.h,a.j)}function Ge(a,b){if(a.L)return!0;b=pe(a,a.a.Ga(b));return Fe(b,a.h,a.j)}
g.wf=function(a){return sb(this.i,a)+this.b};
g.df=function(a,b,c){if(b instanceof ye){if(this.g){var d=this.a.G(this.i),e=b.a.Ga(d);d=$d(b,e,-this.b);var f=b.a.G(d),h=b.hc(d);if(0<h)h>b.a.Ea()||b.Ee(d)==I||!Ge(this,f)||(d=Be(b,e),f=b.a.G(d),se(!0,a,b,this,h,f,d,c));else{e=this.a.ic();var k=b.a.ic();if(null==e||null==k){if(null!=k||null!=e)throw Error("problem with old copy in CircleStraight");}else{var m=Ld(e,this.i);m=Md(k,m);m=$d(b,m,-this.b);m=Ld(k,m);m=Md(e,m);var p=wb(pe(this,m)),q=p+(p<this.h?2*Math.PI:0);this.h<=q&&q<=this.j||(m=(p<this.h?
this.h-p:this.h-(p-2*Math.PI))<(p>this.j?p-this.j:2*Math.PI+p-this.j)?this.h:this.j,m=Ee(this,new J(this.b*Math.cos(m),this.b*Math.sin(m))));m=Ld(e,m);m=Md(k,m);0>b.hc(m)||Ge(this,f)&&null!=b.Te(d,m)&&se(!1,a,b,this,h,f,d,c)}}}}else if(b instanceof Ce){if(b.g||this.g)if(b.g&&this.g)d=b.a.G(b.i),Ge(this,d)&&(d=this.a.G(this.i),d=b.a.Ga(d),d=pe(b,d),De(b,d)&&(e=d.length(),h=e-(this.b+b.b),h>b.a.Ea()||(0<h?re(!0,a,b,this,h,e,d,c):h<-(this.v>b.v?this.v:b.v)||re(!1,a,b,this,h,e,d,c))));else if(d=b.g?b:
this,f=b.g?this:b,!(d.b>f.b)){h=f.a.G(f.i);h=pe(d,d.a.Ga(h));if(null==h)h=!1;else{for(h=wb(h);h<d.h+Math.PI;)h+=2*Math.PI;h=d.h+Math.PI<=h&&h<=d.j+Math.PI}h&&(h=d.a.G(d.i),h=f.a.Ga(h),k=pe(f,h),De(f,k)&&(e=k.length(),h=f.b-d.b-e,h>b.a.Ea()||(0<h?re(!0,a,f,d,h,e,k,c):h<-d.v||re(!1,a,f,d,h,e,k,c))))}}else throw Error();};function He(a,b){n(a)&&""!=a?b=b?b:a:(b=Ie++,a=Je.oe+b,b=Ke.oe+b);rc.call(this,a,b);this.j=[];this.c=[];this.B=!1;this.b=null;this.$=[];this.C=null;this.Va=1;this.F=[];this.D=null;this.aa=nb;this.L=this.za=null;this.la=this.gc=this.fc=this.Ua=nb;this.ia=-1;this.J=null;this.Gc=new Kd;this.ma=.01;this.lb=.5;this.ta=.6}l(He,rc);g=He.prototype;g.toString=function(){return""};function Le(a,b,c){b=new Ce(a,Me(a),new te(b,!0),c,!1,!0);Ne(a,b)}
function Ne(a,b){if(a.B)throw Error("cannot add edges to finished Polygon");if(null==a.b)throw Error("Polygon does not have an open path to add edges to");if(b.c!=Me(a))throw Error("edge is not connected to open path");a.c.push(b);La(a.j,b.sf());b.c==a.b?Oe(a):a.j.push(b.c)}g.Da=function(a){a=this.F=Ka(this.F,a);for(var b={},c=0,d=0;d<a.length;){var e=a[d++];var f=e;f=oa(f)?"o"+(f[qa]||(f[qa]=++ra)):(typeof f).charAt(0)+f;Object.prototype.hasOwnProperty.call(b,f)||(b[f]=!0,a[c++]=e)}a.length=c};
function T(a,b,c){b=new ye(a,Me(a),new te(b,!0),c);Ne(a,b);return b}function Pe(a){var b=I,c=ob,d=I,e=ob;z(a.c,function(a){a.Qe()<b&&(b=a.Qe());a.Re()>c&&(c=a.Re());a.Pe()<d&&(d=a.Pe());a.Se()>e&&(e=a.Se())});a.Ua=b;a.fc=c;a.la=d;a.gc=e}function Qe(a,b,c,d){ge(b,a,c,d);ge(b,c,a,d);z(a.c,function(a){ie(c,a)||z(B(c.c),function(c){ie(this,c)||a.Ne(c,this.ma)&&a.df(b,c,d)},this)},a)}
function Re(a){if(!a.B)throw Error("Polygon construction is not finished.");z(a.$,function(a){var b=a;do{b=de(b);if(null==b)throw Error();b=b.c}while(b!=a)})}function Oe(a){if(a.B)throw Error("Polygon construction is finished.");if(null!=a.b){var b=Se(a);if(null!=b){if(b.c!=a.b){var c=a.b;b=b.c;if(1E-8<sb(c.a,b.a))throw Error("");var d=ce(b);if(null==d)throw Error("v2.edge1 is null; v2="+b+"; this="+a);we(c,d);d.c=c;Ga(a.j,b)}a.$.push(a.b);a.b=null}}}
g.De=function(a){a.beginPath();z(this.$,function(b){a.moveTo(S(b),ve(b));var c=b;do{var d=de(c);if(null==d)throw Error();c=d.c;d.zf(a)}while(c!=b);a.closePath()})};g.Fe=function(a){return A(this.F,a)};g.Ic=function(){this.J=null};function Te(a){var b=Array(2),c=.1*Math.max(a.S(),a.T()),d=Array(3);d[0]=new ld(a.a.l()+c,a.a.m());d[1]=new ld(a.a.l(),a.a.m()+c);d[2]=new ld(a.a.l()-c,a.a.m()-c);c=sd(d,function(b){return Ue(a,qb(b))},b);if(0!=b[1])throw Error("");return c}
function Ve(a){if(a.B)throw Error("Polygon construction is finished.");null!=a.b&&Oe(a);a.B=!0;Re(a);Pe(a);a.ra(a.Aa()+a.S()/2,a.Fa()+a.T()/2);a.S()<=a.T()?a.Eb([new J(a.Aa()+.5*a.S(),a.Fa()+.8*a.T()),new J(a.Aa()+.5*a.S(),a.Fa()+.2*a.T())]):a.Eb([new J(a.Aa()+.8*a.S(),a.Fa()+.5*a.T()),new J(a.Aa()+.2*a.S(),a.Fa()+.5*a.T())]);var b=a.S(),c=a.T();a.Ba((b*b+c*c)/12);a.L=null;a.nc()}g.Ge=function(){return this.ta};g.Fa=function(){return this.la};
g.nc=function(){null==this.D&&(this.D=Te(this),We(this,this.D));return this.D};g.Ab=function(){return this.aa};g.Ea=function(){return this.ma};g.Od=function(){return this.Va};g.Aa=function(){return this.Ua};g.Ub=function(){if(isNaN(this.g)){var a=I;z(this.c,function(b){b=b.Ee(this.a);b!=I&&(0<b?a=0:(b=-b,b<a&&(a=b)))},this);a==I&&(a=Xe(this));this.g=a}return this.g};
function Xe(a){if(isNaN(a.g)){for(var b=I,c,d=0;3>=d;d++){switch(d){case 0:c=a.a.m()-a.Fa();break;case 1:c=a.Bb()-a.a.l();break;case 2:c=a.qb()-a.a.m();break;case 3:c=a.a.l()-a.Aa();break;default:c=I}c<b&&(b=c)}a.g=b}return a.g}g.ic=function(){return this.J};g.Bb=function(){return this.fc};function he(a){var b=a.za;if(null==b)return null;var c=a.L;null==c&&(c=a.oa(b.yb(L)),a.L=c);return c}g.qb=function(){return this.gc};
function Ye(a,b,c){a=a.getName(c)+" ";switch(b){case 0:a+="X "+(c?Ke.yc:Je.yc);break;case 1:a+="X "+(c?Ke.Ob:Je.Ob);break;case 2:a+="Y "+(c?Ke.yc:Je.yc);break;case 3:a+="Y "+(c?Ke.Ob:Je.Ob);break;case 4:a+=c?Ke.Xd:Je.Xd;break;case 5:a+=c?Ke.Yd:Je.Yd;break;default:throw Error();}return a}g.wa=function(){return this.ia};g.Ue=function(){return this.lb};g.lc=function(){return Aa(this.j,function(a){return a.a})};
function Se(a){if(null==a.b)throw Error();var b=a.b.b;if(null==b)return null;for(;;){var c=b.c,d=c.b;if(null==d)break;b=d;if(c==a.b)throw Error();}return b}function Me(a){if(null==a.b)throw Error("Polygon does not have an open path to add edges to");var b=Se(a);return null==b?a.b:b.c}function Ue(a,b){var c=0;z(a.j,function(a){a=sb(b,a.a);a>c&&(c=a)});var d=0;z(a.c,function(a){a=a.lf();a>d&&(d=a)});c+=d;return c*c}
function ie(a,b){null==b?b=!0:null!=a.C?(a=a.C,b.a!=a.c?b=!1:(b=Zd(b),b=b>=a.a&&b<=a.b)):b=!1;return b}g.If=function(a){Ia(this.F,function(b){return A(a,b)})};g.Sd=function(){null==this.J&&(this.J=this.Gc);this.J.set(this.a,this.f,this.i,this.h)};g.$e=function(a){if(0>=a||1<a)throw Error("accuracy must be between 0 and 1, is "+a);this.ta=a};function We(a,b){if(null!=a.b)throw Error("setCentroid called before finish, while creating Polygon");a.D=b;a.aa=Math.sqrt(Ue(a,b))}g.Ve=function(a){this.ma=a};
g.Y=function(a){this.Va=a};g.M=function(a){if(0>=a||!r(a))throw Error("mass must be positive "+a);this.v=a;return this};g.u=function(a,b){this.f=qb(a);n(b)&&isFinite(b)&&this.o!=b&&(this.o=b,this.i=Math.sin(b),this.h=Math.cos(b),this.L=null);a=0;for(b=this.c.length;a<b;a++)this.c[a].B=null};function Ze(a,b,c){if(4!=a.c.length)throw Error("");if(0>b||3<b)throw Error();a.za=a.c[b];a.aa=c;z(a.c,function(a){a!=this.za&&(a.o=0)},a)}g.We=function(a){this.lb=a};
function $e(a,b){if(a.B)throw Error("Polygon construction is finished.");if(null!=a.b)throw Error("there is already an open path");b instanceof te?(a.b=b,a.j.push(a.b)):(a.b=b.f,a.j.push(a.b),a.c.push(b))}var Je={oe:"polygon",Xd:"angle",Yd:"angular velocity",yc:"position",Ob:"velocity"},Ke={oe:"Polygon",Xd:"Winkel",Yd:"Winkelgeschwindigkeit",yc:"Position",Ob:"Geschwindigkeit"},Ie=1;function af(a){this.a=a=Math.floor(Math.abs(a))%4294967296;bf(this.a)}af.prototype.toString=function(){return""};function bf(a){if(0>a)throw Error("random seed must be 0 or greater "+a);if(4294967296<=a)throw Error("random seed must be less than 4294967296 was "+a);if(a!=Math.floor(a))throw Error("random seed must be an integer "+a);}function cf(a){var b=1664525*a.a+1013904223;a.a=b-4294967296*Math.floor(b/4294967296);bf(a.a);return a.a}
function Ed(a,b){for(var c=Array(b),d=Array(b),e=0;e<b;e++)c[e]=-1,d[e]=e;e=b;var f=0;do{var h=e--;if(0>=h)throw Error("n must be positive");var k=cf(a)/4294967296;h=Math.floor(k*h);for(var m=k=0;m<b;m++)if(!(0>d[m])&&k++==h){c[f++]=d[m];d[m]=-1;break}}while(0>c[b-1]);return c};function df(a,b,c){var d=ef++;P.call(this,"DAMPING_LAW"+(0<d?"_"+d:""));this.a=a;this.f=b||1;this.b=[];this.c=null;null!=c&&ff(this,c);this.I(Wb(new N(this,gf.ub,hf.ub,v(this.Uh,this),v(this.Vh,this)),3));this.I(Wb(new N(this,gf.ud,hf.ud,v(this.rh,this),v(this.Hi,this)),3))}l(df,P);g=df.prototype;g.toString=function(){return""};g.Bf=function(a){if(a.Rc()&&!A(this.b,a)){var b=a.N();0<b&&isFinite(b)&&this.b.push(a)}};
g.Rb=function(){var a=[];if(0==this.a)return a;z(this.b,function(b){isFinite(b.N())&&(b=new yc("damping",b,b.ca(),1,zb(b.rb(),-this.a),1,-this.a*this.f*b.Jc()),a.push(b))},this);return a};function ff(a,b){var c=B(b.a);z(c,v(a.Bf,a));Zb(b,a);a.c=b}g.Xb=function(){null!=this.c&&gc(this.c,this)};g.Uh=function(){return this.a};g.Vb=function(){return 0};g.rh=function(){return this.f};g.ka=function(a){a.R("OBJECT_ADDED")?(a=a.P(),this.Bf(a)):a.R("OBJECT_REMOVED")&&(a=a.P(),Ga(this.b,a))};
g.Vh=function(a){this.a=a;Q(this,gf.ub)};g.Hi=function(a){this.f=a;Q(this,gf.ud)};var ef=0,gf={ub:"damping",ud:"rotate ratio"},hf={ub:"D\u00e4mpfung",ud:"Drehquotient"};function jf(a,b,c){this.b=a||0;this.c=b||0;this.a=void 0===c?nb:c}jf.prototype.toString=function(){return""};function kf(a){var b=a.b+a.c;isNaN(a.a)||(b+=a.a);return b};var lf={cc:"potential energy",Ed:"translational energy",bc:"kinetic energy",vd:"rotational energy",Dd:"total",se:"total energy"},mf={cc:"potenzielle Energie",Ed:"Translationsenergie",bc:"kinetische Energie",vd:"Rotationsenergie",Dd:"gesamt",se:"gesamte Energie"};function U(a,b){var c=nf++;P.call(this,"GRAVITY_LAW"+(0<c?"_"+c:""));this.b=a;this.f=0;this.a=[];this.c=null;null!=b&&of(this,b);this.I(Wb(new N(this,pf.Ma,qf.Ma,v(this.Yh,this),v(this.$h,this)),4));this.I(Vb(new N(this,pf.Id,qf.Id,v(this.Zh,this),v(this.U,this)),ob))}l(U,P);g=U.prototype;g.toString=function(){return""};function rf(a,b){z(b,v(a.Df,a))}g.Df=function(a){if(a.Rc()&&!A(this.a,a)){var b=a.N();0<b&&isFinite(b)&&this.a.push(a)}};
g.Rb=function(){var a=[];z(this.a,v(function(b){isFinite(b.N())&&a.push(new yc("gravity",b,b.ca(),1,new J(0,-this.b*b.N(),0),1))},this));return a};function of(a,b){rf(a,B(b.a));Zb(b,a);a.c=b}g.Xb=function(){null!=this.c&&(gc(this.c,this),this.c=null)};g.Yh=function(){return this.b};g.Vb=function(){var a=0;z(this.a,function(b){if(isFinite(b.N())){var c=b.Af();c=null!=c?c:this.f;a+=(b.ca().m()-c)*b.N()*this.b}},this);return a};g.Zh=function(){return this.f};
g.ka=function(a){var b=a.P();a.R("OBJECT_ADDED")?this.Df(b):a.R("OBJECT_REMOVED")&&Ga(this.a,b)};g.$h=function(a){this.b=a;Q(this,pf.Ma)};g.U=function(a){this.f=a;Q(this,pf.Id)};var nf=0,pf={Ma:"gravity",Id:"zero energy level"},qf={Ma:"Gravitation",Id:"Null-Energie Level"};function sf(){}g=sf.prototype;g.toString=function(){return""};g.Da=function(){};g.vb=function(){throw Error();};g.G=function(a){return qb(a)};g.kf=function(){return qc};g.De=function(a){a.beginPath();a.closePath()};g.Fe=function(){return!0};g.Ic=function(){};g.Ge=function(){return 0};g.Xe=function(){return 0};g.Jc=function(){return 0};g.Fa=function(){return ob};g.pf=function(){return ob};g.Ja=function(){return sc(this)};g.rf=function(){return L};g.nc=function(){return L};g.Ab=function(){return I};
g.oc=function(){return L};g.Ea=function(){return 0};g.Tb=function(){return[]};g.Od=function(){return 1};g.He=function(){return I};g.T=function(){return I};g.Aa=function(){return ob};g.Ie=function(){return ob};g.N=function(){return I};g.getName=function(){return"SCRIM"};g.Ub=function(){return I};g.ic=function(){return null};g.ca=function(){return L};g.Bb=function(){return I};g.Je=function(){return I};g.qb=function(){return I};g.Nc=function(){return I};g.wa=function(){return-1};g.rb=function(){return L};
g.Ue=function(){return 0};g.lc=function(){return[]};g.S=function(){return I};g.Af=function(){return null};g.Rc=function(){return!0};g.sb=function(){return I};g.R=function(a){return this.getName()==E(a)};g.If=function(){};g.oa=function(a){return qb(a)};g.Jf=function(a){return qb(a)};g.Kf=function(){return 0};g.Sd=function(){};g.$e=function(){};g.bb=function(){};g.Lf=function(){};g.ra=function(){};g.Ve=function(){};g.Eb=function(){};g.Y=function(){};g.M=function(){throw Error();};g.Ba=function(){};
g.u=function(a,b){if(0!=a.l()||0!=a.m())throw Error();if(n(b)&&0!=b)throw Error();};g.K=function(a,b){if(0!=a.l()||0!=a.m())throw Error();if(n(b)&&0!=b)throw Error();};g.We=function(){};g.U=function(){return this};g.pc=function(){return!1};g.Pf=function(){return 0};g.Ga=function(a){return qb(a)};var tf=new sf;function uf(a){P.call(this,a||"SIM");this.b=[];this.B=!1;this.h=[];this.c=null;this.a=new Ac;this.f=new Ec([Nc.re,lf.bc,lf.cc,lf.se],[Oc.re,mf.bc,mf.cc,mf.se],this.getName()+"_VARS");this.w().ai(1,2,3);this.L=this.A=null;this.I(new Qb(this,vf.ec,wf.ec,v(this.uh,this),v(this.fa,this)))}l(uf,P);g=uf.prototype;g.toString=function(){return""};g.w=function(){return this.f};g.X=function(){return Hc(this.f)};g.uh=function(){return this.B};g.fa=function(a){this.B=a;Q(this,vf.ec)};
g.reset=function(){null!=this.A&&this.A.length==this.f.a.length&&Mc(this.f,this.A);z(this.b,function(a){a.Ic()});Cc(this.a,I);this.ea();Tb(this,new Pb(this,"RESET"))};function xf(a){a.A=Ic(a.f);Tb(a,new Pb(a,"INITIAL_STATE_SAVED"))}
g.wb=function(){for(var a=this.a,b=B(a.a),c=0,d=b.length;c<d;c++)a.remove(b[c]);yf(this);b=this.f.a.length;if(4<b&&(a=this.f,b-=4,0!=b)){if(0>b||4+b>a.a.length)throw Error("deleteVariables");for(c=4;c<4+b;c++)a.a[c]=new Dc(a,"DELETED","DELETED");Tb(a,new Pb(a,"VARS_MODIFIED"))}a=0;for(b=this.b.length;a<b;a++)this.b[a].ia=-1;this.b=[];this.c=null};function ed(a){a.L=Ic(a.f);z(a.b,function(a){a.Sd()})}function gd(a){null!=a.L&&Mc(a.f,a.L,!0);z(a.b,function(a){a.Ic()})}
g.s=function(a){if(!(a instanceof sf)){if(!A(this.b,a)){for(var b=[],c=0;6>c;c++)b.push(Ye(a,c,!1));var d=[];for(c=0;6>c;c++)d.push(Ye(a,c,!0));b=Fc(this.f,b,d);a.ia=b;this.b.push(a);this.a.add(a)}zf(this,a);z(this.b,function(a){a.Ic()})}};function Af(a,b){var c=null;if(ia(b)){var d=E(b);c=Da(a.b,function(a){return a.getName()==d})}else b<a.b.length&&0<=b&&(c=a.b[b]);if(null==c)throw Error("no body "+b);return c}
function zf(a,b){b.Ic();var c=b.wa();if(0>c)throw Error("unknown body "+b);var d=a.f;R(d,c,b.ca().l());R(d,2+c,b.ca().m());R(d,4+c,b.Xe());R(d,1+c,b.rb().l());R(d,3+c,b.rb().m());R(d,5+c,b.Jc());a.w().Yb(1,2,3)}g.ea=function(){var a=this.f,b=Ic(a);Bf(this,b);b=Cf(this);R(a,1,b.c+b.a,!0);R(a,2,b.b,!0);R(a,3,kf(b),!0)};
function V(a,b){var c=Da(a.h,function(a){return b instanceof df?a instanceof df:b instanceof U?a instanceof U:!1});if(null!=c)throw Error("cannot add DampingLaw or GravityLaw twice "+c);A(a.h,b)||a.h.push(b);a.w().Yb(1,2,3)}g.Hf=function(a){a.Xb();this.w().Yb(1,2,3);return Ga(this.h,a)};function yf(a){ya(a.h,a.Hf,a);a.w().Yb(1,2,3)}function Df(a){var b=Ic(a.w());Bf(a,b);return Cf(a)}
function Cf(a){var b=0,c=0,d=0;z(a.b,function(a){isFinite(a.N())&&(c+=a.Kf(),d+=a.Pf())});z(a.h,function(a){b+=a.Vb()});return new jf(b,d,c)}function Bf(a,b){z(a.b,function(a){var c=a.wa();0>c||(a.u(new J(b[c],b[c+2]),b[c+4]),a.K(new J(b[c+1],b[c+3]),b[c+5]))},a)}
g.pb=function(a,b){Bf(this,a);z(this.b,function(c){var d=c.wa();if(!(0>d))if(c.N()==I)for(c=0;6>c;c++)b[d+c]=0;else b[d]=a[d+1],b[d+2]=a[d+3],b[d+4]=a[d+5],b[d+1]=0,b[d+3]=0,b[d+5]=0},this);z(this.h,function(a){a=a.Rb();z(a,function(a){Ef(this,b,a)},this)},this);b[this.f.b]=1;return null};
function Ef(a,b,c){var d=c.a;if(A(a.b,d)){var e=d.wa();if(!(0>e)){var f=c.Ya(),h=c.V(),k=d.N();b[e+1]+=f.l()/k;b[e+3]+=f.m()/k;b[e+5]+=((h.l()-d.ca().l())*f.m()-(h.m()-d.ca().m())*f.l())/d.sb();f=c.j;0!=f&&(b[e+5]+=f/d.sb());a.B&&(b=a.X(),c.O=b,a.a.add(c))}}}function W(a,b){if(0==a.b.length)throw Error("setElasticity: no bodies");z(a.b,function(a){a.Y(b)});Tb(a,new Pb(a,"ELASTICITY_SET",b))}
var vf={bd:"collision method",ad:"collision accuracy",dd:"distance tolerance",gd:"extra accel",dc:"random seed",ec:"show forces",zg:"show collisions",Gd:"velocity tolerance"},wf={bd:"Kollisionsmethode",ad:"Kollisionsgenauigkeit",dd:"Distanztoleranz",gd:"extra Beschleunigung",dc:"Zufallskern",ec:"Kr\u00e4fte anzeigen",zg:"Kollisionen anzeigen",Gd:"Geschwindigkeitstoleranz"};function Ff(a){uf.call(this,a);this.O=!0;this.o="serial grouped lastpass";this.j=new af(0);this.F=new Cd(this.j);this.g=.01;this.H=.5;this.C=.6;this.I(new Yb(this,vf.bd,wf.bd,v(this.$g,this),v(function(a){Gf(this,jd(a))},this),id(),id()));this.I(Wb(new N(this,vf.dd,wf.dd,v(this.Ph,this),v(this.qa,this)),5));this.I(Wb(new N(this,vf.Gd,wf.Gd,v(this.Qh,this),v(this.Ka,this)),3));this.I(Xb(Wb(new N(this,vf.ad,wf.ad,v(this.Zg,this),v(this.Z,this)),3),1));this.I(Vb(Ub(new N(this,vf.dc,wf.dc,v(this.ph,this),
v(this.ya,this))),ob))}l(Ff,uf);g=Ff.prototype;g.ph=function(){return this.j.a};g.ya=function(a){var b=this.j;bf(a);b.a=a;Q(this,vf.dc)};g.$g=function(){return this.o};function Gf(a,b){b=jd(b);a.o!=b&&(a.o=b,Q(a,vf.bd))}g.Zg=function(){return this.C};g.Z=function(a){if(0>=a||1<a)throw Error("accuracy must be between 0 and 1, is "+a);this.C=a;z(this.b,function(b){b.$e(a)});Q(this,vf.ad)};g.Ph=function(){return this.g};g.qa=function(a){this.g=a;z(this.b,function(b){b.Ve(a)});Q(this,vf.dd)};g.Qh=function(){return this.H};
g.Ka=function(a){this.H=a;z(this.b,function(b){b.We(a)});Q(this,vf.Gd)};g.fa=function(a){uf.prototype.fa.call(this,a);this.O=a};g.s=function(a){uf.prototype.s.call(this,a);a.Ve(this.g);a.We(this.H);a.$e(this.C)};g.wb=function(){uf.prototype.wb.call(this);this.F=new Cd(this.j)};
g.ua=function(a,b,c){b=b[this.f.b];var d;var e=0;for(d=this.b.length;e<d;e++){var f=this.b[e];var h=e+1;a:for(;h<d;h++){var k=this.b[h];if(f.Fe(k)||k.Fe(f))continue a;if(f.N()==I&&k.N()==I)continue a;var m=2*(f.Ub()+k.Ub())/c;if(!(m=yb(f.rb())+yb(k.rb())>m)){var p=f,q=k,t=this.g;null!=he(p)?m=ke(p,q,t):null!=he(q)?m=ke(q,p,t):(m=xb(K(q.oc(),p.oc())),p=q.Ab()+p.Ab()+t,m=m<p*p)}if(!m)continue a;Qe(f,a,k,b)}}};
function Hf(a,b,c){if(!isFinite(c.N()))return 0;if(a.c==c){var d=Od(a);var e=d.l();var f=d.m()}else if(a.b==c)d=Pd(a),e=d.l(),f=d.m();else return 0;if(b.c==c){d=Od(b);var h=d.l();d=d.m();var k=1}else if(b.b==c)d=Pd(b),h=d.l(),d=d.m(),k=-1;else return 0;return k*(a.a.l()*(b.a.l()/c.N()-f*(h*b.a.m()-d*b.a.l())/c.sb())+a.a.m()*(b.a.m()/c.N()+e*(h*b.a.m()-d*b.a.l())/c.sb()))}
function If(a){for(var b=a.length,c=Array(b),d=0;d<b;d++)c[d]=new Float64Array(b);for(var e=0;e<b;e++){var f=a[e];for(d=0;d<b;d++){var h=a[d];c[e][d]+=Hf(f,h,f.c);c[e][d]-=Hf(f,h,f.b)}}return c}
function hd(a,b){if(0==b.length)throw Error("empty array passed to handleCollisions");switch(a.o){case "simultaneous":for(var c=b.length,d=D(c),e=D(c),f=D(c),h=Xa(c),k=!1,m=0;m<c;m++){var p=b[m];d[m]=Tc(p);f[m]=Sc(p)?1:1+p.za;d[m]*=Sc(p)?1:1+p.za;h[m]=p.i;k=k||!p.i}f=If(b);Dd(a.F,f,e,d,h,a.X());d=!1;for(h=0;h<c;h++)f=b[h],1E-12<e[h]&&(d=!0),Jf(a,f,e[h]);k&&d&&a.w().Yb(1,3);a.ea();a=d;break;case "hybrid":a=Kf(a,b,!0);break;case "serial separate":a=Kf(a,b,!1,!1,!1);break;case "serial grouped":a=Kf(a,
b,!1,!0,!1);break;case "serial separate lastpass":a=Kf(a,b,!1,!1,!0);break;case "serial grouped lastpass":a=Kf(a,b,!1,!0,!0);break;default:throw Error("");}return a}
function Kf(a,b,c,d,e){d=n(d)?d:!0;e=n(e)?e:!0;var f=f||1E-5;var h=n(h)?h:!0;var k=b.length,m,p=0,q=20*k,t=q,u=D(k),C=D(k),G=D(k);var w=D(k);var x=Xa(k),H=!1;for(m=0;m<k;m++){var O=b[m];x[m]=O.i;u[m]=d?x[m]?0:O.za:O.za;C[m]=Tc(O);w[m]=C[m];H=H||!O.i}m=If(b);do{p++;h&&p>t&&(f*=2,t+=q);var sa=f,Sa=x,pa=C,cc=pa.length,ub=-1,dc=Ed(a.j,cc);for(w=0;w<cc;w++)if(O=dc[w],!Sa[O]&&pa[O]<-sa||Sa[O]&&Math.abs(pa[O])>sa){ub=O;break}w=ub;if(-1==w&&!e)break;Lf(a,c,d,f,w,x,u,C,G,b,m)}while(-1<w);d=!1;for(m=0;m<k;m++)c=
b[m],1E-12<G[m]&&(d=!0),Jf(a,c,G[m]);H&&d&&a.w().Yb(1,3);a.ea();return d}
function Lf(a,b,c,d,e,f,h,k,m,p,q){var t,u=k.length,C=Xa(u);if(-1==e)for(b=0;b<u;b++)C[b]=!0;else if(b||c)for(c=ne(p,p[e],b,k,-d),d=c.length,b=0;b<d;b++){var G=c[b],w=Ea(p,function(a){return a==G});C[w]=!0}else for(b=0;b<u;b++)C[b]=b==e;p=0;c=D(u);for(b=0;b<u;b++)c[b]=C[b]?p:-1,p+=C[b]?1:0;d=D(p);for(b=0;b<u;b++)C[b]&&(d[c[b]]=b);w=null;var x=D(p);var H=Array(p);for(b=0;b<p;b++)H[b]=new Float64Array(p);w=D(p);var O=Xa(p);for(b=0;b<u;b++)if(C[b])for(w[c[b]]=k[b],O[c[b]]=f[b],t=0;t<u;t++)C[t]&&(H[c[b]][c[t]]=
q[b][t]);for(b=0;b<p;b++)-1!=e&&(w[b]*=1+h[d[b]]),x[b]=0;if(-1!=Dd(a.F,H,x,w,O,a.X())&&(a=xd(H,x),a=Bd(a,w),!Hd(x,a,O)))throw Error("");for(b=0;b<p;b++)m[d[b]]+=x[b];for(b=0;b<u;b++)for(t=0;t<u;t++)C[t]&&(k[b]+=q[b][t]*x[c[t]])}function Jf(a,b,c){if(!b.i&&0>c){if(-1E-12>c)throw Error("");c=0}b.lb=c;0!=c&&(Mf(a,new Vd("IMPULSE1",b.c,c,b.g,b.a,Od(b))),Mf(a,new Vd("IMPULSE2",b.b,-c,null!=b.o?b.o:b.g,b.a,Pd(b))))}
function Mf(a,b){var c=b.g,d=c.N();if(isFinite(d)){var e=b.b,f=1E-4>Math.abs(e),h=a.w(),k=c.sb();c=c.wa();var m=b.Ya(),p=b.f;if(-1<c){var q=1+c;R(h,q,h.P(q)+m.l()*e/d,f);q=3+c;R(h,q,h.P(q)+m.m()*e/d,f);q=5+c;R(h,q,h.P(q)+e*(p.l()*m.m()-p.m()*m.l())/k,f)}}a.O&&(d=a.X()+.1,b.O=d,a.a.add(b))};function Nf(a){Ff.call(this,a);this.i=[];this.D=new Cd(this.j);D(4);this.v="velocity_and_distance_joints";this.I(new Yb(this,vf.gd,wf.gd,v(this.eh,this),v(function(a){X(this,Td(a))},this),[Ud.NONE,Ud.Ob,Ud.Hg,Ud.Jg,Ud.Ig],Sd()))}l(Nf,Ff);g=Nf.prototype;g.eh=function(){return this.v};function X(a,b){b=Td(b);a.v!=b&&(a.v=b,Q(a,vf.gd))}g.wb=function(){Ff.prototype.wb.call(this);this.i=[];this.D=new Cd(this.j)};
g.reset=function(){var a=hc(this,!1);Ff.prototype.reset.call(this);hc(this,a);Of(this);Tb(this,new Pb(this,"RESET"))};function Pf(a,b){if(!A(a.i,b)){var c=b.Md();if(!(A(a.b,c)||c instanceof sf))throw Error("body not found "+c);c=b.Nd();if(!(A(a.b,c)||c instanceof sf))throw Error("body not found "+c);a.i.push(b);a.a.add(b)}}function Of(a){for(var b=0,c=a.i.length;b<c;b++)a.i[b].Sc();b=0;for(c=a.b.length;b<c;b++)zf(a,a.b[b])}
g.pb=function(a,b,c){var d=0;Ff.prototype.pb.call(this,a,b,c);var e=[];this.ua(e,a,c);if(0<Ca(e,function(a){return a.i?!1:0>a.f}))return e;for(Qf(this,e);0<e.length&&(c=Rf?me(e):e,c.length>d&&(d=c.length),Sf(this,a,b,c),c.length!=e.length);)for(var f=0,h=c.length;f<h;f++)Ga(e,c[f]);return null};function Sf(a,b,c,d){var e=Tf(d),f=Uf(a,d,c,b),h=Aa(d,function(a){return a.i}),k=D(f.length);b=Dd(a.D,e,k,f,h,b[a.f.b]);-1===b&&Gd(a.D)||Vf(a,b,e,k,f,h);e=0;for(f=d.length;e<f;e++)Wf(a,d[e],k[e],c)}
function Qf(a,b){for(var c=b.length-1;0<=c;c--){var d=b[c];if(d.i?0:0>d.f)throw Error("unexpected collision at time="+a.X()+" "+d);Sc(d)||Ha(b,c)}}g.ua=function(a,b,c){var d;Ff.prototype.ua.call(this,a,b,c);c=0;for(d=this.i.length;c<d;c++)this.i[c].Qb(a,b[this.f.b])};
function Tf(a){var b=a.length;var c=b||b;for(var d=Array(b),e=0;e<b;e++)d[e]=new Float64Array(c);for(c=0;c<b;c++){e=a[c];var f=e.c.N();var h=e.c.sb();var k=e.b.N();var m=e.b.sb();for(var p=e.Oc(),q=e.kc(),t=p.l(),u=p.m(),C=q.l(),G=q.m(),w=0;w<b;w++){d[c][w]=0;var x=a[w];p=x.Oc();q=x.kc();var H=p.l();p=p.m();var O=q.l();q=q.m();isFinite(f)&&e.c==x.c&&(d[c][w]+=e.a.l()*(x.a.l()/f+(-u*H*x.a.m()+u*p*x.a.l())/h),d[c][w]+=e.a.m()*(x.a.m()/f+(-t*p*x.a.l()+t*H*x.a.m())/h));isFinite(f)&&e.c==x.b&&(d[c][w]-=
e.a.l()*(x.a.l()/f+(-u*O*x.a.m()+u*q*x.a.l())/h),d[c][w]-=e.a.m()*(x.a.m()/f+(-t*q*x.a.l()+t*O*x.a.m())/h));isFinite(k)&&e.b==x.c&&(d[c][w]-=e.a.l()*(x.a.l()/k+(-G*H*x.a.m()+G*p*x.a.l())/m),d[c][w]-=e.a.m()*(x.a.m()/k+(-C*p*x.a.l()+C*H*x.a.m())/m));isFinite(k)&&e.b==x.b&&(d[c][w]+=e.a.l()*(x.a.l()/k+(-G*O*x.a.m()+G*q*x.a.l())/m),d[c][w]+=e.a.m()*(x.a.m()/k+(-C*q*x.a.l()+C*O*x.a.m())/m))}}return d}
function Uf(a,b,c,d){for(var e=b.length,f=Array(e),h=0;h<e;h++){var k=b[h];f[h]=0;var m=k.c.N()==I,p=k.b.N()==I,q=m?-1:k.c.wa(),t=p?-1:k.b.wa(),u=0;switch(a.v){case "none":u=0;break;case "velocity":if(k.i)break;case "velocity_joints":u=Tc(k)/.025;break;case "velocity_and_distance":if(k.i)break;case "velocity_and_distance_joints":u=(.05*Tc(k)+(k.f-k.J))/(.025*.025)}f[h]+=u;u=m?0:d[1+q];var C=m?0:d[3+q],G=m?0:d[5+q],w=p?0:d[1+t],x=p?0:d[3+t],H=p?0:d[5+t],O=k.Oc(),sa=k.kc(),Sa=O.l();O=O.m();var pa=nb,
cc=nb;p||(pa=sa.l(),cc=sa.m());if(!k.la){if(k.j){var ub=k.ta;if(null!=ub)sa=ub.l(),ub=ub.m();else{var dc=k.B?k.v+k.h:k.h;sa=(u-G*O)/dc;ub=(C+G*Sa)/dc;p||(sa-=(w-H*cc)/dc,ub-=(x+H*pa)/dc)}}else sa=-H*k.a.m(),ub=H*k.a.l(),k.B&&(p||(f[h]+=-k.v*H*H));dc=m?0:u-G*O;var xj=m?0:C+G*Sa,yj=p?0:w-H*cc,zj=p?0:x+H*pa;f[h]=k.j?f[h]+(sa*(dc-yj)+ub*(xj-zj)):f[h]+2*(sa*(dc-yj)+ub*(xj-zj))}m||(f[h]+=k.a.l()*(c[q+1]-c[q+5]*O-G*G*Sa),f[h]+=k.a.m()*(c[q+3]+c[q+5]*Sa-G*G*O));p||(f[h]-=k.a.l()*(c[t+1]-c[t+5]*cc-H*H*pa),
f[h]-=k.a.m()*(c[t+3]+c[t+5]*pa-H*H*cc));if(!isFinite(f[h]))throw console.log("c= "+k),ab("nums ",Sa,O,pa,cc,G,H,u,C,w,x),Error();}return f}function Wf(a,b,c,d){b.mb=c;if(0!=c){var e=1;if(isFinite(b.c.N())){var f=new yc("contact_force"+e+"_"+b.c.getName(),b.c,b.g,1,zb(b.a,c),1);f.b=b.f;f.c=b.c.Ea();e++;Ef(a,d,f)}isFinite(b.b.N())&&(c=new yc("contact_force"+e+"_"+b.b.getName(),b.b,null==b.o?b.g:b.o,1,zb(b.a,-c),1),c.b=b.f,c.c=b.b.Ea(),Ef(a,d,c))}}
function Vf(a,b,c,d,e,f){c=xd(c,d);c=Bd(c,e);if(!Hd(d,c,f))throw d=Error,a=a.X(),d((null!=a?a.toFixed(7):null===a?"null":"undefined")+" compute_forces failed error="+b+" with tol="+Za(1E-4));}var Rf=!0;var Xf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Yf(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Zf.test(c))return b.Ke=$f(c),b.type="hex",b;a:{var d=a.match(ag);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(e!=(e&255)||a!=(a&255)||c!=(c&255))throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=bg(e.toString(16));a=bg(a.toString(16));c=bg(c.toString(16));b.Ke="#"+
e+a+c;b.type="rgb";return b}if(Xf&&(c=Xf[a.toLowerCase()]))return b.Ke=c,b.type="named",b;throw Error(a+" is not a valid color string");}var cg=/#(.)(.)(.)/;function $f(a){if(!Zf.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(cg,"#$1$1$2$2$3$3"));return a.toLowerCase()}var Zf=/^#(?:[0-9a-f]{3}){1,2}$/i,ag=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function bg(a){return 1==a.length?"0"+a:a};function dg(){return["LEFT","MIDDLE","RIGHT","FULL","VALUE"]}function eg(a){for(var b=dg(),c=0,d=b.length;c<d;c++)if(a===b[c])return b[c];throw Error("invalid HorizAlign value:  "+a);}var fg={xc:"links",ie:"mitte",zc:"rechts",fe:"voll",ze:"Wert"};function gg(a,b){if(!(r(0)&&r(0)&&r(a)&&r(b)))throw Error();if(0>a||0>b)throw Error();this.b=a;this.a=b}g=gg.prototype;g.toString=function(){return""};g.Sb=function(a){return this.b==a.b&&this.a==a.a};g.T=function(){return this.a};g.va=function(){return 0};g.na=function(){return 0};g.S=function(){return this.b};g.Za=function(){return 1E-14>this.b||1E-14>this.a};g.Ra=function(a,b){return F(0,0,b)||F(0,0,b)||F(this.b,a.b,b)||F(this.a,a.a,b)?!1:!0};var hg=new gg(0,0);function ig(){return["TOP","MIDDLE","BOTTOM","FULL","VALUE"]}function jg(a){for(var b=ig(),c=0,d=b.length;c<d;c++)if(a===b[c])return b[c];throw Error("invalid VerticalAlign value: "+a);}var kg={Dg:"oben",ie:"mitte",Wf:"unten",fe:"voll",ze:"Wert"};function lg(a,b,c,d,e,f){this.f=ib(a);this.c=ib(b);this.h=ib(c);this.g=ib(d);this.a=ib(e);this.b=ib(f);a=qc;a=a.translate(this.f,this.c);a=a.scale(this.a,-this.b);this.i=a=a.translate(-this.h,-this.g)}lg.prototype.toString=function(){return""};
function mg(a,b,c,d,e){c=eg(c||"MIDDLE");d=jg(d||"MIDDLE");e=e||1;if(1E-15>e||!isFinite(e))throw Error("bad aspectRatio "+e);var f=b.va(),h=b.b,k=b.a-f,m=b.na()-h;if(1E-15>k||1E-15>m)throw Error("simRect cannot be empty "+b);b=a.na();var p=a.va(),q=a.S();a=a.T();var t=0,u=0,C=0,G=0;"FULL"==c&&(C=q/k,t=0);"FULL"==d&&(G=a/m,u=0);if("FULL"!=c||"FULL"!=d)if("FULL"==c?(G=C*e,t=!0):"FULL"==d?(C=G/e,t=!1):(C=q/k,G=C*e,t=!0,u=Math.floor(.5+G*m),a<u&&(G=a/m,C=G/e,t=!1)),t)switch(t=0,u=Math.floor(.5+m*G),d){case "BOTTOM":u=
0;break;case "MIDDLE":u=(a-u)/2;break;case "TOP":u=a-u;break;default:throw Error("unsupported alignment "+d);}else switch(u=0,d=Math.floor(.5+k*C),c){case "LEFT":t=0;break;case "MIDDLE":t=(q-d)/2;break;case "RIGHT":t=q-d;break;default:throw Error("unsupported alignment "+c);}return new lg(p,b+a,f-t/C,h-u/G,C,G)}function ng(a,b){if(r(b))var c=void 0;else c=b.m(),b=b.l();if(!r(b)||!r(c))throw Error();return new J(a.h+(b-a.f)/a.a,a.g+(a.c-c)/a.b)}
function og(a,b){return new M(a.h+(b.va()-a.f)/a.a,a.g+(a.c-(b.na()+b.T()))/a.b,a.h+(b.va()+b.S()-a.f)/a.a,a.g+(a.c-b.na())/a.b)}function pg(a,b){return new J(qg(a,b.l()),rg(a,b.m()))}function qg(a,b){return a.f+(b-a.h)*a.a}function rg(a,b){return a.c-(b-a.g)*a.b};function sg(a,b){this.b=null!=a?a:new tc("proto");this.a=null!=b?b:null;this.H=isFinite(this.b.N())&&0<this.b.Tb().length;this.f=tg(this);this.c=ug(this.f)}g=sg.prototype;g.toString=function(){return""};g.gb=function(a){a=this.b.Ga(a);return Fb(sc(this.b),a)};
function ug(a){if(!ia(a)||""==a)return!1;var b=a.match(/^rgba\((.*),\s*\d*\.?\d+\)/);null!=b&&(a="rgb("+b[1]+")");a=Yf(a).Ke;a=$f(a);var c=[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)];a=c[0];b=c[1];var d=c[2];c=Math.max(Math.max(a,b),d);var e=Math.min(Math.min(a,b),d);if(e==c)e=a=0;else{var f=c-e;e=f/c;a=60*(a==c?(b-d)/f:b==c?2+(d-a)/f:4+(a-b)/f);0>a&&(a+=360);360<a&&(a-=360)}a=[a,e,c];return.65>a[2]||.57<a[1]&&.11>Math.abs(a[0]-.677)}
g.hb=function(a,b){a.save();var c=1/b.a,d=kc(b.i,this.b.kf());pc(d,a);this.b.De(a);vg(this)&&a.clip();var e=tg(this);e&&(a.fillStyle=e,a.fill());var f=wg(this);if(f){a.lineWidth=xg(this)/b.a;var h=yg(this);0<h.length&&na(a.setLineDash)&&(h=Aa(h,function(a){return a/b.a}),a.setLineDash(h));a.strokeStyle=f;a.stroke();a.setLineDash([])}f=zg(this);h=Ag(this);if(null!=f||null!=h)a.translate(this.b.Aa(),this.b.qb()),a.scale(c,-c),jc(Bg(this),a),null!=f&&a.drawImage(f,0,0),null!=h&&h(a);if(this.b.N()!=I){pc(d,
a);this.f!==e&&(this.f=e,this.c=ug(e));e=1/b.a;a.lineWidth=e;if(Cg(this)){f=this.b.rf();a.strokeStyle=this.c?"#ccc":"black";h=.2*Math.min(this.b.S(),this.b.T());var k=8*e;h>k&&(h=k);a.beginPath();a.moveTo(f.l()-h,f.m());a.lineTo(f.l()+h,f.m());a.stroke();a.beginPath();a.moveTo(f.l(),f.m()-h);a.lineTo(f.l(),f.m()+h);a.stroke()}if(Dg(this)){var m=4*e;e=.15*Math.min(this.b.S(),this.b.T());e<m&&(m=e);z(this.b.Tb(),function(b){a.fillStyle=this.c?"#ccc":"gray";a.beginPath();a.arc(b.l(),b.m(),m,0,2*Math.PI,
!1);a.closePath();a.fill()},this)}}Eg(this)&&(e=this.b.nc(),d=d.translate(e),(e=Fg(this))&&(d=oc(d,e)),d=d.scale(c,-c),pc(d,a),a.fillStyle=Gg(this),a.font=Eg(this),a.textAlign="center",a.fillText(this.b.getName(!0),0,a.measureText("M").width/2));a.restore()};function yg(a){return void 0!==a.B?a.B:null!=a.a?yg(a.a):[]}function Cg(a){return void 0!==a.h?a.h:null!=a.a?Cg(a.a):!1}function Dg(a){return void 0!==a.i?a.i:null!=a.a?Dg(a.a):!1}
function tg(a){return void 0!==a.j?a.j:null!=a.a?tg(a.a):"lightGray"}function zg(a){return void 0!==a.F?a.F:null!=a.a?zg(a.a):null}function Bg(a){return void 0!==a.C?a.C:null!=a.a?Bg(a.a):qc}function vg(a){return void 0!==a.J?a.J:null!=a.a?vg(a.a):!1}function Ag(a){return void 0!==a.D?a.D:null!=a.a?Ag(a.a):null}g.Xa=function(){return[this.b]};function Gg(a){return void 0!==a.v?a.v:null!=a.a?Gg(a.a):"black"}function Eg(a){return void 0!==a.A?a.A:null!=a.a?Eg(a.a):""}
function Fg(a){return void 0!==a.O?a.O:null!=a.a?Fg(a.a):0}g.$a=function(){return this.b.ca()};g.Oa=function(){return[this.b]};function wg(a){return void 0!==a.g?a.g:null!=a.a?wg(a.a):""}function xg(a){return void 0!==a.L?a.L:null!=a.a?xg(a.a):1}g.ha=function(){return void 0!==this.o?this.o:null!=this.a?this.a.ha():0};g.eb=function(){return this.H};function Hg(a){a.h=!0;return a}function Ig(a,b){a.j=b;return a}function Jg(a){a.v="gray";return a}function Kg(a,b){a.A=b;return a}g.Qa=function(a){this.b.u(a)};
g.pa=function(a){this.o=a};function Lg(a,b,c,d){Nd.call(this,a,b,d);this.H=c}l(Lg,Nd);Lg.prototype.toString=function(){return""};Lg.prototype.Lc=function(){return this.H};Lg.prototype.Ud=function(){return!1};Lg.prototype.fb=function(a){this.H.zb(this);Nd.prototype.fb.call(this,a)};function Mg(a,b,c,d,e,f){Mb.call(this,"JOINT"+Ng++);this.b=a;this.a=c;this.c=b;this.f=d;a.Da([c]);c.Da([a]);this.h=f;this.g=e}l(Mg,Mb);g=Mg.prototype;g.toString=function(){return""};g.Qb=function(a,b){var c=new Lg(this.b,this.a,this,!0);this.zb(c);Rd(c,b);Ma(a,0,0,c)};g.Sc=function(){isFinite(this.a.N())?this.a.vb(this.f,this.b.G(this.c)):isFinite(this.b.N())&&this.b.vb(this.c,this.a.G(this.f))};g.Md=function(){return this.b};g.Nd=function(){return this.a};g.Ja=function(){return Eb(this.Na(),this.jc())};
g.Kd=function(){var a=[];this.Qb(a,NaN);return a[0].f};g.Na=function(){return this.b.G(this.c)};g.jc=function(){return this.a.G(this.f)};g.zb=function(a){if(a.c!=this.b||a.b!=this.a)throw Error();if(a.Lc()!=this)throw Error();var b=this.b.G(this.c);a.g=b;a.la=1==this.g;b=1==this.g?this.h:this.a.oa(this.h);a.o=this.a.G(this.f);a.a=b;var c=K(a.g,a.o);a.f=vb(b,c);a.A="Joint"};var Ng=0;function Og(a){this.g=this.b=0;this.a=a||0;this.Ia=this.c=nb;this.D=!1;this.A=1;this.i=-1;this.J=this.v=this.o=this.j=this.C=this.B=this.h=this.f=0}Og.prototype.toString=function(){return""};function Pg(a,b){a.b=b.b;a.g=b.g;a.a=b.a;a.c=b.c;a.Ia=b.Ia;a.D=b.D;a.A=b.A;a.i=b.i;a.f=b.f;a.h=b.h;a.B=b.B;a.C=b.C;a.j=b.j;a.o=b.o;a.v=b.v;a.J=b.v}function Qg(a){return new J(a.b,a.g)}Og.prototype.l=function(){return this.b};Og.prototype.m=function(){return this.g};Og.prototype.xa=function(){return 0};function Rg(a,b){Mb.call(this,a.getName());this.b=b||9E3;this.c=D(this.b);this.f=D(this.b);this.a=D(this.b);this.h=D(this.b);this.o=D(this.b);this.i=D(this.b);this.j=D(this.b);this.C=D(this.b);this.J=D(this.b);this.v=a.g;this.g=0;this.D=Lb;b=a.j;var c=(a.h-b)/(this.b-1),d=b,e=0;this.a[0]=0;var f,h;var k=f=this.c[0]=a.a(d);var m=h=this.f[0]=a.b(d);for(b=1;b<this.b;b++){d+=c;this.c[b]=a.a(d);this.f[b]=a.b(d);var p=this.c[b]-this.c[b-1],q=this.f[b]-this.f[b-1];e+=Math.sqrt(p*p+q*q);this.a[b]=e;this.c[b]<
k&&(k=this.c[b]);this.c[b]>f&&(f=this.c[b]);this.f[b]<m&&(m=this.f[b]);this.f[b]>h&&(h=this.f[b])}this.D=new M(k,m,f,h);this.g=this.a[this.b-1]-this.a[0];for(b=0;b<this.b;b++)0==b?(this.h[0]=Sg(this,this.c,0,0),this.o[0]=Sg(this,this.f,0,0)):b==this.b-1?(this.h[b]=Sg(this,this.c,b-2,2),this.o[b]=Sg(this,this.f,b-2,2)):(this.h[b]=Sg(this,this.c,b-1,1),this.o[b]=Sg(this,this.f,b-1,1)),1E-16>Math.abs(this.h[b])?(this.i[b]=0>this.o[b]?1:-1,this.j[b]=0):1E-16>Math.abs(this.o[b])?(this.i[b]=0,this.j[b]=
0<this.h[b]?1:-1):(a=-this.h[b]/this.o[b],c=Math.sqrt(1+a*a),this.i[b]=1/c,this.j[b]=a/c,0>(0<this.h[b]?1:-1)*a&&(this.i[b]=-this.i[b],this.j[b]=-this.j[b]));for(b=0;b<this.b;b++)0==b?(this.C[0]=Sg(this,this.i,0,0),this.J[0]=Sg(this,this.j,0,0)):b==this.b-1?(this.C[b]=Sg(this,this.i,b-2,2),this.J[b]=Sg(this,this.j,b-2,2)):(this.C[b]=Sg(this,this.i,b-1,1),this.J[b]=Sg(this,this.j,b-1,1));a:{a=this.c;b=a.length;if(2>b)throw Error("array must have more than one element");c=a[0]<a[b-1];for(d=1;d<b;d++)if(c){if(a[d-
1]>a[d])break a}else if(a[d-1]<a[d])break a}this.B=new Og(this.a[0]);this.A=new Og(Tg(this));Ug(this,this.B);Ug(this,this.A)}l(Rg,Mb);Rg.prototype.toString=function(){return""};
function Vg(a,b){var c=a.length;if(2>c)throw Error("array must have more than one element");var d=a[0]<a[c-1];var e=Math.floor(c/2);if(d){var f=0;var h=c-1}else f=c-1,h=0;if(d){if(b<a[0])return-1;if(b>=a[c-1])return c}else{if(b<a[c-1])return c;if(b>=a[0])return-1}for(;1<Math.abs(h-f);)a[e]<=b?d?f=e:h=e:d?h=e:f=e,e=d?f+Math.floor((h-f)/2):h+Math.floor((f-h)/2);return e}
function Sg(a,b,c,d){var e=a.a[c],f=a.a[c+1];a=a.a[c+2];switch(d){case 0:d=e;break;case 1:d=f;break;case 2:d=a;break;default:throw Error();}var h=b[c]*(2*d-f-a)/((e-f)*(e-a));h+=b[c+1]*(2*d-e-a)/((f-e)*(f-a));return h+=b[c+2]*(2*d-e-f)/((a-e)*(a-f))}function Wg(a,b,c){var d=b.l()-a.c[c];a=b.m()-a.f[c];return d*d+a*a}function Xg(a,b,c,d){var e=Yg(a.a,a.c,c,d-1);a=Yg(a.a,a.f,c,d-1);e=b.l()-e;b=b.m()-a;return e*e+b*b}
function Zg(a,b){var c=new Og,d=b.l();b=b.m();for(var e=I,f=0;f<a.b;f++){var h=d-a.c[f],k=b-a.f[f];h=h*h+k*k;h<e&&(e=h,c.b=a.c[f],c.g=a.f[f],c.a=a.a[f],c.i=f)}return c}
function $g(a,b,c){var d=ah(a,c.i),e=Math.floor(a.b/20),f=a.g/20,h=a.a[d],k=0;do{if(1<e){h=a.a[d];var m=Wg(a,b,ah(a,d-e));var p=Wg(a,b,d);var q=Wg(a,b,ah(a,d+e))}else m=bh(a,h-f),m=Xg(a,b,m,ch(a,m,d)),p=Xg(a,b,h,d),q=bh(a,h+f),q=Xg(a,b,q,ch(a,q,d));m<p&&m<q?1<e?(d=ah(a,d-e),h=a.a[d]):(h=bh(a,h-f),d=ch(a,h,d)):q<p?1<e?(d=ah(a,d+e),h=a.a[d]):(h=bh(a,h+f),d=ch(a,h,d)):1<e?(e=Math.floor(e/2),1==e&&(a.v?(f=ah(a,d-1),f=a.a[ah(a,f+2)]-a.a[f]):(f=ah(a,d),f=0==f?0:f==a.b-1?a.b-3:f-1,f=a.a[f+2]-a.a[f]))):f/=
2;k++}while(1<e||1E-6<f);a.v?(b=bh(a,c.a),b<a.g/6&&h>5*a.g/6?(a=h-a.g-b,c.a+=a):h<a.g/6&&b>5*a.g/6?(a=h+a.g-b,c.a+=a):c.a+=h-b):c.a=h;c.i=d}Rg.prototype.Ja=function(){return this.D};function Tg(a){return a.a[a.a.length-1]}
function Yg(a,b,c,d){var e=a.length;if(b.length!=e)throw Error();d>e-4?d=e-4:0>d&&(d=0);e=b[d];var f=(b[d+1]-e)/(a[d+1]-a[d]);var h=(b[d+2]-(e+f*(a[d+2]-a[d])))/((a[d+2]-a[d])*(a[d+2]-a[d+1]));b=b[d+3]-(e+f*(a[d+3]-a[d])+h*(a[d+3]-a[d])*(a[d+3]-a[d+1]));b/=(a[d+3]-a[d])*(a[d+3]-a[d+1])*(a[d+3]-a[d+2]);return((b*(c-a[d+2])+h)*(c-a[d+1])+f)*(c-a[d])+e}
function ch(a,b,c){c>a.b-2&&(c=a.b-2);0>c&&(c=0);if(Math.abs(a.a[c]-b)>a.g/20)c=Vg(a.a,b);else for(;!(a.a[c]<=b&&b<a.a[c+1]);)if(b<a.a[c])if(0<c)--c;else break;else if(c<a.b-2)c+=1;else break;return c}function bh(a,b){a.v&&(0>b||b>a.g)&&(b-=a.g*Math.floor(b/a.g));return b}function ah(a,b){if(a.v){for(;0>b;)b+=a.b;for(;b>=a.b;)b-=a.b}else 0>b?b=0:b>=a.b&&(b=a.b-1);return b}
function Ug(a,b){var c=bh(a,b.a),d=b.i;if(0>d||d>a.b-2||a.a[d]>c||a.a[d+1]<=c)b.i=d=Vg(a.a,c);0>d&&(d=0);d>=a.b-1&&(d=a.b-2);if(!a.v){if(c<a.a[0]){Pg(b,a.B);b.a=c;b.i=d;d=b.c;b.b=a.B.b+(c-a.a[0])/Math.sqrt(1+d*d);b.g=a.B.g+d*(b.b-a.B.b);return}if(c>Tg(a)){Pg(b,a.A);b.a=c;b.i=d;d=b.c;b.b=a.A.b+(c-Tg(a))/Math.sqrt(1+d*d);b.g=a.A.g+d*(b.b-a.A.b);return}}b.b=Yg(a.a,a.c,c,d-1);b.g=Yg(a.a,a.f,c,d-1);b.J=Yg(a.a,a.o,c,d-1);b.v=Yg(a.a,a.h,c,d-1);if(1E-12>Math.abs(b.v))b.v=0,0<b.J?(b.A=1,b.c=b.Ia=I,b.j=0,b.o=
1,b.f=-1):(b.A=-1,b.c=b.Ia=ob,b.j=0,b.o=-1,b.f=1),b.h=0;else{b.A=0<b.v?1:-1;b.c=b.J/b.v;var e=Math.sqrt(1+b.c*b.c);b.j=1/e;b.o=b.c/e;-1==b.A&&(b.j=-b.j,b.o=-b.o);if(1E-12<Math.abs(b.c)){e=-1/b.c;var f=Math.sqrt(1+e*e);b.f=1/f;b.h=e/f;0<b.A*b.c&&(b.f=-b.f,b.h=-b.h)}else b.f=0,b.h=0<b.A?1:-1}b.B=Yg(a.a,a.C,c,d-1);b.C=Yg(a.a,a.J,c,d-1);if(b.D)if(2>d||d>a.b-4)b.Ia=I;else{c=a.c[d]-a.c[d-2];e=a.f[d]-a.f[d-2];f=e/c;var h=a.a[d-1];c=a.c[d+3]-a.c[d+1];e=a.f[d+3]-a.f[d+1];b.Ia=(a.a[d+2]-h)/(Math.atan(e/c)-
Math.atan(f));if(isNaN(b.Ia)||!isFinite(b.c))b.Ia=0<b.c?I:ob}}function dh(a){var b=Math.min(3E3,a.b);this.b=a;var c=a.a[0];a=Tg(a);if(a<=c)throw Error("path data is out of order");this.c=(a-c)/b;this.a=-1}function eh(a,b){var c=a.b.b;if(a.a>=c-1)return!1;if(0>a.a)a.a=0;else{var d=a.b.a[a.a];do if(a.a++,a.a>c-1){a.a=c-1;break}while(a.b.a[a.a]-d<a.c)}c=a.b.f[a.a];b.a=a.b.c[a.a];b.b=c;b.c=0;return!0};function fh(a,b,c){Mb.call(this,"PathJoint"+gh++);this.b=b;this.f=a;this.c=c;this.a=new Og}l(fh,Mb);g=fh.prototype;g.toString=function(){return""};g.Qb=function(a,b){var c=new Lg(this.b,tf,this,!0);this.zb(c);Rd(c,b);Ma(a,0,0,c)};g.Sc=function(){var a=this.b.G(this.c);this.a=Zg(this.f,a);Ug(this.f,this.a);this.b.vb(this.c,this.a)};g.Md=function(){return this.b};g.Nd=function(){return tf};g.Ja=function(){return Eb(this.Na(),this.jc())};g.Kd=function(){var a=[];this.Qb(a,NaN);return a[0].f};g.Na=function(){return this.b.G(this.c)};
g.jc=function(){return this.Na()};
g.zb=function(a){if(a.c!=this.b||a.b!=tf)throw Error();if(a.Lc()!=this)throw Error();var b=this.b.G(this.c);a.g=b;$g(this.f,b,this.a);Ug(this.f,this.a);var c;if(c=!this.f.v){c=this.a;if(1E-16>Math.abs(c.f))b=Math.abs(b.l()-c.b);else{var d=-c.h,e=c.f;b=Math.abs(d*b.l()+e*b.m()+(c.h*c.b-c.f*c.g))/Math.sqrt(d*d+e*e)}c=1E-4<b}c&&(this.a.B=0,this.a.C=0);b=this.a;b=new J(b.f,b.h);c=this.b.rb(this.c);d=new J(this.a.j,this.a.o);c=vb(c,d);a.ta=new J(this.a.B*c,this.a.C*c);a.la=!1;a.h=nb;a.j=!0;a.o=Qg(this.a);
a.a=b;c=K(a.g,a.o);a.f=vb(b,c);a.A="PathJoint"};var gh=0;function hh(a,b,c){console.log(a);null!=ih&&(b&&(a='<span class="error">'+a+"</span>"),c&&(a='<span class="warning">'+a+"</span>"),ih.innerHTML+=a+"<br>",window.scrollTo(0,document.documentElement.offsetHeight-window.innerHeight))}function jh(a,b,c){var d=kh+" ["+b+"]";a?("performance"==b&&(d+=" "+c),a=null!=kh.match(/.*error.*/),hh("passed: "+d,!1,a)):(hh("FAILED "+d,!0),ia(c)&&0<c.length&&hh(c,!0),console.trace())}var ih=null,kh="";function lh(a,b){var c=mh++;P.call(this,"GRAVITY_INVERSE_SQUARE_LAW"+(0<c?"_"+c:""));this.b=a;this.a=[];this.c=null;null!=b&&(a=B(b.a),z(a,v(this.Cf,this)),Zb(b,this),this.c=b);this.I(Wb(new N(this,nh.Ma,oh.Ma,v(this.Wh,this),v(this.Xh,this)),4))}l(lh,P);g=lh.prototype;g.toString=function(){return""};g.Cf=function(a){if(a.Rc()&&!A(this.a,a)){var b=a.N();0<b&&isFinite(b)&&this.a.push(a)}};
g.Rb=function(){var a=B(this.a),b=[],c=0,d=a.length;z(this.a,function(e){c++;var f=e.N();if(!(0>=f)&&isFinite(f))for(var h=e.ca(),k=c;k<d;k++){var m=a[k],p=m.N();if(!(0>=p)&&isFinite(p)){var q=K(h,m.ca()),t=q.length();q=Ab(q);null!=q&&(q=zb(q,this.b*f*p/(t*t)),b.push(new yc("gravity",e,e.ca(),1,zb(q,-1),1)),b.push(new yc("gravity",m,m.ca(),1,q,1)))}}},this);return b};g.Xb=function(){null!=this.c&&gc(this.c,this)};g.Wh=function(){return this.b};
g.Vb=function(){var a=0,b=B(this.a),c=0,d=b.length;z(this.a,function(e){c++;var f=e.N();if(!(0>=f)&&isFinite(f)){var h=e.Ub();e=e.ca();for(var k=c;k<d;k++){var m=b[k],p=m.N();if(!(0>=p)&&isFinite(p)){var q=m.Ub();m=K(e,m.ca()).length();a+=this.b*f*p*(1/(h+q)-1/m)}}}},this);return a};g.ka=function(a){a.R("OBJECT_ADDED")?(a=a.P(),this.Cf(a)):a.R("OBJECT_REMOVED")&&(a=a.P(),Ga(this.a,a))};g.Xh=function(a){this.b=a;Q(this,nh.Ma)};var mh=0,nh={Ma:"gravity"},oh={Ma:"Gravitation"};function Y(a,b,c){b=new He(b,c);$e(b,new te(new J(-a,0)));Le(b,new J(-a,0),L);Ve(b);We(b,L);b.Ba(a*a/2);b.Y(.8);return b}function Z(a,b,c,d){c=new He(c,d);d=a/2;var e=b/2;$e(c,new te(new J(-d,-e)));T(c,new J(d,-e),!1);T(c,new J(d,e),!0);T(c,new J(-d,e),!0);T(c,new J(-d,-e),!1);Ve(c);We(c,L);c.Ba((a*a+b*b)/12);c.Y(.8);return c}
function ph(a,b,c){if(b<-Math.PI/2||b>Math.PI/2)throw Error("angle must be within +/- pi/2");c=new He(c,void 0);var d=a/2,e=Math.cos(b),f=Math.sin(b),h=Bb(new J(-.5,-d),e,f);$e(c,new te(new J(h.l(),h.m())));h=Bb(new J(.5,-d),e,f);T(c,h,!1);h=Bb(new J(.5,d),e,f);T(c,h,0<=b);h=Bb(new J(-.5,d),e,f);T(c,h,!0);h=Bb(new J(-.5,-d),e,f);T(c,h,0>b);Ve(c);c.Ba((1+a*a)/12);We(c,L);c.Y(.8);return c}
function qh(a,b){a/=2;b/=2;var c=new He("body1",void 0);$e(c,new te(new J(a-.1,b-.1)));T(c,new J(a-.1,-(b-.1)),!1);T(c,new J(-(a-.1),-(b-.1)),!0);T(c,new J(-(a-.1),b-.1),!0);T(c,new J(a-.1,b-.1),!1);Oe(c);$e(c,new te(new J(a+.1,b+.1)));T(c,new J(-(a+.1),b+.1),!0);T(c,new J(-(a+.1),-(b+.1)),!1);T(c,new J(a+.1,-(b+.1)),!1);T(c,new J(a+.1,b+.1),!0);Oe(c);Ve(c);c.Y(.8);return c}
function rh(a,b,c,d){c=new He(c,d);$e(c,new te(new J(.05,b)));T(c,new J(.05,a+.05),!0);T(c,new J(-.05,a+.05),!0);T(c,new J(-.05,b),!1);Le(c,new J(.05,b),new J(0,0));Ve(c);c.ra(0,0);c.Eb([L]);a=Math.sqrt(.05*.05+b*b);c.Ba(a*a/2);c.Y(.8);return c}function sh(a){var b=[!0,!0,!1,!1],c=1/6;if(3>a.length||a.length!=b.length)throw Error();var d=new He(void 0,void 0),e=a[0];$e(d,new te(e));for(var f=1;f<a.length;f++)T(d,a[f],b[f-1]);T(d,e,b[a.length-1]);Ve(d);d.Ba(c);d.Y(.8);return d}
function th(a){a=new He(a,void 0);$e(a,new te(new J(-.48,-.5)));T(a,new J(.48,-.5),!1);Le(a,new J(.5,-.48),new J(.48,-.48));T(a,new J(.5,.48),!0);Le(a,new J(.48,.5),new J(.48,.48));T(a,new J(-.48,.5),!0);Le(a,new J(-.5,.48),new J(-.48,.48));T(a,new J(-.5,-.48),!1);Le(a,new J(-.48,-.5),new J(-.48,-.48));Ve(a);We(a,L);a.Ba(2/12);a.Y(.8);return a}function uh(a,b,c,d,e){if(0>c||3<c)throw Error();a=Z(a,b,d,e);Ze(a,c,0==c||2==c?a.T()/2:a.S()/2);return a}var vh=new af(0);function wh(){var a=new He("concave_circle");$e(a,new te(new J(0,-.5)));T(a,new J(3,-.5),!1);T(a,new J(3,1),!0);var b=new J(0,1);var c=Me(a);b=new te(b,!0);var d=(S(c)+S(b))/2;var e=(ve(c)+ve(b))/2;var f=S(c)-d;var h=ve(c)-e;f=Math.sqrt(f*f+h*h);h=4-f*f;if(1E-10>h)throw Error("radius 2 is too small, must be >= "+f);h=Math.sqrt(h);1E-10>Math.abs(S(b)-S(c))?d=h+d:(f=(ve(b)-ve(c))/(S(b)-S(c)),h/=Math.sqrt(1+f*f),d=-f*h+d,e=h+e);c=new Ce(a,c,b,new J(d,e),!0,!1);Ne(a,c);T(a,new J(0,-.5),!1);Ve(a);a.ra(1.5,
0);a.Y(.8);return a};function xh(a,b,c,d,e){e=e||L;d=d||1;var f,h=0,k=[];for(f=0;4>f;f++){var m=null;switch(f){case 0:m=uh(b+2*d,d,2,yh.Pb,zh.Pb);m.u(new J(e.l(),e.m()-c/2-d/2),0);h=m.Nc();break;case 1:m=uh(d,c+2*d,3,yh.Ec,zh.Ec);m.u(new J(e.l()+b/2+d/2,e.m()),0);break;case 2:m=uh(b+2*d,d,0,yh.Ae,zh.Ae);m.u(new J(e.l(),e.m()+c/2+d/2),0);break;case 3:m=uh(d,c+2*d,1,yh.Dc,zh.Dc),m.u(new J(e.l()-b/2-d/2,e.m()),0)}null!=m&&(m.M(I),m.Y(1),k.push(m),a.s(m))}for(f=0;f<k.length;f++)k[f].Da(k);return h}
function Ah(a,b){return xh(a,b.S(),b.T(),void 0,Gb(b))}var yh={Pb:"wall bottom",Ec:"wall right",Dc:"wall left",Ae:"wall top"},zh={Pb:"Wand unten",Ec:"Wand rechts",Dc:"Wand links",Ae:"Wand oben"};function Bh(){throw Error();}function Ch(a,b){V(a,new df(0,.15,a.a));a.qa(.01);a.Ka(.5);a.Z(.6);Gf(a,"serial grouped lastpass");a instanceof Nf&&X(a,"velocity");a.ya(99999);b.a=.025;b.f=new Uc(a)}y("module$exports$myphysicslab$test$CircleCircleTest.ball_ball_contact_setup",function(a,b){Ch(a,b);b=Y(.75,"ball1");b.ra(0,.2);b.u(new J(-.754,-.2),0);b.K(new J(0,0),1);a.s(b);b=Y(1,"ball2");b.ra(0,-.3);b.u(new J(.95,.3),Math.PI);a.s(b);W(a,.8);V(a,new lh(3,a.a));b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});
y("module$exports$myphysicslab$test$CircleCircleTest.concave_circle_and_ball_setup",function(a,b){Ch(a,b);b=wh();b.u(new J(0,-2),0);a.s(b);b=Y(.5,"ball");b.ra(.2,0);b.u(new J(.5,-.22),0);a.s(b);W(a,.8);V(a,new lh(3,a.a))});function Dh(){throw Error();}function Eh(a,b,c){V(a,new df(void 0===c?0:c,.5,a.a));a.Z(.6);Gf(a,"serial grouped lastpass");a.ya(99999);a.qa(.01);a.Ka(.5);a instanceof Nf&&X(a,"velocity");b.a=.025;b.f=new Uc(a)}y("module$exports$myphysicslab$test$CircleStraightTest.ball_block_collide_setup",function(a,b){Eh(a,b);b=Y(.75,"ball");b.ra(0,.2);b.u(new J(-2,2),0);b.K(new J(1,-1),1);a.s(b);b=Z(1,1,"block");b.u(new J(0,0),0);a.s(b);W(a,1)});
y("module$exports$myphysicslab$test$CircleStraightTest.ball_block_attract_setup",function(a,b){Eh(a,b);b=Y(.75,"ball");b.ra(0,.2);b.u(new J(-2,2),0);b.K(new J(.1,-.1),1);a.s(b);b=Z(1,1,"block");b.u(new J(0,0),0);b.K(new J(-.1,.1),-1);a.s(b);W(a,.8);V(a,new lh(3,a.a))});
y("module$exports$myphysicslab$test$CircleStraightTest.ball_block_contact_setup",function(a,b){Eh(a,b);b=Y(.75,"ball");b.ra(0,.2);b.u(new J(-.2525,0),0);b.K(new J(0,.6),1);a.s(b);b=Z(1,3,"block");b.u(new J(1,0),0);b.K(new J(0,-.6),0);a.s(b);W(a,.8);V(a,new lh(3,a.a));b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});
y("module$exports$myphysicslab$test$CircleStraightTest.circle_arc_block_setup",function(a,b){Eh(a,b);b.a=.01;b=new He("block-round-edge");$e(b,new te(new J(0,0)));T(b,new J(2,0),!1);T(b,new J(2,1),!0);Le(b,new J(0,1),new J(1,-.3));T(b,new J(0,0),!1);Ve(b);b.Y(.8);b.u(new J(0,-1),0);a.s(b);b=Z(1,1,"block");b.u(new J(2.5,.3),Math.PI/8-Math.PI/24);a.s(b);W(a,.8);V(a,new lh(3,a.a))});
y("module$exports$myphysicslab$test$CircleStraightTest.concave_ball_block_collide_setup",function(a,b){Eh(a,b);b.a=.01;b=wh();b.u(new J(0,-2),0);a.s(b);b=Z(1,1,"block");b.u(new J(.5,-.22),Math.PI/8-Math.PI/24);a.s(b);W(a,.8);V(a,new lh(3,a.a))});
y("module$exports$myphysicslab$test$CircleStraightTest.concave_ball_block_contact_setup",function(a,b){Eh(a,b);b.a=.01;b=wh();b.u(new J(0,-2.3228757),0);b.Y(.8);a.s(b);var c=Z(1,1,"block");c.Y(.8);for(var d=Math.PI/16,e=1.5,f=I;1E-8<Math.abs(f);){c.u(new J(0,0),d);c.Sd();b.Sd();c.u(new J(e*Math.sin(d),-e*Math.cos(d)),d);var h=[];Qe(b,h,c,0);if(0==h.length)e+=.01;else{f=I;for(var k=0,m=h.length;k<m;k++){var p=h[k];p=p.f-p.J-.001;p<f&&(f=p)}e+=f}}a.s(c);V(a,new lh(10,a.a))});
function Fh(a,b){Eh(a,b);b=Y(.75,"ball");b.u(new J(-.4,0),0);b.K(new J(0,0),0);a.s(b);b=Z(1,3,"block");b.u(new J(1.5,0),-Math.PI/4);b.K(new J(-.2,0),.5);a.s(b);W(a,.8)}y("module$exports$myphysicslab$test$CircleStraightTest.rotating_block_vs_ball_1_setup",function(a,b){Fh(a,b);W(a,1)});y("module$exports$myphysicslab$test$CircleStraightTest.rotating_block_vs_ball_0_setup",function(a,b){Fh(a,b);W(a,0)});
y("module$exports$myphysicslab$test$CircleStraightTest.ball_falls_on_floor_setup",function(a,b){Eh(a,b);yf(a);b=Y(.5,"ball");b.u(new J(0,0),0);a.s(b);var c=Z(10,1,"wall");c.M(I);c.u(new J(0,-2.5),0);a.s(c);c=c.Nc();b.U(c+b.Ub());b=new U(3,a.a);V(a,b);W(a,.8)});
y("module$exports$myphysicslab$test$CircleStraightTest.wedged_ball_setup",function(a,b){Eh(a,b,0);X(a,"velocity_and_distance");a.Z(.6);b=Y(1.5,"ball");b.ra(.4,.2);b.u(new J(-3.99,-3),0);a.s(b);b=Z(1,1,"fixed block");b.u(new J(-2.5,-5),0);b.M(I);a.s(b);b=new U(3,a.a);V(a,b);var c=xh(a,12,12,1);b.U(c);W(a,.8)});
y("module$exports$myphysicslab$test$CircleStraightTest.elastic_balls_setup",function(a,b){Eh(a,b,0);X(a,"velocity_and_distance");b=Y(.8,"ball1");b.u(new J(-5,2));b.Y(1);a.s(b);b=Y(.8,"ball2");b.u(new J(-3,2));b.Y(.8);a.s(b);b=Y(.8,"ball3");b.u(new J(-1,2));b.Y(.6);a.s(b);b=Y(.8,"ball4");b.u(new J(1,2));b.Y(.4);a.s(b);b=Y(.8,"ball5");b.u(new J(3,2));b.Y(.2);a.s(b);b=Y(.8,"ball6");b.u(new J(5,2));b.Y(0);a.s(b);b=new U(3,a.a);V(a,b);a=xh(a,12,12,1);b.U(a)});function Gh(a){this.a=a}Gh.prototype.toString=function(){return""};Gh.prototype.Rb=function(){return null!=this.a?[this.a]:[]};Gh.prototype.Xb=function(){};Gh.prototype.Vb=function(){return 0};var Hh=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Ih(a,b){return a<b?-1:a>b?1:0};var Jh;a:{var Kh=ha.navigator;if(Kh){var Lh=Kh.userAgent;if(Lh){Jh=Lh;break a}}Jh=""};function Mh(a){Mh[" "](a);return a}Mh[" "]=ja;function Nh(a,b){var c=Oh;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ph=-1!=Jh.indexOf("Opera"),Qh=-1!=Jh.indexOf("Trident")||-1!=Jh.indexOf("MSIE"),Rh=-1!=Jh.indexOf("Edge"),Sh=-1!=Jh.indexOf("Gecko")&&!(-1!=Jh.toLowerCase().indexOf("webkit")&&-1==Jh.indexOf("Edge"))&&!(-1!=Jh.indexOf("Trident")||-1!=Jh.indexOf("MSIE"))&&-1==Jh.indexOf("Edge"),Th=-1!=Jh.toLowerCase().indexOf("webkit")&&-1==Jh.indexOf("Edge");function Uh(){var a=ha.document;return a?a.documentMode:void 0}var Vh;
a:{var Wh="",Xh=function(){var a=Jh;if(Sh)return/rv:([^\);]+)(\)|;)/.exec(a);if(Rh)return/Edge\/([\d\.]+)/.exec(a);if(Qh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Th)return/WebKit\/(\S+)/.exec(a);if(Ph)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Xh&&(Wh=Xh?Xh[1]:"");if(Qh){var Yh=Uh();if(null!=Yh&&Yh>parseFloat(Wh)){Vh=String(Yh);break a}}Vh=Wh}var Oh={};
function Zh(a){return Nh(a,function(){for(var b=0,c=Hh(String(Vh)).split("."),d=Hh(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==h[0].length&&0==k[0].length)break;b=Ih(0==h[1].length?0:parseInt(h[1],10),0==k[1].length?0:parseInt(k[1],10))||Ih(0==h[2].length,0==k[2].length)||Ih(h[2],k[2]);h=h[3];k=k[3]}while(0==b)}return 0<=b})}var $h;var ai=ha.document;
$h=ai&&Qh?Uh()||("CSS1Compat"==ai.compatMode?parseInt(Vh,10):5):void 0;var bi=Qh||Ph||Th;function ci(a,b){this.width=a;this.height=b}g=ci.prototype;g.Rg=function(){return this.width*this.height};g.aspectRatio=function(){return this.width/this.height};g.Za=function(){return!this.Rg()};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
g.scale=function(a,b){b=r(b)?b:a;this.width*=a;this.height*=b;return this};function di(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new ci(a.clientWidth,a.clientHeight)}function ei(a){var b;if(bi&&!(Qh&&Zh("9")&&!Zh("10")&&ha.SVGElement&&a instanceof ha.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return oa(b)&&1==b.nodeType?b:null};var fi;(fi=!Qh)||(fi=9<=Number($h));var gi=fi,hi=Qh&&!Zh("9"),ii=function(){if(!ha.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});ha.addEventListener("test",ja,b);ha.removeEventListener("test",ja,b);return a}();function ji(a,b){this.type=a;this.c=this.target=b}ji.prototype.a=function(){};function ki(a,b){ji.call(this,a?a.type:"");this.relatedTarget=this.c=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.b=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.f=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.c=b;if(b=a.relatedTarget){if(Sh){a:{try{Mh(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==
c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.b=a.keyCode||0;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=
a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=ia(a.pointerType)?a.pointerType:li[a.pointerType]||"";this.f=a;a.defaultPrevented&&this.a()}}wa(ki,ji);var li={2:"touch",3:"pen",4:"mouse"};ki.prototype.a=function(){ki.Of.a.call(this);var a=this.f;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,hi)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var mi="closure_listenable_"+(1E6*Math.random()|0),ni=0;function oi(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.capture=!!d;this.c=e;this.key=++ni;this.Wc=this.b=!1}function pi(a){a.Wc=!0;a.listener=null;a.a=null;a.src=null;a.c=null};function qi(a){this.src=a;this.a={};this.b=0}qi.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var h=ri(a,b,d,e);-1<h?(b=a[h],c||(b.b=!1)):(b=new oi(b,this.src,f,!!d,e),b.b=c,a.push(b));return b};qi.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=ri(e,b,c,d);return-1<b?(pi(e[b]),Ha(e,b),0==e.length&&(delete this.a[a],this.b--),!0):!1};
function si(a,b){var c=b.type;c in a.a&&Ga(a.a[c],b)&&(pi(b),0==a.a[c].length&&(delete a.a[c],a.b--))}function ri(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Wc&&f.listener==b&&f.capture==!!c&&f.c==d)return e}return-1};var ti="closure_lm_"+(1E6*Math.random()|0),ui={},vi=0;function wi(a,b,c,d,e){if(d&&d.once)xi(a,b,c,d,e);else if(la(b))for(var f=0;f<b.length;f++)wi(a,b[f],c,d,e);else c=yi(c),a&&a[mi]?a.a.add(String(b),c,!1,oa(d)?!!d.capture:!!d,e):zi(a,b,c,!1,d,e)}
function zi(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=oa(e)?!!e.capture:!!e,k=Ai(a);k||(a[ti]=k=new qi(a));c=k.add(b,c,d,h,f);if(!c.a){d=Bi();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)ii||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Ci(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");vi++}}
function Bi(){var a=Di,b=gi?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function xi(a,b,c,d,e){if(la(b))for(var f=0;f<b.length;f++)xi(a,b[f],c,d,e);else c=yi(c),a&&a[mi]?a.a.add(String(b),c,!0,oa(d)?!!d.capture:!!d,e):zi(a,b,c,!0,d,e)}function Ci(a){return a in ui?ui[a]:ui[a]="on"+a}
function Ei(a,b,c,d){var e=!0;if(a=Ai(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Wc&&(f=Fi(f,d),e=e&&!1!==f)}return e}
function Fi(a,b){var c=a.listener,d=a.c||a.src;if(a.b&&!r(a)&&a&&!a.Wc){var e=a.src;if(e&&e[mi])si(e.a,a);else{var f=a.type,h=a.a;e.removeEventListener?e.removeEventListener(f,h,a.capture):e.detachEvent?e.detachEvent(Ci(f),h):e.addListener&&e.removeListener&&e.removeListener(h);vi--;(f=Ai(e))?(si(f,a),0==f.b&&(f.src=null,e[ti]=null)):pi(a)}}return c.call(d,b)}
function Di(a,b){if(a.Wc)return!0;if(!gi){if(!b)a:{b=["window","event"];for(var c=ha,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new ki(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.c;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;0<=e;e--){b.c=d[e];var f=Ei(d[e],a,!0,b);c=c&&f}for(e=0;e<d.length;e++)b.c=d[e],f=Ei(d[e],a,!1,b),c=c&&f}return c}return Fi(a,
new ki(b,this))}function Ai(a){a=a[ti];return a instanceof qi?a:null}var Gi="__closure_events_fn_"+(1E9*Math.random()>>>0);function yi(a){if(na(a))return a;a[Gi]||(a[Gi]=function(b){return a.handleEvent(b)});return a[Gi]};function Hi(a,b,c,d){this.g=a;this.b=b;this.h=c;this.c=b();a=null;oa(d)?(b=ei(d),null!=b&&"LABEL"==b.tagName&&(a=b)):(d=document.createElement("input"),d.type="checkbox",a=document.createElement("LABEL"),a.appendChild(d),a.appendChild(document.createTextNode(this.g)));this.a=d;this.a.checked=this.c;this.i=null!==a?a:this.a;wi(this.a,"change",this.Mh,!0,this)}g=Hi.prototype;g.toString=function(){return""};g.ja=function(){return this.i};g.Mh=function(){Ii(this,!this.b())};g.ka=function(){Ii(this,this.b())};
g.xb=function(a){this.a.disabled=!a};function Ii(a,b){a.b()!=b&&a.h(b);a.c!=a.b()&&(a.c=a.b(),a.a.checked=a.c)};function Ji(a,b){Hi.call(this,a.getName(!0),v(a.P,a),v(a.Vc,a),b);this.f=a;Zb(this.f.ga(),this)}l(Ji,Hi);Ji.prototype.toString=function(){return""};Ji.prototype.ka=function(a){a==this.f&&Hi.prototype.ka.call(this,a)};function Ki(a,b,c,d,e){this.h=c;this.j=d;this.g=a;this.c=b;this.b=xa(this.c,c());this.a=document.createElement("select");Li(this);this.i=ia(e)?e:"";a=null;0<this.i.length&&(a=document.createElement("LABEL"),a.appendChild(document.createTextNode(this.i)),a.appendChild(this.a));this.a.selectedIndex=this.b;this.o=null!==a?a:this.a;wi(this.a,"change",this.Hh,!0,this)}g=Ki.prototype;g.toString=function(){return""};
function Li(a){for(var b=a.a.options.length=0,c=a.g.length;b<c;b++)a.a.options[b]=new Option(a.g[b])}g.ja=function(){return this.o};g.Hh=function(){this.a.selectedIndex!==this.b&&Mi(this,this.a.selectedIndex)};g.ka=function(){var a=xa(this.c,this.h());Mi(this,a)};
function Mi(a,b){if(a.b!==b){var c=a.a.options.length;if(a.c.length!=c)throw Error("ChoiceControl: values_.length="+a.c.length+" but menu.options.length="+c);try{-1>b?b=-1:b>c-1&&(b=c-1),a.b=b,-1<b&&a.j(a.c[b])}catch(d){alert(d),a.b=xa(a.c,a.h())}a.a.selectedIndex=a.b}}g.xb=function(a){this.a.disabled=!a};function Ni(a,b,c,d){c=void 0!==c?c:a.Kc();d=void 0!==d?d:a.Tc();b=void 0!==b?b:a.getName(!0);Ki.call(this,c,d,v(a.Pd,a),v(a.Xc,a),b);this.f=a;Zb(this.f.ga(),this)}l(Ni,Ki);Ni.prototype.toString=function(){return""};Ni.prototype.ka=function(a){a.P()==this.f&&a.R("CHOICES_MODIFIED")?setTimeout(v(this.v,this),50):a==this.f&&Ki.prototype.ka.call(this,a)};
Ni.prototype.v=function(){var a=this.f.Kc();if(!Ra(this.g,a)){var b=this.f.Tc();if(a.length!=b.length)throw Error();this.g=a;this.c=b;this.b=xa(this.c,this.h());Li(this);this.a.selectedIndex=this.b}};function Oi(a,b,c){this.b=document.createElement("button");this.b.type="button";n(c)?(this.b.className="icon",this.b.appendChild(c)):this.b.appendChild(document.createTextNode(a));this.f=b;wi(this.b,"mousedown",this.Lh,!0,this);wi(this.b,"mouseup",this.uf,!0,this);wi(this.b,"dragleave",this.uf,!1,this);this.c=void 0;this.a=0}g=Oi.prototype;g.toString=function(){return""};g.ja=function(){return this.b};g.Lh=function(){this.vf()};g.uf=function(){n(this.c)&&(clearTimeout(this.c),this.c=void 0)};
g.vf=function(){this.f();if(0<this.a){var a=n(this.c)?this.a:2*this.a;this.c=setTimeout(v(this.vf,this),a)}};g.xb=function(a){this.b.disabled=!a};function Pi(a){this.a=a||Lb;this.o="14pt sans-serif";this.c="gray";this.g=0;this.h="VALUE";this.j=0;this.b="VALUE";this.f=0;this.Le="x";this.Vd="y";this.i=100}g=Pi.prototype;g.toString=function(){return""};g.gb=function(){return!1};
g.hb=function(a,b){a.save();a.strokeStyle=this.c;a.fillStyle=this.c;a.font=this.o;a.textAlign="start";a.textBaseline="alphabetic";var c=this.a;var d=c.va(),e=c.a,f=c.b,h=c.na();var k=e-.06*(e-d);var m=d+.01*(e-d);switch(this.b){case "VALUE":var p=this.j;p<m?p=m:p>k&&(p=k);k=qg(b,p);break;case "RIGHT":k=qg(b,k);break;case "LEFT":k=qg(b,m);break;default:k=qg(b,Hb(c))}m=rg(b,h);p=rg(b,f);switch(this.h){case "VALUE":c=rg(b,this.g);c<m+30?c=m+30:c>p-30&&(c=p-30);break;case "TOP":c=m+30;break;case "BOTTOM":c=
p-30;break;default:c=rg(b,Ib(c))}a.beginPath();a.moveTo(qg(b,d),c);a.lineTo(qg(b,e),c);a.stroke();d=c;m=this.a;e=d-4;c=e+8;var q=m.va();m=m.a;p=Qi(this,m-q);for(var t=Math.ceil(q/p)*p;t<m;){q=qg(b,t);a.beginPath();a.moveTo(q,e);a.lineTo(q,c);a.stroke();var u=t+p;if(u>t)t=t.toFixed(this.f),a.fillText(t,q-a.measureText(t).width/2,c+12);else{a.fillText("scale is too small",q,c+12);break}t=u}a.fillText(this.Le,qg(b,m)-a.measureText(this.Le).width-5,d-8);a.beginPath();a.moveTo(k,rg(b,f));a.lineTo(k,rg(b,
h));a.stroke();f=k;d=this.a;h=f-4;k=h+8;c=d.b;d=d.na();e=Qi(this,d-c);for(p=Math.ceil(c/e)*e;p<d;){c=rg(b,p);a.beginPath();a.moveTo(h,c);a.lineTo(k,c);a.stroke();m=p+e;if(m>p)p=p.toFixed(this.f),q=a.measureText(p).width,"RIGHT"===this.b?a.fillText(p,k-(q+10),c+6):a.fillText(p,k+5,c+6);else{a.fillText("scale is too small",k,c);break}p=m}h=a.measureText(this.Vd).width;"RIGHT"===this.b?a.fillText(this.Vd,f-(h+6),rg(b,d)+13):a.fillText(this.Vd,f+6,rg(b,d)+13);a.restore()};g.Xa=function(){return[]};
function Qi(a,b){var c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10));b/=c;c*=8<=b?2:5<=b?1:3<=b?.5:2<=b?.4:.2;b=Math.log(c)/Math.LN10;a.f=0>b?Math.ceil(-b):0;return c}g.$a=function(){return L};g.Oa=function(){return[]};g.ha=function(){return this.i};g.eb=function(){return!1};g.La=function(a){this.c=a};g.Qa=function(){};function Ri(a){a.h="BOTTOM";r(void 0)&&(a.g=void 0)}function Si(a){a.b="LEFT";r(void 0)&&(a.j=void 0)}g.pa=function(a){n(a)&&(this.i=a)};function Ti(a,b){this.v=a;this.o=b;this.b=r(2)?2:1;this.a=oa(void 0)?void 0:L;this.f="14pt sans-serif";this.A="blue";this.j=this.g=1;this.i="black";this.h="rgba(255, 255, 255, 0.75)";this.c=0}g=Ti.prototype;g.toString=function(){return""};g.gb=function(a){return sb(a,this.a)<=this.b};
g.hb=function(a,b){var c=pg(b,this.a),d=this.b*b.a;a.save();a.beginPath();a.arc(c.l(),c.m(),d,0,2*Math.PI,!1);a.closePath();a.lineWidth=this.j;a.strokeStyle=this.i;a.stroke();a.fillStyle=this.h;a.fill();d=this.v();var e=this.o();Ui(this,a,b,"blue",d,c);Ui(this,a,b,"red",e,c);b=d.toFixed(3);a.fillStyle=this.A;a.font=this.f;a.textAlign="center";a.fillText(b,c.l(),c.m());a.restore()};
function Ui(a,b,c,d,e,f){e-=2*Math.floor(e/2);var h=e/2;e=a.b*Math.sin(2*Math.PI*h)*c.a;c=a.b*Math.cos(2*Math.PI*h)*c.b;b.lineWidth=a.g;b.strokeStyle=d;b.beginPath();b.moveTo(f.l(),f.m());b.lineTo(f.l()+e,f.m()-c);b.stroke()}g.eb=function(){return!0};g.Xa=function(){return[]};g.$a=function(){return this.a};g.Oa=function(){return[]};g.ha=function(){return this.c};g.Qa=function(a){this.a=a};g.pa=function(a){this.c=n(a)?a:0};var Vi={Bc:"show clock"},Wi={Bc:"Zeit anzeigen"};function Xi(a,b){if(this.a=a)a.spellcheck=!1;if(this.f=b)b.spellcheck=!1;this.a&&wi(this.a,"keydown",this.B,!1,this);this.a&&wi(this.a,"change",this.C,!0,this);this.A=!1;this.g=[];this.b=-1;this.J=[];this.j=!1;this.o=[];this.D="myphysicslab goog length name terminal find".split(" ");this.h=null;this.i=0}Xi.prototype.toString=function(){return""};function Yi(a,b){a.A?console.log(b):(a.A=!0,alert(b))}
function Zi(a){return a.replace(/\\(x|u00)([0-9a-fA-F]{2})/g,function(a,c,d){return String.fromCharCode(Number("0x"+d))})}function $i(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16)})}
Xi.prototype.eval=function(a,b,c){b="boolean"==typeof b?b:!0;if((c=c||!1)&&!b)throw Error();a=Zi(a).trim();if(!a.match(/^\s*$/)){this.i++;1<this.i&&(b=!1);b?(this.g.unshift(a),this.b=-1):(this.o.push(this.c),this.c=void 0);try{var d=a,e=/^\w\s*\[\s*\d*\s*\]$/,f=d.match(/\w\s*\[[^\]]*?\]/g);if(null!=f)for(var h=0,k=f.length;h<k;h++)if(!e.test(f[h]))throw Error("prohibited usage of square brackets in script: "+d+" Only positive integer is allowed in brackets.  Try using Util.get(array, index) or Util.set(array, index, value).");
for(f=["",a];f=aj(f[1]),f[0];){var m=f[0].trim();if(0!=m.length)a:{b&&bj(this,"> "+m);if(null!=this.h){b:{var p=this.h;k=m;";"==k.slice(-1)&&(k=k.slice(0,k.length-1));d=0;for(var q=p.b.length;d<q;d++)if(k.toLowerCase()==p.b[d]){var t=p.j[d]();break b}var u=k.split("="),C=E(u[0].trim()),G=cj(p,C);if(null==G||2<u.length)t=void 0;else{if(2==u.length)try{var w=u[1].trim();if(2>w.length)var x=w;else{var H=w.charAt(0);if(H!=w.charAt(w.length-1)||'"'!=H&&"'"!=H)x=w;else{k="";d=1;for(var O=w.length-1;d<O;d++){var sa=
w[d];if("\\"==sa)if(d++,d<O)switch(sa=w[d],sa){case "0":k+="\x00";break;case "b":k+="\b";break;case "t":k+="\t";break;case "n":k+="\n";break;case "v":k+="\v";break;case "f":k+="\f";break;case "r":k+="\r";break;case '"':k+='"';break;case "'":k+="'";break;case "\\":k+="\\";break;default:k+="\\"+sa}else k+=sa;else k+=sa}x=k}}G.Xc(x)}catch(pa){throw pa.message+='\nwhile setting value "'+x+'" on parameter '+C,pa;}t=G.P()}}if(void 0!==t){this.c=t;break a}}var Sa=dj(this,m);console.log("JavaScript is disabled due to advanced compilation; try a simple-compiled version: "+
Sa);bj(this,"JavaScript is disabled due to advanced compilation; try a simple-compiled version");this.c=void 0}}b&&n(this.c)&&";"!=a.slice(-1)&&bj(this,String(this.c));b&&n(this.v)&&this.v()}catch(pa){if(b?(this.c=void 0,bj(this,pa)):this.c=this.o.pop(),!c)throw this.i--,pa.message+="\nScript: "+a,pa;}this.i--;if(b)return ej(this),this.c;a=this.c;this.c=this.o.pop();return a}};
function dj(a,b){b=fj(b);for(var c="",d=0;b;){if(1E4<++d)throw Error("Terminal.expand");var e=b.match(/^[^'"/]+/);if(null!==e&&(e=e[0],b=b.slice(e.length),e=Ba(a.J,function(a,b){return a.replace(b.$i,b.replace)},e),gj(e,a.D),c+=e,0==b.length))break;if(c.match(/.*[=(][ ]*$/)&&(e=b.match(/^\/[^*/](\\\/|[^\\/])*\//),null!==e)){e=e[0];b=b.slice(e.length);c+=e;continue}0<b.length&&"/"==b[0]?(c+="/",b=b.slice(1)):(e=b.match(/^"(\\.|[^\\"])*"/),null!==e?(e=e[0],b=b.slice(e.length),c+=e):0<b.length&&'"'==
b[0]?(c+='"',b=b.slice(1)):(e=b.match(/^'(\\.|[^\\'])*'/),null!==e?(e=e[0],b=b.slice(e.length),c+=e):0<b.length&&"'"==b[0]&&(c+="'",b=b.slice(1))))}return c}
Xi.prototype.B=function(a){this.a&&this.f&&(a.metaKey&&75==a.b?(this.f.value="",a.a()):38==a.b||40==a.b?(-1==this.b&&""!=this.a.value&&(this.g.unshift(this.a.value),this.b=0),38==a.b?this.b<this.g.length-1&&(this.b++,this.a.value=this.g[this.b]):40==a.b&&(0<this.b?(this.b--,this.a.value=this.g[this.b]):(this.b=-1,this.a.value="")),a.a()):13==a.b&&this.eval(this.a.value,!0,!0))};Xi.prototype.C=function(){this.a&&this.eval(this.a.value,!0,!0)};
function hj(){var a=window.location.href,b=a.indexOf("?");-1<b&&(a=a.slice(0,b));return a}function bj(a,b){a.f&&(a.f.value+=b+"\n",ej(a))}function ij(a){a.j=!0;try{var b=window.localStorage;if(null!=b){var c=b.getItem(hj());c&&(bj(a,"//start of stored scripts"),z(c.split("\n"),function(a){this.eval(a)},a),bj(a,"//end of stored scripts"))}}catch(d){bj(a,"//cannot access localStorage due to: "+d)}a.j=!1}function fj(a){var b=a.match(/^\s*var\s+(\w[\w_\d]*)(.*)/);return b?b[1]+b[2]:a}
function ej(a){a.a&&a.f&&(a.f.scrollTop=a.f.scrollHeight-a.f.offsetHeight,a.a.value="")}function jj(a,b){a.v=b}
function aj(a){var b=0,c="",d="",e=!1,f=!1,h=!1,k="",m;var p=0;for(m=a.length;p<m;p++){var q=d;" "!=d&&"\t"!=d&&"\n"!=d&&(c=d);d=a[p];var t=p+1<m?a[p+1]:"\x00";if(e){if("\n"==d&&(e=!1,0==b))break}else if(f)"/"==d&&"\\"!=q&&(f=!1);else if(h)d==k&&"\\"!=q&&(h=!1,k="");else if("/"==d)"/"==t?e=!0:"*"==t||!c||"="!=c&&"("!=c||(f=!0);else if('"'==d||"'"==d)h=!0,k=d;else if(";"==d&&0==b)break;else"{"==d?b++:"}"==d&&b--}return[a.slice(0,p+1),a.slice(p+1)]}
function gj(a,b){for(var c in window){a:{var d=0;for(var e=b.length;d<e;d++)if(c==b[d]){d=!1;break a}d=(new RegExp("\\b"+c+"\\b","g")).test(a)}if(d)throw Error('prohibited name: "'+c+'" found in script: '+a);}if(/\b(myEval|Function|with|__proto__|call|apply|caller|callee|arguments|addWhiteList|vetCommand|badCommand|whiteList_|addRegex|addRegex2|regexs_|afterEvalFn_|setAfterEval|parentNode|parentElement|innerHTML|outerHTML|offsetParent|insertAdjacentHTML|appendChild|insertBefore|replaceChild|removeChild|ownerDocument|insertBefore|setParser|defineNames|globalEval|window|defineProperty|defineProperties|__defineGetter__|__defineSetter__)\b/g.test(a))throw Error("prohibited name in script: "+
a);};function kj(a,b){lj(a);this.c=a;this.h=la(b)?b:[];Ia(this.c,function(a){return A(this.h,a)},this);this.c=Ja(this.c,this.h);this.v=[];this.i=[];this.f=[];this.a=[];this.g=[];this.A=[];this.b=[];this.j=[];this.o=[];mj(this,"url",v(function(){return nj(this)},this),"prints URL with script to recreate current state");mj(this,"script",v(function(){return oj(this)},this),"prints script to recreate current state");mj(this,"values",v(function(){return $a(pj(this,!1,!0,!0)+pj(this,!0,!0,!0))},this),"shows available parameters and their current values");
mj(this,"names",v(function(){return $a(B(this.f).join(";"))},this),"shows available parameter names (format is SUBJECT.PARAMETER)");mj(this,"help",v(function(){var a='myPhysicsLab version 2.0.0, advanced-compiled on 2020-02-21 13:12:37.\nUse the "values" command to see what can be set and the syntax.\n\ncommand-K            clear Terminal window\narrow up/down        retrieve previous or next command\n';for(var b=0,e=this.b.length;b<e;b++){for(var f=this.b[b];20>f.length;)f+=" ";a+=f+" "+this.o[b]+
"\n"}return a},this),"prints this help text");qj(this)}kj.prototype.toString=function(){return""};function mj(a,b,c,d){a.b.push(b);a.j.push(c);a.o.push(d)}function lj(a){var b=[];z(a,function(a){a=a.getName();if(A(b,a))throw Error("duplicate Subject name: "+a);b.push(a)})}
function cj(a,b){b=E(b);var c=b.split(".");if(1==c.length){var d="";var e=c[0]}else if(2==c.length)d=c[0],e=c[1];else return null;if(""==d){if(1<Ca(a.a,function(a){return a==e}))throw Error("multiple Subjects have Parameter "+e);b=xa(a.a,e)}else b=xa(a.f,b);return-1<b?a.g[b].Qd(e):null}kj.prototype.ga=function(){var a=E(void 0);return Da(this.c,function(b){return b.getName()==a})};
function pj(a,b,c,d){b=1==b;var e=Aa(a.g,function(a,b){return a.Qd(this.a[b])},a),f=e;c||(f=za(f,function(a){return!a.mc()}));f=za(f,function(a){return A(this.h,a.ga())==b},a);var h=/^[a-zA-Z0-9_]+$/;a=Aa(f,function(a){var b=E(a.getName()),c=xa(e,a),f=a.P();ia(f)&&!h.test(f)&&(f='"'+f+'"');return!d&&this.A[c]?b+"="+f:E(a.ga().getName())+"."+b+"="+f},a);return 0<a.length?a.join(";")+";":""}
function oj(a){var b=pj(a,!1).split(";");b=Ja(b,pj(a,!0).split(";"));var c=Ja(a.v,a.i);Ia(b,function(a){return A(c,a)});return b.join(";")+(0<b.length?";":"")}function nj(a){return window.location.href.replace(/\.html\?.*$/,".html")+"?"+$i(oj(a))}
function qj(a){var b=Ba(a.c,function(a,b){b=za(b.getParameters(),function(a){return"DELETED"!=a.getName()});return a.concat(b)},[]);a.g=Aa(b,function(a){return a.ga()});a.a=Aa(b,function(a){return E(a.getName())});a.f=Aa(b,function(a){return E(a.ga().getName()+"."+a.getName())});a.A=Aa(a.a,function(a){return 1==Ca(this.a,function(b){return b==a})},a);a.i=pj(a,!0).split(";")}
var rj={Gg:"mitteilen",ug:"Dr\u00fccken Sie command-C um diesen URL in die Zwischenablage zu kopieren, dies beinhaltet die eingegebenen Parameter.",Ng:"Achtung: URL is l\u00e4nger als 2048 Zeichen."};function sj(a){this.sa="10pt sans-serif";this.Ua=a;this.a=Lb;this.A=this.f=this.b=0;this.c=10;this.o=2;this.i=!0;this.$="#666";this.la="#999";this.za="#ccc";this.J=fb();this.L=this.H=this.O=0;this.ia=1;this.aa=ob;this.g=this.D=this.C=this.h=0;this.v=Array(12);this.B=0;this.j=Lb;this.F=!0;this.ma=0}g=sj.prototype;g.toString=function(){return""};g.gb=function(a){return Fb(this.a,a)};
g.hb=function(a,b){if(!this.j.Za()){a.save();a.font=this.sa;a.textAlign="start";a.textBaseline="alphabetic";var c=Df(this.Ua),d=c.c,e=c.b,f=c.a,h=tj.Ed+",";isNaN(f)&&(h=tj.bc+",");var k=58/b.b;if(this.F||this.a.Za()||F(k,this.a.T())){var m=this.a.Za()?this.j.na():this.a.na(),p=m-k;m>this.j.na()||k>this.j.T()?(m=this.j.na(),p=m-k):p<this.j.b&&(p=this.j.b,m=p+k);this.a=new M(this.j.va(),p,this.j.a,m);this.i=!0;this.F=!1}this.f=qg(b,this.a.va())+10;this.A=qg(b,this.a.a);k=this.A-this.f;b=rg(b,this.a.na());
a.fillStyle="rgba(255,255,255,0.75)";a.fillRect(this.f-10,b,k+10,58);this.g=d+e+(isNaN(f)?0:f);this.D=0>e?e:0;.3<fb()-this.aa&&(this.aa=fb(),this.L=this.H,this.H=kf(c));c=this.D;d=fb();1<d-this.O?(this.O=d,++this.B>=this.v.length&&(this.B=0),this.v[this.B]=c):this.D<this.v[this.B]&&(this.v[this.B]=c);12<d-this.J?(this.J=d,c=!0):c=!1;m=d=0;for(p=this.v.length;m<p;m++)this.v[m]<d&&(d=this.v[m]);this.h=d;-1E-6>this.h?(this.b+Math.floor(.5+this.h*this.c)<this.f-10&&(this.i=!0),c&&-this.h*this.c<.2*(this.b-
this.f)&&(this.i=!0)):1E-6<this.h?this.b>this.f&&(this.i=!0):c&&10<this.b-this.f&&(this.i=!0);this.g>this.C&&(this.C=this.g);1E-12<this.g?(this.b+this.g*this.c>this.A&&(this.i=!0),this.A-this.b>.2*(this.b-this.f)&&this.g*this.c<.2*(this.A-this.b)&&(this.i=!0,this.C=this.g)):-1E-12>this.g&&c&&(0>this.C&&this.b<this.A&&(this.i=!0),this.C=this.g);this.i&&(this.J=fb(),this.i=!1,c=0<this.g?this.g:0,c-=this.h,1E-16>c&&(c=1),this.c=c*this.c>k?.75*k/c:.95*k/c,this.b=-1E-12>this.h?this.f+Math.floor(.5+this.c*
-this.h):this.f,k=Math.pow(10,Math.floor(Math.log(c)/Math.log(10))),c/=k,this.o=8<=c?2:5<=c?1:3<=c?.5:2<=c?.4:.2,this.o*=k);k=this.b;a.fillStyle=this.$;0>e?(e=Math.floor(.5-e*this.c),a.fillRect(k-e,b,e,10),k-=e):(e=Math.floor(.5+e*this.c),a.fillRect(k,b+10,e,10),k+=e);isNaN(f)||(e=Math.floor(.5+f*this.c),a.fillStyle=this.za,a.fillRect(k,b+10,e,10),k+=e);e=this.b+Math.floor(.5+this.g*this.c)-k;a.fillStyle=this.la;a.fillRect(k,b+10,e,10);e=this.f;b+=10;k=(this.A-this.b)/this.c;if(1E-18<Math.abs(k)&&
1E-18<this.o){a.fillStyle="#000";a.strokeStyle="#000";c=0;do d=this.b+Math.floor(c*this.c),a.beginPath(),a.moveTo(d,b+5),a.lineTo(d,b+12),a.stroke(),m=uj(c),p=a.measureText(m).width,a.fillText(m,d-p/2,b+25),c+=this.o;while(c<k+this.o+1E-16);if(-1E-12>this.h){c=-this.o;do d=this.b+Math.floor(c*this.c),a.beginPath(),a.moveTo(d,b+5),a.lineTo(d,b+12),a.stroke(),m=uj(c),p=a.measureText(m).width,a.fillText(m,d-p/2,b+25),c-=this.o;while(c>this.h&&d>=e)}}e=b+33;b=this.f;b=vj(a,tj.cc+",",this.$,b,e);isNaN(f)||
(b=vj(a,tj.vd+",",this.za,b,e));b=vj(a,h,this.la,b,e);f=tj.Dd+" ";h=this.H;k=Math.abs(h-this.L);1E-15<k&&(k=-Math.floor(Math.log(k)/Math.log(10)),k=0<k?k:1,this.ia=20>k?k:20);k=Math.abs(h);h=0>h?"-":"+";f+=1E-6>k?h+k.toExponential(5):h+k.toFixed(this.ia);a.fillStyle="#000";a.fillText(f,b,e+12);a.restore()}};function vj(a,b,c,d,e){a.fillStyle=c;a.fillRect(d,e,10,10);d+=13;c=a.measureText(b).width;a.fillStyle="#000";a.fillText(b,d,e+12);return d+(c+5)}g.Oa=function(){return[]};g.Xa=function(){return[]};
g.$a=function(){return this.a.Za()?new J(0,0):Gb(this.a)};g.ha=function(){return this.ma};g.eb=function(){return!0};
function uj(a){var b=Math.abs(a);1E-16>b?b="0":.001>b?(b=b.toExponential(3),b=b.replace(/\.0+([eE])/,"$1"),b=b.replace(/(\.\d*[1-9])0+([eE])/,"$1$2")):10>b?(b=b.toFixed(4),b=b.replace(/\.0+$/,""),b=b.replace(/(\.\d*[1-9])0+$/,"$1")):100>b?(b=b.toFixed(3),b=b.replace(/\.0+$/,""),b=b.replace(/(\.\d*[1-9])0+$/,"$1")):1E3>b?(b=b.toFixed(2),b=b.replace(/\.0+$/,""),b=b.replace(/(\.[1-9])0$/,"$1")):1E4>b?b=b.toFixed(0):(b=b.toExponential(3),b=b.replace(/\.0+([eE])/,"$1"),b=b.replace(/(\.\d*[1-9])0+([eE])/,
"$1$2"));return 0>a?"-"+b:b}g.Qa=function(a){if(this.a.Za())this.a=new M(-5,a.m()-.5,5,a.m()+.5);else{var b=this.a.T()/2;this.a=new M(this.a.va(),a.m()-b,this.a.a,a.m()+b)}};function wj(a,b){a.j=b;a.F=!0}g.pa=function(a){this.ma=n(a)?a:0};var Aj={pe:"show energy",cc:"potential",Ed:"translational",bc:"kinetic",vd:"rotational",Dd:"total"},tj={pe:"Energie anzeigen",cc:"potenzielle",Ed:"translation",bc:"kinetische",vd:"rotation",Dd:"gesamt"};function Bj(a,b){this.a=a;Zb(a,this);this.b=b}Bj.prototype.toString=function(){return""};function Cj(a){gc(a.a,a)}Bj.prototype.ka=function(a){this.b(a)};function Dj(a,b){this.b=a;this.a=b}Dj.prototype.toString=function(){return""};Dj.prototype.ja=function(){return this.b};Dj.prototype.xb=function(a){z(this.a,function(b){b.xb(a)})};function Ej(){this.b=[];this.a=!1}Ej.prototype.toString=function(){return""};Ej.prototype.Ca=function(a){if(this.a)throw Error("addMemo during memorize");A(this.b,a)||this.b.push(a)};Ej.prototype.Pa=function(){try{this.a=!0,z(this.b,function(a){a.Pa()})}finally{this.a=!1}};Ej.prototype.$b=function(a){if(this.a)throw Error("removeMemo during memorize");Ga(this.b,a)};function Fj(a,b){this.a=null!=a?a:null;this.b=null!=b?b:null}g=Fj.prototype;g.toString=function(){return""};g.gb=function(){return!1};
g.hb=function(a,b){if(null!=this.a){var c=this.a;c=sb(c.ba(),c.V());if(!(1E-6>c||0==this.a.f)){a.save();a.lineWidth=Gj(this);a.strokeStyle=c<this.a.a-1E-5?Hj(this):Ij(this);if(1===Jj(this)){b=b.i;var d=this.a.V(),e=this.a.ba();b=b.translate(d.l(),d.m());b=oc(b,Math.atan2(e.m()-d.m(),e.l()-d.l()));c=b=b.scale(c/6,this.S()/.5);a.beginPath();nc(c,a);lc(c,.375,0,a);lc(c,.75,.25,a);for(d=1;3>=d;d++)lc(c,1.5*d,-.25,a),lc(c,.375*(4*d+2),.25,a);lc(c,5.625,0,a);lc(c,6,0,a)}else d=pg(b,this.a.V()),e=pg(b,this.a.ba()),
a.beginPath(),a.moveTo(d.l(),d.m()),a.lineTo(e.l(),e.m());a.stroke();a.restore()}}};function Hj(a){return void 0!==a.h?a.h:null!=a.b?Hj(a.b):"red"}function Ij(a){return void 0!==a.i?a.i:null!=a.b?Ij(a.b):"green"}function Jj(a){return void 0!==a.j?a.j:null!=a.b?Jj(a.b):1}g.Xa=function(){return[]};g.$a=function(){return null==this.a?L:zb(this.a.V().add(this.a.ba()),.5)};g.Oa=function(){return null==this.a?[]:[this.a]};function Gj(a){return void 0!==a.c?a.c:null!=a.b?Gj(a.b):4}
g.S=function(){return void 0!==this.f?this.f:null!=this.b?this.b.S():.5};g.ha=function(){return void 0!==this.g?this.g:null!=this.b?this.b.ha():0};g.eb=function(){return!1};g.Qa=function(){};function Kj(a){var b=new Fj;b.c=a;return b}function Lj(a,b){a.f=b;return a}g.pa=function(a){this.g=a};function Mj(a){P.call(this,a||"DISPLAY_LIST_"+Nj++);this.a=[]}l(Mj,P);g=Mj.prototype;g.toString=function(){return""};g.add=function(a){if(!oa(a))throw Error("non-object passed to DisplayList.add");var b=a.ha();Oj(this);for(var c=0,d=this.a.length;c<d&&!(b<this.a[c].ha());c++);Ma(this.a,c,0,a);Tb(this,new Pb(this,"OBJECT_ADDED",a))};g.Ef=function(a){if(!oa(a))throw Error("non-object passed to DisplayList.contains");return A(this.a,a)};function Pj(a,b,c){Oj(a);z(a.a,function(a){a.hb(b,c)})}
function Qj(a,b){if(r(b)){var c=a.a.length;if(0>b||b>=c)return null;Oj(a);return a.a[b]}if(ia(b)){var d=E(b);return Da(a.a,function(a){a=a.Oa();for(var b=0,c=a.length;b<c;b++)if(a[b].getName()==d)return!0;return!1})}return oa(b)?Da(a.a,function(a){a=a.Oa();return A(a,b)}):null}function Rj(a,b){a=Qj(a,b);if(a instanceof sg)return a;throw Error("DisplayShape not found: "+b);}g.get=function(a){var b=this.a.length;if(0>a||a>=b)throw Error(a+" is not in range 0 to "+(b-1));Oj(this);return this.a[a]};
g.length=function(){return this.a.length};function Sj(a,b){if(!oa(b))throw Error("non-object passed to DisplayList.add");var c=b.ha();Oj(a);for(var d=a.a.length;0<d&&!(c>a.a[d-1].ha());d--);Ma(a.a,d,0,b);Tb(a,new Pb(a,"OBJECT_ADDED",b))}g.remove=function(a){if(!oa(a))throw Error("non-object passed to DisplayList.remove");var b=xa(this.a,a);-1<b&&(Ha(this.a,b),Tb(this,new Pb(this,"OBJECT_REMOVED",a)))};
function Oj(a){for(var b=!0,c=ob,d=0,e=a.a.length;d<e;d++){var f=a.a[d].ha();if(f<c){b=!1;break}c=f}b||Qa(a.a,function(a,b){a=a.ha();b=b.ha();return a<b?-1:a>b?1:0})}function Tj(a){Oj(a);return B(a.a)}var Nj=1;function Uj(a,b){P.call(this,b);this.a=a;a.contentEditable=!1;this.g=[];this.h=new Ej;this.f=null;this.c=1;this.b="";this.I(new N(this,Vj.Wa,Wj.Wa,v(this.S,this),v(this.ci,this)));this.I(new N(this,Vj.Ta,Wj.Ta,v(this.T,this),v(this.bi,this)));this.I(new N(this,Vj.ALPHA,Wj.ALPHA,v(this.Vg,this),v(this.Db,this)));this.I(new Yb(this,Vj.Gb,Wj.Gb,v(this.Yg,this),v(this.ib,this)))}l(Uj,P);g=Uj.prototype;g.toString=function(){return""};g.Ca=function(a){this.h.Ca(a)};
function Xj(a,b){if(0<a.S()&&0<a.T()){var c=new gg(a.S(),a.T());Yj(b,c)}a.g.push(b);a.Ca(b);Tb(a,new Pb(a,"VIEW_ADDED",b));Tb(a,new Pb(a,"VIEW_LIST_MODIFIED"));if(null==a.f){if(null!=b&&!A(a.g,b))throw Error("cannot set focus to unknown view "+b);a.f!=b&&(a.f=b,Tb(a,new Pb(a,"FOCUS_VIEW_CHANGED",b)))}}g.Vg=function(){return this.c};g.Yg=function(){return this.b};g.T=function(){return this.a.height};function Zj(a){return new gg(a.a.width,a.a.height)}g.S=function(){return this.a.width};g.Pa=function(){this.h.Pa()};
function ak(a){var b=Zj(a);z(a.g,function(a){Yj(a,b)});Tb(a,new Pb(a,"SIZE_CHANGED"))}function bk(a){if(null!=a.a.offsetParent){var b=a.a.getContext("2d");b.save();try{""!=a.b?(b.globalAlpha=a.c,b.fillStyle=a.b,b.fillRect(0,0,a.a.width,a.a.height),b.globalAlpha=1):b.clearRect(0,0,a.a.width,a.a.height),z(a.g,function(a){b.save();b.globalAlpha=a.F;Pj(a.g,b,a.h);b.restore()})}finally{b.restore()}}}g.$b=function(a){this.h.$b(a)};
g.Db=function(a){F(this.c,a)&&(this.c=a,F(a,1)&&""==this.b&&this.ib("white"),Q(this,Vj.ALPHA))};g.ib=function(a){this.b!=a&&(this.b=a,Q(this,Vj.Gb))};g.bi=function(a){F(a,this.a.height)&&(this.a.height=a);ak(this);Q(this,Vj.Ta)};function ck(a,b,c){if(!r(b)||0>=b||!r(c)||0>=c)throw Error("bad size "+b+", "+c);a.a.width=b;a.a.height=c;ak(a);Q(a,Vj.Wa);Q(a,Vj.Ta)}g.ci=function(a){F(a,this.a.width)&&(this.a.width=a);ak(this);Q(this,Vj.Wa)};
var Vj={Wa:"width",Ta:"height",ALPHA:"alpha",Gb:"background"},Wj={Wa:"Breite",Ta:"H\u00f6he",ALPHA:"alpha",Gb:"Hintergrund"};function dk(a){P.call(this,a||"CLOCK");this.j=this.h=fb();this.b=1;this.f=this.c=0;this.g=this.a=!1;this.i=[];this.I(new N(this,ek.Mb,fk.Mb,v(this.Ch,this),v(this.Qi,this)))}l(dk,P);g=dk.prototype;g.toString=function(){return""};function gk(a){z(a.i,function(a){a.cancel()})}function hk(a,b,c){z(a.i,function(a){a.a()>=b&&a.a()<=b+c&&a.b(0)})}g.Mc=function(){return this.a?(fb()-this.j)*this.b:this.f};function ik(a){return a.a?(fb()-a.h)*a.b:a.c}g.Ch=function(){return this.b};
function jk(a){a.g=!1;a.a&&(a.c=ik(a),a.f=a.Mc(),gk(a),a.a=!1,Tb(a,new Pb(a,"CLOCK_PAUSE")))}function kk(a){a.g=!1;a.a||(a.a=!0,lk(a,a.c),mk(a,a.f),Tb(a,new Pb(a,"CLOCK_RESUME")))}g.ui=function(a){a.cancel();if(this.a){var b=ik(this)/this.b+this.h;var c=a.a()/this.b+this.h;F(c,b)?c>b&&a.b(c-b):a.c()}};function mk(a,b){a.a?a.j=fb()-b/a.b:a.f=b}function nk(a,b){var c=ik(a);F(c,b,.001)&&(lk(a,b),Tb(a,new Pb(a,"CLOCK_SET_TIME")))}function lk(a,b){a.a?(a.h=fb()-b/a.b,z(a.i,v(a.ui,a))):a.c=b}
g.Qi=function(a){if(F(this.b,a)){var b=ik(this),c=this.Mc();this.b=a;lk(this,b);mk(this,c);ik(this);this.Mc();Q(this,ek.Mb)}};var ek={Mb:"time rate"},fk={Mb:"Zeitraffer"};function ok(){this.i=!na(requestAnimationFrame);this.c=void 0;this.h=null;this.o=v(this.j,this);this.a=0;this.b=!1;this.f=nb;this.g=0}ok.prototype.toString=function(){return""};ok.prototype.j=function(){if(null!=this.h){var a=fb(),b=a-(this.f-this.g);b>=this.a&&(this.h(),this.f=a,this.g=0<this.a?b%this.a:0);this.c=this.i?setTimeout(this.o,0<this.a?Math.round(1E3*this.a):17):requestAnimationFrame(this.o)}};function pk(a){a.b||(a.b=!0,a.g=0,a.f=fb()-a.a-1E-7,a.j())}
function qk(a){a.b=!1;n(a.c)&&(a.i?clearTimeout(a.c):cancelAnimationFrame(a.c),a.c=void 0);a.f=NaN;a.g=0};function rk(a,b){P.call(this,b||"SIM_RUNNER");this.c=[a];this.f=a.a;this.i=0;this.g=!1;this.b=new ok;var c=this.i;if(0>c)throw Error();this.b.a=c;c=this.b;var d=v(this.Sg,this);qk(c);c.h=d;this.a=new dk((b?b+"_":"")+"CLOCK");a=a.b.X();nk(this.a,a);mk(this.a,a);Zb(this.a,this);this.h=[];this.o=new Ej;this.j=[];this.I(Wb(new N(this,sk.Nb,tk.Nb,v(this.Kh,this),v(this.Oe,this)),3));this.I(Wb(new N(this,sk.cd,tk.cd,v(this.ah,this),v(this.xi,this)),3));this.I(new Qb(this,sk.Ac,tk.Ac,v(this.sh,this),v(this.Ii,
this)));this.I(new Qb(this,sk.hd,tk.hd,v(this.gh,this),v(this.zi,this)));this.I(new Qb(this,sk.qd,tk.qd,v(this.oh,this),v(this.Fi,this)))}l(rk,P);g=rk.prototype;g.toString=function(){return""};function uk(a,b){A(a.h,b)||(a.h.push(b),a.Ca(b))}function vk(a,b){A(a.j,b)||a.j.push(b)}g.Ca=function(a){this.o.Ca(a)};
g.Sg=function(){try{if(this.a.a||this.a.g){var a=ik(this.a),b=this.c[0].b.X();if(a>b+1||a<b-1){var c=b+this.f;nk(this.a,c);mk(this.a,c);a=c}c=a;for(var d=0,e=this.c.length;d<e;d++)for(var f=this.c[d],h=c,k=f.b.X();k<h;){Yc(f,this.f,this);var m=k;k=f.b.X();if(1E-15>=k-m)throw Error("SimRunner: time did not advance");if(h-k<this.f)break}this.a.g?this.a.g=!1:(a=ik(this.a),b=this.c[0].b.X(),a-b>20*this.f&&nk(this.a,b))}wk(this)}catch(p){xk(this,p)}};g.ah=function(){return this.i};g.gh=function(){return this.b.b};
g.oh=function(){return this.g};g.sh=function(){return this.a.a};g.Kh=function(){return this.f};function xk(a,b){yk(a);qk(a.b);z(a.j,function(a){a.c&&zk(a)});alert(tk.jf+(null!=b?" "+b:""))}g.Pa=function(){this.o.Pa()};g.ka=function(a){a.ga()==this.a&&(a.R("CLOCK_RESUME")||a.R("CLOCK_PAUSE")?(a=this.c[0].b.X(),nk(this.a,a),mk(this.a,a),Q(this,sk.Ac)):a.R("CLOCK_SET_TIME")&&this.Pa())};function wk(a){z(a.h,function(a){bk(a)})}function yk(a){jk(a.a);return ik(a.a)}g.$b=function(a){this.o.$b(a)};
g.reset=function(){pk(this.b);jk(this.a);z(this.c,function(a){a.reset()});var a=this.c[0].b.X();nk(this.a,a);mk(this.a,a);wk(this);Tb(this,new Pb(this,"RESET"));return ik(this.a)};function Ak(a){pk(a.b);kk(a.a);return ik(a.a)}function Bk(a){z(a.c,function(a){xf(a.b)});return ik(a.a)}g.xi=function(a){this.i=a;if(0>a)throw Error();this.b.a=a;Q(this,sk.cd)};g.zi=function(a){a?pk(this.b):this.g||qk(this.b);Q(this,sk.hd)};g.Fi=function(a){this.g=a;Q(this,sk.qd)};g.Ii=function(a){a?Ak(this):yk(this)};
g.Oe=function(a){this.f=a;Q(this,sk.Nb)};g.yf=function(){var a=this.c[0].b.X()+this.f-ik(this.a),b=this.a;jk(b);b.g=!0;var c=b.c;b.c+=a;b.f+=a;Tb(b,new Pb(b,"CLOCK_STEP"));hk(b,c,a);pk(this.b);return ik(this.a)};
var sk={Nb:"time step",cd:"display period",gf:"restart",Ac:"running",hd:"firing",sg:"pause",yg:"resume",qd:"non-stop",hf:"step",jf:"Simulation is stuck; click reset and play to continue."},tk={Nb:"Zeitschritt",cd:"Bilddauer",gf:"Neustart",Ac:"laufend",hd:"t\u00e4tigend",sg:"pausieren",yg:"weiter",qd:"durchgehend",hf:"kleine Schritte",jf:"Simulation hat sich aufgeh\u00e4ngt; dr\u00fccken Sie Neustart und Weiter um fort zu fahren."};function Ck(a,b){P.call(this,a);if(!(b instanceof M)||b.Za())throw Error("bad simRect: "+b);this.b=b;this.f=new gg(800,600);this.C=this.A="MIDDLE";this.v=1;this.g=new Mj;this.o=!0;this.F=1;this.h=mg(this.f,this.b,this.A,this.C,this.v);this.c=b.S();this.a=b.T();this.i=Hb(b);this.j=Ib(b);this.B=this.a/this.c;this.D=new Ej;this.I(new N(this,Dk.Wa,Ek.Wa,v(this.S,this),v(this.fi,this)));this.I(new N(this,Dk.Ta,Ek.Ta,v(this.T,this),v(this.Ze,this)));this.I(Vb(new N(this,Dk.tc,Ek.tc,v(this.di,this),v(this.Td,
this)),Number.NEGATIVE_INFINITY));this.I(Vb(new N(this,Dk.uc,Ek.uc,v(this.ei,this),v(this.af,this)),Number.NEGATIVE_INFINITY));this.I(new Qb(this,Dk.wd,Ek.wd,v(this.th,this),v(this.Mf,this)));this.I(new Yb(this,Dk.Hd,Ek.Hd,v(this.Eh,this),v(function(a){Fk(this,jg(a))},this),[kg.Dg,kg.ie,kg.Wf,kg.fe,kg.ze],ig()));this.I(new Yb(this,Dk.od,Ek.od,v(this.lh,this),v(function(a){Gk(this,eg(a))},this),[fg.xc,fg.ie,fg.zc,fg.fe,fg.ze],dg()));this.I(new N(this,Dk.Zc,Ek.Zc,v(this.Wg,this),v(this.vi,this)))}
l(Ck,P);g=Ck.prototype;g.toString=function(){return""};g.Ca=function(a){this.D.Ca(a)};g.Wg=function(){return this.v};g.di=function(){return this.i};g.ei=function(){return this.j};g.T=function(){return this.a};g.lh=function(){return this.A};g.th=function(){return this.o};g.Eh=function(){return this.C};g.S=function(){return this.c};g.Pa=function(){this.D.Pa()};function Hk(a){var b=a.i-a.c/2,c=a.j-a.a/2;b=new M(b,c,b+a.c,c+a.a);Ik(a,b)}g.pi=function(){this.af(this.j-.05*this.a)};
g.ri=function(){this.Td(this.i-.05*this.c)};g.si=function(){this.Td(this.i+.05*this.c)};g.ti=function(){this.af(this.j+.05*this.a)};function Jk(a){var b=mg(a.f,a.b,a.A,a.C,a.v);if(!(b instanceof lg))throw Error("not a CoordMap: "+b);a.h=b;Tb(a,new Pb(a,"COORD_MAP_CHANGED"));a.c=a.b.S();a.a=a.b.T();a.i=Hb(a.b);a.j=Ib(a.b);a.B=a.a/a.c}g.$b=function(a){this.D.$b(a)};g.vi=function(a){F(this.v,a)&&(this.v=a,Jk(this),Q(this,Dk.Zc))};g.Td=function(a){F(this.i,a)&&(this.i=a,Hk(this))};
g.af=function(a){F(this.j,a)&&(this.j=a,Hk(this))};g.Ze=function(a){F(this.a,a)&&(this.a=a,this.o&&(this.c=this.a/this.B),Hk(this))};function Gk(a,b){a.A=eg(b);Jk(a);Q(a,Dk.od)}g.Mf=function(a){if(this.o!=a){if(this.o=a)this.B=this.a/this.c;Q(this,Dk.wd)}};function Yj(a,b){if(!(b instanceof gg))throw Error("not a ScreenRect: "+b);if(b.Za())throw Error("empty screenrect");a.f.Sb(b)||(a.f=b,Jk(a),Tb(a,new Pb(a,"SCREEN_RECT_CHANGED")))}
function Ik(a,b){if(!(b instanceof M))throw Error("not a DoubleRect: "+b);b.Sb(a.b)||(a.b=b,Jk(a),Q(a,Dk.Wa),Q(a,Dk.Ta),Q(a,Dk.tc),Q(a,Dk.uc),Tb(a,new Pb(a,"SIM_RECT_CHANGED")))}function Fk(a,b){a.C=jg(b);Jk(a);Q(a,Dk.Hd)}g.fi=function(a){F(this.c,a)&&(this.c=a,this.o&&(this.a=this.c*this.B),Hk(this))};g.Wi=function(){this.Ze(this.a/1.1)};g.Xi=function(){this.Ze(1.1*this.a)};
var Dk={wd:"scale X-Y together",Wa:"width",Ta:"height",tc:"center-x",uc:"center-y",Hd:"vertical-align",od:"horizontal-align",Zc:"aspect-ratio"},Ek={wd:"X-Y zusammen skalieren",Wa:"Breite",Ta:"H\u00f6he",tc:"Mitte X",uc:"Mitte Y",Hd:"Vertikalejustierung",od:"Horizontalejustierung",Zc:"Querschnittsverh\u00e4ltnis"};function Kk(a,b,c){this.b=a;this.c=this.b.P();this.g=b;this.f=c;this.a=document.createElement("button");this.a.type="button";this.a.className="icon";c.style.display=this.c?"block":"none";b.style.display=this.c?"none":"block";this.a.appendChild(b);this.a.appendChild(c);wi(this.a,"click",this.Oh,!0,this);Zb(this.b.ga(),this)}g=Kk.prototype;g.toString=function(){return""};g.ja=function(){return this.a};g.Oh=function(){Lk(this,!this.c)};g.ka=function(a){a==this.b&&Lk(this,this.b.P())};
g.xb=function(a){this.a.disabled=!a};function Lk(a,b){a.c!=b&&(a.b.Vc(b),a.c=b,a.f.style.display=b?"block":"none",a.g.style.display=b?"none":"block")};function Mk(a,b){var c=new Pi(a.b);b&&(Ri(c),Si(c));new Bj(a,function(b){b.R("COORD_MAP_CHANGED")&&(b=og(a.h,a.f),c.a=b)});a.g.add(c);return c}
function Nk(a){var b=[Ok.Fc,Ok.rc,Ok.Ce,Ok.$d,Ok.Be,Ok.Zd],c=[Pk.Fc,Pk.rc,Pk.Ce,Pk.$d,Pk.Be,Pk.Zd];c=Aa(c,function(a){return E(a)});b=new Ki(b,c,function(){var b=a.b,e=a.c;if(""==b)return c[0];if("black"==b)if(F(e,1)){if(!F(e,.1))return c[3];if(!F(e,.05))return c[5]}else return c[1];else if("white"==b)if(F(e,1)){if(!F(e,.1))return c[2];if(!F(e,.05))return c[4]}else return c[0];return-1},function(b){switch(xa(c,b)){case 0:a.ib("");a.Db(1);break;case 1:a.ib("black");a.Db(1);break;case 2:a.ib("white");
a.Db(.1);break;case 3:a.ib("black");a.Db(.1);break;case 4:a.ib("white");a.Db(.05);break;case 5:a.ib("black"),a.Db(.05)}},Ok.Gb);Zb(a,b);return b}
function Qk(a,b){var c=eb+"/",d=document.createElement("div");d.style.width="96px";var e=Wa(c+"up_gray.png");e=new Oi("up",v(a.ti,a),e);e.a=100;d.appendChild(e.ja());var f=document.createElement("div");f.style.width=d.style.width;e=Wa(c+"backward_gray.png");e=new Oi("left",v(a.ri,a),e);e.a=100;f.appendChild(e.ja());e=Wa(c+"target_gray.png");e=new Oi("reset",b,e);f.appendChild(e.ja());e=Wa(c+"forward_gray.png");e=new Oi("right",v(a.si,a),e);e.a=100;f.appendChild(e.ja());var h=document.createElement("div");
e=Wa(c+"down_gray.png");e=new Oi("down",v(a.pi,a),e);e.a=100;h.appendChild(e.ja());h.style.width=d.style.width;b=document.createElement("div");b.appendChild(d);b.appendChild(f);b.appendChild(h);b.style.textAlign="center";d=document.createElement("div");e=Wa(c+"plus_gray.png");e=new Oi("zoomIn",v(a.Wi,a),e);e.a=100;d.appendChild(e.ja());d.appendChild(document.createElement("BR"));e=Wa(c+"minus_gray.png");e=new Oi("zoomOut",v(a.Xi,a),e);e.a=100;d.appendChild(e.ja());d.style.cssFloat="right";d.style.marginTop=
"18px";a=document.createElement("div");a.style.position="absolute";a.style.right="10%";a.style.bottom="12%";a.style.width="126px";a.appendChild(d);a.appendChild(b);a.style.display="none";return a}
function Rk(a){var b=eb+"/",c=document.createElement("div");c.style.display="block";var d=Wa(b+"rewind.png"),e=new Oi(tk.gf,v(a.reset,a),d);c.appendChild(e.ja());d=Wa(b+"forward.png");var f=Wa(b+"pause.png");f=new Kk(bc(a,sk.Ac),d,f);c.appendChild(f.ja());d=Wa(b+"next.png");a=new Oi(tk.hf,v(a.yf,a),d);a.a=100;c.appendChild(a.ja());return new Dj(c,[e,f,a])}
function Sk(a,b,c,d){a=new kj(a,b);mj(a,"reset",function(){return c.reset()},"sets simulation to initial conditions");mj(a,"save",function(){return Bk(c)},"saves simulation initial conditions");mj(a,"step",function(){return c.yf()},"advance simulation by a small time increment");mj(a,"pause",function(){return yk(c)},"pause simulation");mj(a,"resume",function(){return Ak(c)},"resume simulation");return d.h=a}
function Tk(a,b,c){var d=b.g;b=new Qb(c,Vi.Bc,Wi.Bc,v(d.Ef,d,a),function(b){b?d.add(a):d.remove(a);Q(c,Vi.Bc)});c.I(b);new Bj(d,function(b){b.P()==a&&Q(c,Vi.Bc)});return b}function Uk(a,b,c){var d=ia(void 0)?void 0:Aj.pe,e=ia(void 0)?void 0:tj.pe,f=og(b.h,b.f);wj(a,f);var h=b.g;b=new Qb(c,d,e,v(h.Ef,h,a),function(b){b?h.add(a):h.remove(a);Q(c,d)});c.I(b);new Bj(h,function(b){b.P()==a&&Q(c,d)});return b}
function Vk(a,b){var c=new Qb(b,Pk.rd,Ok.rd,function(){return"none"!=a.style.display},function(c){a.style.display=c?"block":"none";Q(b,Pk.rd)});b.I(c);return c}function Wk(a,b){if(!n(a))throw Error();return new Oi(rj.Gg,function(){var c=nj(a),d=rj.ug;2048<c.length&&(d=d+"  "+rj.Ng);var e=b.b.b;e&&(b.g||qk(b.b));window.prompt(d,c);e&&pk(b.b)})}
var Pk={rd:"pan-zoom",Gb:"background",Fc:"white",rc:"black",Ce:"white with trails",$d:"black with trails",Be:"white with long trails",Zd:"black with long trails"},Ok={rd:"pan-zoom",Gb:"Hintergrund",Fc:"weiss",rc:"schwarz",Ce:"weiss mit Pfade",$d:"schwarz mit Pfade",Be:"weiss mit lange Pfade",Zd:"schwarz mit lange Pfade"};function Xk(a){this.c=a||3E3;if(2>this.c)throw Error();this.b=this.g=this.a=0;this.h=-1;this.f=Array(this.c)}Xk.prototype.toString=function(){return""};function Yk(a){return 0==a.a?-1:0==a.b?Zk(a,a.a-1):Zk(a,a.b-1)}function $k(a){var b=Yk(a);return-1==b?null:a.f[al(a,b)]}Xk.prototype.P=function(a){return this.f[al(this,a)]};function al(a,b){return a.a<a.c?b:b-(a.g-(b%a.c<a.b?0:1))*a.c}
function Zk(a,b){if(a.a<a.c)return b;a=b+(a.g-(b<a.b?0:1))*a.c;if(a>=mb)throw Error("exceeded max int");return a}Xk.prototype.reset=function(){this.g=this.b=this.a=0;this.h=-1};Xk.prototype.store=function(a){this.h=this.b;this.f[this.b]=a;this.b++;this.a<this.c&&this.a++;this.b>=this.c&&(this.g++,this.b=0);return Zk(this,this.h)};
function bl(a,b){this.c=0<a.a;this.a=a;if(void 0===b||0>b)b=a.a<a.c?0:Zk(a,a.b);if(0<a.a&&(b<(a.a<a.c?0:Zk(a,a.b))||b>Yk(a)))throw Error("out of range startIndex="+b);this.b=b;this.f=al(a,b)}function cl(a){if(0==a.a.a)throw Error("no data");return a.b}bl.prototype.P=function(){if(0==this.a.a)throw Error("no data");return this.a.f[this.f]};function dl(a){return a.c||a.b<Yk(a.a)}
function el(a){if(0===a.a.a)throw Error("no data");if(a.c)a.c=!1;else{if(a.b+1>Yk(a.a))throw Error("cannot iterate past end of list");a.b++;a.f=al(a.a,a.b)}return a.a.f[a.f]};function fl(a){for(var b=["dots","lines"],c=0,d=b.length;c<d;c++)if(a==b[c])return b[c];throw Error("not found "+a);}var gl={Yf:"Punkte",LINES:"Linien"};function hl(a,b,c,d){this.a=a;this.b=b;this.c=c;this.f=d}g=hl.prototype;g.toString=function(){return""};g.Sb=function(a){return this.a==a.a&&this.b==a.b&&this.c==a.c&&this.f==a.f};g.l=function(){return this.a};g.m=function(){return this.b};g.xa=function(){return 0};function il(a,b,c,d){this.f=a;this.c=b;this.a=c;this.b=d}il.prototype.toString=function(){return""};function jl(a,b,c){P.call(this,a);this.b=b;Zb(b,this);this.f=this.a=-1;this.v=Vb(new N(this,kl.cb,ll.cb,v(this.Gh,this),v(this.Sa,this)),-1);this.I(this.v);this.o=Vb(new N(this,kl.nb,ll.nb,v(this.Fh,this),v(this.tb,this)),-1);this.I(this.o);ml(this);this.c=new Xk(c||1E5);this.h="lime";this.i="lines";this.g=1;this.j=[];nl(this);this.A=function(a){return a};this.B=function(a){return a};this.I(new N(this,kl.LINE_WIDTH,ll.LINE_WIDTH,v(this.nh,this),v(this.Ei,this)));this.I(new Yb(this,kl.vc,ll.vc,v(this.bh,
this),v(function(a){a=fl(a);a=fl(a);this.i!=a&&(this.i=a,nl(this));Q(this,kl.vc)},this),[gl.Yf,gl.LINES],["dots","lines"]));this.I(new Yb(this,kl.wc,ll.wc,v(this.Th,this),v(this.La,this)))}l(jl,P);g=jl.prototype;g.toString=function(){return""};function nl(a){a.j.push(new il(Yk(a.c)+1,a.i,a.h,a.g))}function ml(a){for(var b=[ll.NONE],c=[-1],d=0,e=a.b.a.length;d<e;d++)b.push(Jc(a.b,d).getName(!0)),c.push(d);Sb(a.v,b,c);Sb(a.o,b,c)}function ol(a){return a instanceof jl?!0:!1}g.Th=function(){return this.h};
g.bh=function(){return this.i};function pl(a,b){a=a.j;if(0==a.length)throw Error("graph styles list is empty");for(var c=a[0],d=1,e=a.length;d<e;d++){var f=a[d];if(f.f>b)break;c=f}return c}g.nh=function(){return this.g};g.w=function(){return this.b};g.Fh=function(){return this.a};g.Gh=function(){return this.f};g.Pa=function(){if(-1<this.a&&-1<this.f){var a=Jc(this.b,this.a),b=Jc(this.b,this.f),c=a.P(),d=b.P();a=new hl(this.A(c),this.B(d),a.b,b.b);b=$k(this.c);null!=b&&b.Sb(a)||this.c.store(a)}};
g.ka=function(a){a.ga()==this.b&&a.R("VARS_MODIFIED")&&ml(this)};g.reset=function(){this.c.reset();this.j=[];nl(this);Tb(this,new Pb(this,"RESET"))};g.La=function(a){this.h!=a&&(this.h=a,nl(this),Q(this,kl.wc))};g.Ei=function(a){F(a,this.g)&&(this.g=a,nl(this),Q(this,kl.LINE_WIDTH))};g.tb=function(a){if(-1>a||a>this.b.a.length-1)throw Error("setXVariable bad index "+a);a!=this.a&&(this.a=a,this.reset(),Q(this,kl.nb))};
g.Sa=function(a){if(-1>a||a>this.b.a.length-1)throw Error("setYVariable bad index "+a);a!=this.f&&(this.f=a,this.reset(),Q(this,kl.cb))};var kl={vc:"draw mode",wc:"graph color",eg:"graph draw mode",fg:"graph points",LINE_WIDTH:"draw width",nb:"X variable",cb:"Y variable",be:"clear graph",NONE:"-none-"},ll={vc:"Zeichnenart",wc:"Graph Farbe",eg:"Graph Zeichnenart",fg:"Punkteanzahl",LINE_WIDTH:"Zeichenbreite",nb:"X Variable",cb:"Y Yariable",be:"Graph erneuern",NONE:"-keine-"};function ql(a,b,c){P.call(this,a);if(n(b)&&!ol(b))throw Error("not a GraphLine "+b);this.i=[];ol(b)&&(this.i.push(b),Zb(b,this));this.v=c;c.Ca(this);Zb(c,this);this.j=this.B=!0;this.C=!1;this.A="BOTH_AXES";this.o=Va(-1,this.i.length);this.F=this.D=!1;this.g=this.b=this.f=this.a=0;this.c=10;this.h=.01;this.I(Wb(new N(this,rl.Cc,sl.Cc,v(this.Dh,this),v(this.Ri,this)),3));a=["VERTICAL","HORIZONTAL","BOTH_AXES"];this.I(new Yb(this,rl.$c,sl.$c,v(this.Xg,this),v(this.wi,this),a,a));this.I(new Qb(this,rl.qc,
sl.qc,v(this.Rh,this),v(this.Cb,this)));this.I(new Qb(this,rl.ed,sl.ed,v(this.dh,this),v(this.Sh,this)));tl(this,this.j)}l(ql,P);g=ql.prototype;g.toString=function(){return""};function ul(a,b){if(ol(b))A(a.i,b)||(a.i.push(b),a.o.push(-1));else throw Error("not a GraphLine "+b);}g.Rh=function(){return this.j};g.Xg=function(){return this.A};g.dh=function(){return this.B};g.Dh=function(){return this.c};
g.Pa=function(){for(var a=0,b=this.i.length;a<b;a++){var c=this.i[a].c;this.o[a]>Yk(c)&&this.reset()}a=0;for(b=this.i.length;a<b;a++)for(c=this.i[a].c,c=new bl(c,this.o[a]);dl(c);){var d=el(c),e=this.i[a],f=d.a;d=d.b;isFinite(f)||(f==Number.POSITIVE_INFINITY?f=1E308:f==Number.NEGATIVE_INFINITY&&(f=-1E308));isFinite(d)||(d==Number.POSITIVE_INFINITY?d=1E308:d==Number.NEGATIVE_INFINITY&&(d=-1E308));var h=e.w().b,k=e.a==h;e=e.f==h;this.D?(f<this.f&&(k?(this.f=f,this.a=f+this.c):this.f=f-this.h*(this.a-
this.f)),k?f>this.a-this.h*this.c&&(this.a=f+this.h*this.c,this.f=this.a-this.c):f>this.a&&(this.a=f+this.h*(this.a-this.f))):(this.f=f,this.a=f+(k?this.c:0),this.D=!0);this.F?(d<this.g&&(e?(this.g=d,this.b=d+this.c):this.g=d-this.h*(this.b-this.g)),e?d>this.b-this.h*this.c&&(this.b=d+this.h*this.c,this.g=this.b-this.c):d>this.b&&(this.b=d+this.h*(this.b-this.g))):(this.g=d,this.b=d+(e?this.c:0),this.F=!0);this.o[a]=cl(c)}1E-14>this.a-this.f&&(a=(this.a+this.f)/2,b=Math.max(1E-14*a,1E-14),this.a=
a+b,this.f=a-b);1E-14>this.b-this.g&&(a=(this.b+this.g)/2,b=Math.max(1E-14*a,1E-14),this.b=a+b,this.g=a-b);a=new M(this.f,this.g,this.a,this.b);b=this.v.b;"VERTICAL"==this.A?a=new M(b.va(),a.b,b.a,a.na()):"HORIZONTAL"==this.A&&(a=new M(a.va(),b.b,a.a,b.na()));this.j&&!a.Ra(b)&&(this.C=!0,Ik(this.v,a),this.C=!1,Tb(this,new Pb(this,"AUTO_SCALE",a)))};g.ka=function(a){a.ga()==this.v?a.R("SIM_RECT_CHANGED")&&(this.C||this.Cb(!1)):A(this.i,a.ga())&&(a.R(kl.nb)||a.R(kl.cb)?this.reset():a.R("RESET")&&this.Cb(!0))};
g.reset=function(){this.a=this.f=0;this.D=!1;this.b=this.g=0;this.F=!1;for(var a=0,b=this.o.length;a<b;a++)this.o[a]=-1};g.Cb=function(a){this.j!=a&&(a?this.B&&(this.reset(),this.v.Ca(this),tl(this,!0),this.j=!0,Q(this,rl.qc)):(this.v.$b(this),tl(this,!1),this.j=!1,Q(this,rl.qc)))};g.wi=function(a){if("VERTICAL"==a||"HORIZONTAL"==a||"BOTH_AXES"==a)this.A=a,Q(this,rl.$c);else throw Error("unknown "+a);};function tl(a,b){z([Dk.Wa,Dk.Ta,Dk.tc,Dk.uc],v(function(a){this.v.Qd(a).Uc(b)},a))}
g.Sh=function(a){this.B!=a&&(this.B=a,this.Cb(a),Q(this,rl.ed))};g.Ri=function(a){F(a,this.c)&&(this.c=a,this.reset(),this.Cb(!0),Q(this,rl.Cc))};var rl={$c:"axis",Cc:"time window",qc:"active",ed:"enabled"},sl={$c:"Achse",Cc:"Zeitfenster",qc:"aktiviert",ed:"erm\u00f6glichte"};function vl(a,b,c){this.a=a;this.c=b;this.f=c}vl.prototype.toString=function(){return""};vl.prototype.getName=function(a){return a?wl.da+"-"+this.f.getName(!0):E(xl.da)+"_"+this.f.getName(!1)};vl.prototype.R=function(a){return this.getName()==E(a)};
vl.prototype.b=function(a){ed(this.a);var b=this.a.X(),c=a,d;this.a.ea();var e=kf(Df(this.c)),f=I,h=I,k=!0;if(1E-15>a)return null;do{var m=b;if(!k&&(gd(this.a),this.a.ea(),Df(this.c),c/=5,1E-15>c))throw Error("time step too small "+c);for(d=0;m<b+a;){var p=c;m+p>b+a-1E-10&&(p=b+a-m);d++;var q=this.f.b(p);this.a.ea();if(null!=q)return q;m+=p}d=kf(Df(this.c));d=Math.abs(e-d);k||(h=Math.abs(d-f));f=d;k=!1}while(1E-6<h);return null};var xl={da:"Adaptive Step"},wl={da:"Adaptiert Schritt"};function yl(a){this.f=a;this.a=[];this.c=[]}yl.prototype.toString=function(){return""};yl.prototype.getName=function(a){return a?zl.da:E(Al.da)};yl.prototype.R=function(a){return this.getName()==E(a)};yl.prototype.b=function(a){var b,c=this.f.w(),d=Ic(c),e=d.length;this.a.length!=e&&(this.a=Array(e),this.c=Array(e));var f=this.a,h=this.c;for(b=0;b<e;b++)f[b]=d[b];lb(h);b=this.f.pb(f,h,0);if(null!==b)return b;for(b=0;b<e;b++)d[b]+=h[b]*a;Mc(c,d,!0);return null};var Al={da:"Eulers Method"},zl={da:"Eulers Methode"};function Bl(a){this.c=a;this.a=[];this.f=[];this.g=[]}Bl.prototype.toString=function(){return""};Bl.prototype.getName=function(a){return a?Cl.da:E(Dl.da)};Bl.prototype.R=function(a){return this.getName()==E(a)};
Bl.prototype.b=function(a){var b,c=this.c.w(),d=Ic(c),e=d.length;this.a.length!=e&&(this.a=Array(e),this.f=Array(e),this.g=Array(e));var f=this.a,h=this.f,k=this.g;for(b=0;b<e;b++)f[b]=d[b];lb(h);b=this.c.pb(f,h,0);if(null!==b)return b;for(b=0;b<e;b++)f[b]=d[b]+h[b]*a;lb(k);b=this.c.pb(f,k,a);if(null!==b)return b;for(b=0;b<e;b++)d[b]+=(h[b]+k[b])*a/2;Mc(c,d,!0);return null};var Dl={da:"Modified Euler"},Cl={da:"Modifiziert Euler"};function El(a,b,c,d){P.call(this,d||"DIFF_EQ_SUBJECT");this.b=a;this.f=b;this.c=c;this.a=[];this.a.push(new yl(this.b));this.a.push(new Bl(this.b));this.a.push(new Uc(this.b));null!=this.f&&(a=new vl(this.b,this.f,new Bl(this.b)),this.a.push(a),a=new vl(this.b,this.f,new Uc(this.b)),this.a.push(a));a=Aa(this.a,function(a){return a.getName(!0)});b=Aa(this.a,function(a){return a.getName()});this.I(new Yb(this,Fl.Hb,Gl.Hb,v(this.g,this),v(this.h,this),a,b))}l(El,P);El.prototype.toString=function(){return""};
El.prototype.g=function(){return this.c.f.getName()};El.prototype.h=function(a){if(!this.c.f.R(a)){var b=Da(this.a,function(b){return b.R(a)});if(null!=b)this.c.f=b,Q(this,Fl.Hb);else throw Error("unknown solver: "+a);}};var Fl={Hb:"Diff Eq Solver"},Gl={Hb:"Diff Eq L\u00f6ser"};function Hl(a){P.call(this,"ELASTICITY_SETTER");this.f=a;this.a=0;Zb(a,this);this.I(Xb(Wb(new N(this,Il.Ib,Jl.Ib,v(this.b,this),v(this.c,this)),3),1))}l(Hl,P);Hl.prototype.toString=function(){return""};Hl.prototype.b=function(){return this.a=Kl(this)};function Kl(a){var b=B(a.f.b);return 0==b.length?a.a:Ba(b,function(a,b){return Math.min(a,b.Od())},1)}Hl.prototype.c=function(a){z(B(this.f.b),function(b){b.Y(a)});this.a=a;Q(this,Il.Ib)};
Hl.prototype.ka=function(a){a.ga()==this.f&&a.R("ELASTICITY_SET")&&(a=Kl(this),this.a!=a&&(this.a=a,Q(this,Il.Ib)))};var Il={Ib:"elasticity"},Jl={Ib:"Elastizit\u00e4t"};function Ll(a,b,c,d){this.v=a;this.o=b;this.A=c;this.b=b();if(!r(this.b))throw Error("not a number "+this.b);this.c=3;this.f=-1;this.g=Math.max(8,1+this.c);a=null;oa(d)?(b=ei(d),null!=b&&"LABEL"==b.tagName&&(a=b)):(d=document.createElement("input"),d.type="text",d.size=this.g,a=document.createElement("LABEL"),a.appendChild(document.createTextNode(this.v)),a.appendChild(d));this.a=d;this.B=null!==a?a:this.a;this.j="";this.a.b="right";wi(this.a,"change",this.Vi,!0,this);wi(this.a,"focus",this.Nh,!1,
this);wi(this.a,"click",this.Ug,!1,this);this.i=!1;Ml(this)}g=Ll.prototype;g.toString=function(){return""};function Nl(a,b,c){if(-1<a.f)return a.f;a=c-1-Ol(b);16<a&&(a=16);return 0<a?a:0}g.Ug=function(){this.i&&(this.a.select(),this.i=!1)};function Ml(a){var b=a.b;var c=Ol(b);b=2+Nl(a,b,a.c)+(0<c?c:0);a.j=a.b.toFixed(Nl(a,a.b,a.c));a.a.value=a.j;b!=a.g&&(a.g=b,a.a.size=a.g)}g.Nh=function(){this.i=!0};g.ja=function(){return this.B};g.P=function(){return this.b};
function Ol(a){return 1E-15>Math.abs(a)?0:Math.floor(Math.LOG10E*Math.log(Math.abs(a)))}g.ka=function(){Pl(this,this.o())};g.xb=function(a){this.a.disabled=!a};function Pl(a,b){if(b!=a.b){try{if(isNaN(b))throw Error("not a number "+b);a.b=b;a.A(b)}catch(c){alert(c),a.b=a.o()}Ml(a)}}g.Vi=function(){var a=this.a.value.replace(/^\s*|\s*$/g,"");if(a!=this.j){var b=parseFloat(a);isNaN(b)?(alert("not a number: "+a),Ml(this)):Pl(this,b)}};function Ql(a,b){Ll.call(this,a.getName(!0),v(a.P,a),v(a.Ye,a),b);this.h=a;b=a.g;this.c!=b&&(this.c=b,Ml(this));a=a.f;this.f!=a&&(this.f=-1<a?a:-1,Ml(this));Zb(this.h.ga(),this)}l(Ql,Ll);Ql.prototype.toString=function(){return""};Ql.prototype.ka=function(a){a==this.h&&(Ll.prototype.ka.call(this,a),a=this.h.g,this.c!=a&&(this.c=a,Ml(this)),a=this.h.f,this.f!=a&&(this.f=-1<a?a:-1,Ml(this)))};function Rl(a,b){this.g=a;this.f=b;this.b=Va(L,6);this.c=Va(L,6);this.a=Va(!1,6)}Rl.prototype.toString=function(){return""};Rl.prototype.Rb=function(){for(var a=[],b=0;b<this.a.length;b++)if(this.a[b]){var c=this.g.oa(Sl(this,b)),d=this.g.G(Tl(this,b));c=new yc("thruster"+b,this.g,d,1,c,1);a.push(c)}return a};Rl.prototype.Xb=function(){};function Sl(a,b){if(0>b||b>=a.c.length)throw Error();return zb(a.c[b],a.f)}function Tl(a,b){if(0>b||b>=a.b.length)throw Error();return a.b[b]}Rl.prototype.Vb=function(){return 0};function Ul(a,b){this.a=a;this.g=b;this.c=this.C=this.J=null;this.h=xc(1,"mouse position").M(I);this.b=-1;this.f=!1;this.A=this.B=0;this.i=this.v=this.o=this.j=!1}Ul.prototype.toString=function(){return""};function Vl(a,b,c){if("right"==c)a.J=b;else if("left"==c)a.C=b;else throw Error("unknown side "+c);}function Wl(a,b,c){if(!a.g.a&&-1<a.b){var d=Af(a.a,a.b);a.f?d.bb(a.A+Math.atan2(b.m()-d.ca().m(),b.l()-d.ca().l())-a.B):d.u(K(b,c));zf(a.a,d)}else a.h.u(b)}
function Xl(a){var b=a.c;null!=b&&(a.a.Hf(b),a.a.a.remove(b),a.c=null);a.b=-1}
function Yl(a,b,c,d){var e=a.J,f=a.C;if(!(d.ctrlKey||d.metaKey||d.altKey))switch(b){case 37:case 74:null!=e&&(c&&(a.j=d.shiftKey),e.a[1]=c,e.a[a.j?4:5]=c,d.a());break;case 39:case 76:null!=e&&(c&&(a.o=d.shiftKey),e.a[0]=c,e.a[a.o?5:4]=c,d.a());break;case 38:case 73:null!=e&&(e.a[3]=c,d.a());break;case 40:case 75:null!=e&&(e.a[2]=c,d.a());break;case 83:null!=f&&(c&&(a.v=d.shiftKey),f.a[1]=c,f.a[a.v?4:5]=c,d.a());break;case 70:null!=f&&(c&&(a.i=d.shiftKey),f.a[0]=c,f.a[a.i?5:4]=c,d.a());break;case 69:null!=
f&&(f.a[3]=c,d.a());break;case 68:case 67:null!=f&&(f.a[2]=c,d.a())}}var Zl={Yi:"click",ef:"drag"};function $l(a,b){this.b=null!=a?a:null;this.a=null!=b?b:null}g=$l.prototype;g.toString=function(){return""};g.gb=function(){return!1};g.hb=function(a,b){null!=this.b&&(a.save(),a.fillStyle=am(this),b=pg(b,this.$a()),a.translate(b.l(),b.m()),a.beginPath(),a.arc(0,0,bm(this),0,2*Math.PI,!1),a.closePath(),a.fill(),a.restore())};g.eb=function(){return!1};function am(a){return void 0!==a.c?a.c:null!=a.a?am(a.a):"blue"}g.Xa=function(){return[]};g.$a=function(){return null==this.b?L:this.b.Na()};
function bm(a){return void 0!==a.f?a.f:null!=a.a?bm(a.a):2}g.Oa=function(){return null==this.b?[]:[this.b]};g.ha=function(){return void 0!==this.g?this.g:null!=this.a?this.a.ha():10};g.La=function(a){this.c=a;return this};g.Qa=function(){};function cm(a){var b=new $l;b.f=a;return b}g.pa=function(a){this.g=a};function dm(a,b){this.b=null!=a?a:new Ob("proto");this.a=null!=b?b:null}g=dm.prototype;g.toString=function(){return""};g.gb=function(){return!1};g.hb=function(a,b){if(0<em(this)){var c=pg(b,this.b.V());b=pg(b,this.b.ba());if(!(1E-6>sb(c,b))){a.save();var d=fm(this);0<d.length&&a.setLineDash&&a.setLineDash(d);a.lineWidth=em(this);a.strokeStyle=gm(this);a.beginPath();a.moveTo(c.l(),c.m());a.lineTo(b.l(),b.m());a.stroke();a.restore()}}};
function gm(a){return void 0!==a.c?a.c:null!=a.a?gm(a.a):"gray"}function fm(a){return void 0!==a.h?a.h:null!=a.a?fm(a.a):[]}g.Xa=function(){return[]};g.$a=function(){return zb(this.b.V().add(this.b.ba()),.5)};g.Oa=function(){return[this.b]};function em(a){return void 0!==a.f?a.f:null!=a.a?em(a.a):4}g.ha=function(){return void 0!==this.g?this.g:null!=this.a?this.a.ha():0};g.eb=function(){return!1};g.La=function(a){this.c=a;return this};g.Qa=function(){};function hm(a){var b=new dm;b.f=a;return b}
g.pa=function(a){this.g=a};function im(a,b,c,d,e,f){Mb.call(this,"rope"+jm++);if(!isFinite(c.N()))throw Error("body2 must have finite mass");this.b=a;this.h=b;this.a=c;this.g=d;this.c=e;this.f=2==f;this.i=Math.max(this.b.Ea(),this.a.Ea())}l(im,Mb);g=im.prototype;g.toString=function(){return""};g.Qb=function(a,b){var c=new Lg(this.b,this.a,this,this.f);this.zb(c);Rd(c,b);this.f?a.unshift(c):c.f<this.i&&a.unshift(c)};
g.Sc=function(){var a=-Math.PI/2;var b=this.b.G(this.h);var c=K(this.a.G(this.g),b);var d=c.length();var e=this.f?this.c:this.c-this.i/2;!this.f&&d<e||(.01<d&&(a=Math.atan2(c.m(),c.l())),a=b.add(new J(e*Math.cos(a),e*Math.sin(a))),this.a.vb(this.g,a))};g.Md=function(){return this.b};g.Nd=function(){return this.a};g.Ja=function(){return Eb(this.Na(),this.jc())};g.ba=function(){return this.a.G(this.g)};function km(a){return sb(a.ba(),a.V())}g.Kd=function(){return km(this)};g.Na=function(){return this.b.G(this.h)};
g.jc=function(){return this.a.G(this.g)};g.V=function(){return this.b.G(this.h)};g.Ya=function(){return K(this.ba(),this.V())};g.zb=function(a){if(a.c!=this.b||a.b!=this.a)throw Error();if(a.Lc()!=this)throw Error();a.f=-(km(this)-this.c);var b=Ab(this.Ya());if(null!=b)a.a=b;else throw Error();a.g=this.b.G(this.h);a.o=this.a.G(this.g);a.A="";a.B=!0;a.v=0;a.j=!0;a.h=this.f?-this.c:-K(a.g,a.o).length()};var jm=0;function lm(a,b){this.a=null!=a?a:null;this.b=null!=b?b:null}g=lm.prototype;g.toString=function(){return""};g.gb=function(){return!1};
g.hb=function(a,b){if(null!=this.a){var c=km(this.a);if(!(1E-6>c)){a.save();a.lineWidth=mm(this);var d,e=this.a;e=(d=e.f||km(e)>e.c-e.i)?0:this.a.c-c;a.strokeStyle=d?nm(this):om(this);var f=this.a.V(),h=this.a.ba();d?(f=pg(b,f),h=pg(b,h),a.beginPath(),a.moveTo(f.l(),f.m()),a.lineTo(h.l(),h.m()),a.stroke()):(b=b.i,b=b.translate(f.l(),f.m()),b=oc(b,Math.atan2(h.m()-f.m(),h.l()-f.l())),b=b.scale(c/6,Math.max(2*e/6,.1)),pm(a,b));a.restore()}}};
function pm(a,b){function c(a){return.5*Math.sin(Math.PI*a/6)}a.beginPath();nc(b,a);lc(b,.375,-c(.375),a);lc(b,.75,c(.75),a);for(var d=1;3>=d;d++){var e=1.5*d;lc(b,e,-c(e),a);e=.375*(4*d+2);lc(b,e,c(e),a)}lc(b,5.625,-c(5.625),a);lc(b,6,0,a);a.stroke()}function om(a){return void 0!==a.f?a.f:null!=a.b?om(a.b):"green"}function nm(a){return void 0!==a.g?a.g:null!=a.b?nm(a.b):"red"}g.Xa=function(){return[]};g.$a=function(){return null==this.a?L:zb(this.a.V().add(this.a.ba()),.5)};
g.Oa=function(){return null==this.a?[]:[this.a]};function mm(a){return void 0!==a.h?a.h:null!=a.b?mm(a.b):3}g.ha=function(){return void 0!==this.c?this.c:null!=this.b?this.b.ha():0};g.eb=function(){return!1};g.Qa=function(){};g.pa=function(a){this.c=a};function qm(a,b,c,d,e,f){Mb.call(this,a);this.a=c;this.c=b;this.i=d;this.f=e;this.j=f;a=bh(b,e);c=Vg(b.a,a);a=Yg(b.a,b.c,a,c-1);e=bh(b,e);c=Vg(b.a,e);b=Yg(b.a,b.f,e,c-1);this.g=new J(a,b);b=this.a.G(this.i);this.b=Zg(this.c,b);this.h=new Og(this.b.a)}l(qm,Mb);g=qm.prototype;g.toString=function(){return""};
g.Qb=function(a,b){var c=new Lg(this.a,tf,this,!1);this.zb(c);Rd(c,b);if(0>c.f){b=this.a.ic();if(null==b)return;b=Ld(b,this.i);$g(this.c,b,this.h);Ug(this.c,this.h);if(0>(this.j?this.f-this.h.a:this.h.a-this.f))return}c.f<this.a.Ea()&&a.unshift(c)};g.Sc=function(){};g.Md=function(){return this.a};g.Nd=function(){return tf};g.Ja=function(){return Eb(this.g,this.g)};g.Kd=function(){var a=[];this.Qb(a,NaN);return a[0].f};g.Na=function(){return this.g};g.jc=function(){return this.g};
g.zb=function(a){if(a.c!=this.a||a.b!=tf)throw Error();if(a.Lc()!=this)throw Error();var b=this.a.G(this.i);a.g=b;$g(this.c,b,this.b);Ug(this.c,this.b);a.f=this.j?this.f-this.b.a:this.b.a-this.f;b=this.b;b=new J(b.j,b.o);a.a=zb(b,this.j?-1:1);a.j=!1;a.o=Qg(this.b);a.A=""};function rm(a,b){this.a=b;this.B=a;b=B(a.a);z(b,v(this.g,this));Zb(a,this);this.b=[];this.j=hm(1).La("blue");this.j.pa(10);this.i=hm(1).La("red");this.i.pa(10);this.H=hm(2).La("magenta");this.C=hm(8);this.A=Lj(Kj(3),.75);this.J=Lj(Kj(2),.5);this.F=new lm;this.f=new sg;a=Ig(new sg,"");a.g="red";this.h=a;this.h.pa(10);this.D=new sg;this.c=Ig(Ig(new sg,""),"lightGray");this.c.pa(-1);this.o=cm(2).La("blue");this.o.pa(10);this.v=cm(3).La("red");this.v.pa(10)}rm.prototype.toString=function(){return""};
function sm(a,b,c){"over"==tm?a.a.add(b):Sj(a.a,b);a.b.push({cf:c,Tg:b})}
rm.prototype.g=function(a){if(null==Qj(this.a,a))if(a instanceof He){var b=a;isFinite(b.N())?sm(this,new sg(b,this.f),a):sm(this,new sg(b,this.c),a)}else a instanceof Vd?null==a.getName().match(/^IMPULSE2/)&&null!=a.getName().match(/^IMPULSE1/)&&(b=xc(Math.max(.02,Math.abs(2*Math.sqrt(Math.abs(5*a.b)/Math.PI))),a.getName()).M(0),b.u(a.V()),sm(this,new sg(b,this.h),a)):a instanceof yc?null==a.getName().match(/^CONTACT_FORCE2/)&&(null!=a.getName().match(/^CONTACT_FORCE1/)?sm(this,new dm(a,this.i),a):
null!=a.getName().match(/^THRUSTER/)?sm(this,new dm(a,this.H),a):sm(this,new dm(a,this.j),a)):a instanceof qm?sm(this,new $l(a,this.v),a):a instanceof Mg||a instanceof fh?sm(this,new $l(a,this.o),a):a instanceof tc?sm(this,new sg(a,this.D),a):a instanceof zc?(b=a,b.R(Zl.ef)?sm(this,new Fj(b,this.J),a):sm(this,new Fj(b,this.A),a)):a instanceof im?sm(this,new lm(a,this.F),a):a instanceof Ob&&sm(this,new dm(a,this.C),a)};
function um(a,b){var c=Da(a.b,function(a){return a.cf==b});null!=c&&(a.a.remove(c.Tg),Ga(a.b,c))}rm.prototype.ka=function(a){if(a.ga()==this.B){var b=a.P();a.R("OBJECT_ADDED")?this.g(b):a.R("OBJECT_REMOVED")&&um(this,b)}};var tm="over";function vm(a,b,c,d,e){if(null==a&&null==e)throw Error();this.h=a;this.j=b;this.a=e;this.g=!1;this.f=null;null!=a&&(b=a.Oa(),0<b.length&&(this.f=b[0]));this.c=c;this.i=d;this.b=L;null!=a&&(this.b=K(c,a.$a()))};function wm(a,b){this.a=a;this.b=a.h;this.c=pg(this.b,Gb(a.b));this.f=b}function xm(a,b){b=K(a.f,b);var c=ng(a.b,a.c.add(b)),d=a.a.b;b=d.S();d=d.T();var e=c.l();c=c.m();b=new M(e-b/2,c-d/2,e+b/2,c+d/2);Ik(a.a,b)};function ym(a,b,c){this.a=a;this.g=b||null;this.h=null!==c;this.j=null!=c?1==c.control:!1;this.o=null!=c?1==c.xf:!1;this.v=null!=c?1==c.shift:!1;this.i=null!=c?1==c.alt:!0;this.c=!1;this.f=this.b=null;wi(a.a,"mousedown",this.mi,!1,this);wi(document,"mousemove",this.ni,!1,this);wi(document,"mouseup",this.Gf,!1,this);wi(document,"keydown",this.Ih,!1,this);wi(document,"keyup",this.Jh,!1,this);wi(document,"touchstart",this.Ui,!1,this);wi(document,"touchmove",this.Ti,!1,this);wi(document,"touchend",this.Si,
!1,this)}g=ym.prototype;g.toString=function(){return""};g.mi=function(a){zm(this,a,a.clientX,a.clientY)};
function zm(a,b,c,d){if(b.target==a.a.a)if(a.a.a.focus(),a.c=!0,c=Am(a,c,d),a.h&&a.j==b.ctrlKey&&a.o==b.metaKey&&a.v==b.shiftKey&&a.i==b.altKey)b=a.a.f,null!=b&&(a.f=new wm(b,c),xm(a.f,c));else{a:{var e=a.a;d=a.g;var f=null,h=null,k=I,m=B(e.g),p=m.length-1;b:for(;0<=p;p--){var q=m[p],t=q.h,u=ng(t,c),C=Tj(q.g),G=C.length-1;c:for(;0<=G;G--){var w=C[G];if(!w.eb())continue c;var x=w.Xa();if(!(1<x.length))if(0==x.length){if(w.gb(u)){f=w;var H=q;var O=u;h=L;break b}}else{x=x[0];for(var sa=x.Tb(),Sa=sa.length-
1;0<=Sa;Sa--){var pa=x.G(sa[Sa]);pa=sb(c,pg(t,pa));pa<=k&&(k=pa,f=w,H=q,h=sa[Sa],O=u)}}}}if(null==f){H=e.f;if(null!=H)O=ng(H.h,c);else{c=null;break a}if(null==d){c=null;break a}}c=n(H)&&n(O)?new vm(f,H,O,h,d):null}a.b=c;if(null!=a.b){a=a.b;if(null!=a.a){c=a.a;f=a.f;H=a.c;O=a.b;d=a.i;c.f=b.altKey||b.metaKey||b.ctrlKey;Xl(c);b=B(c.a.b).length;for(h=0;h<b;h++)f===Af(c.a,h)&&(c.b=h);-1<c.b&&((b=Af(c.a,c.b),c.g.a)?null!=d&&(c.c=new zc(Zl.ef,b,d,c.h,L,0,3),Wl(c,H,O),V(c.a,c.c),c.a.a.add(c.c)):c.f&&(c.A=
b.Xe(),c.B=Math.atan2(O.m(),O.l())));b=-1<c.b}else b=!1;a.g=b}}}function Am(a,b,c){var d=a.a.a,e=d.getBoundingClientRect();return tb(new J(b-e.left,c-e.top),d.offsetWidth/a.a.S())}g.ni=function(a){Bm(this,a,a.clientX,a.clientY)};function Bm(a,b,c,d){var e=a.a.a;null!=e.offsetParent&&(c=Am(a,c,d),(b.target==e||b.target==document.body)&&a.c&&b.a(),null!=a.f?xm(a.f,c):null!=a.b&&(a=a.b,a.c=ng(a.j.h,c),null==a.h||null!=a.f&&a.g?null!=a.a&&a.g&&Wl(a.a,a.c,a.b):a.h.Qa(K(a.c,a.b))))}
g.Gf=function(a){var b=this.a.a;null!=b.offsetParent&&((a.target==b||a.target==document.body)&&this.c&&a.a(),zk(this))};function zk(a){if(null==a.f&&null!=a.b){var b=a.b;null!=b.a&&Xl(b.a)}a.b=null;a.f=null;a.c=!1}g.Ih=function(a){a.target!=this.a.a&&a.target!=document.body||null==this.g||Yl(this.g,a.b,!0,a)};g.Jh=function(a){a.target!=this.a.a&&a.target!=document.body||null==this.g||Yl(this.g,a.b,!1,a)};
g.Ui=function(a){if(a.target==this.a.a){var b=a.f;null!=b&&((b=b.touches)&&1==b.length?zm(this,a,b[0].clientX,b[0].clientY):zk(this))}};g.Ti=function(a){var b=a.f;b=null!=b?b.touches:[];this.c&&b&&1==b.length?Bm(this,a,b[0].clientX,b[0].clientY):zk(this)};g.Si=function(a){this.c&&this.Gf(a)};function Cm(a){if(n(a)&&!ol(a))throw Error("not a GraphLine "+a);this.a=n(a)?[a]:[];this.f=Va(-1,this.a.length);this.h=this.c=null;this.g=hg;this.b=!1;this.i=!0;this.j=0}g=Cm.prototype;g.toString=function(){return""};function Dm(a,b){if(ol(b))A(a.a,b)||(a.a.push(b),a.f.push(-1));else throw Error("not a GraphLine "+b);}g.gb=function(){return!1};
g.hb=function(a,b){if(!this.g.Za()){a.save();if(null==this.h||this.h!=b)this.h=b,this.b=!0;for(var c=0,d=this.a.length;c<d;c++)if(this.f[c]>Yk(this.a[c].c)){this.reset();break}if(this.i){c=this.g.S();d=this.g.T();null==this.c&&(this.c=document.createElement("canvas"),this.c.width=c,this.c.height=d,this.b=!0);var e=this.c.getContext("2d");this.b?(e.clearRect(0,0,c,d),this.f=Va(-1,this.a.length),Em(this,e,b),this.b=!1):Em(this,e,b);a.drawImage(this.c,0,0,c,d)}else this.b=!0,this.f=Va(-1,this.a.length),
Em(this,a,b),this.b=!1;c=0;for(d=this.a.length;c<d;c++){e=a;var f=b,h=$k(this.a[c].c);if(null!=h){var k=qg(f,h.l());f=rg(f,h.m());e.fillStyle="red";e.fillRect(k-2,f-2,5,5)}}a.restore()}};g.Xa=function(){return[]};g.$a=function(){return L};g.Oa=function(){return[]};g.ha=function(){return this.j};
function Em(a,b,c){for(var d=0,e=a.a.length;d<e;d++){var f=a.f,h=d;var k=b;var m=c,p=a.f[d],q=a.a[d],t=og(m,a.g),u=new bl(q.c,p);if(dl(u)){p=el(u);var C=pl(q,cl(u));if("dots"==C.c){var G=qg(m,p.a),w=rg(m,p.b),x=C.b;k.fillStyle=C.a;k.fillRect(G,w,x,x)}for(;dl(u);)if(w=p,p=el(u),p.a!=w.a||p.b!=w.b)if(C=pl(q,cl(u)),G=p.c==w.c&&p.f==w.f,"dots"!=C.c&&G){if(Jb(t,w,p)){G=qg(m,w.a);w=rg(m,w.b);x=qg(m,p.a);var H=rg(m,p.b);k.strokeStyle=C.a;k.lineWidth=C.b;k.beginPath();k.moveTo(G,w);k.lineTo(x,H);k.stroke()}}else Fb(t,
p)&&(G=qg(m,p.a),w=rg(m,p.b),x=C.b,k.fillStyle=C.a,k.fillRect(G,w,x,x));k=cl(u)}else k=p;f[h]=k}}g.eb=function(){return!1};g.reset=function(){this.f=Va(-1,this.a.length);this.b=!0};g.Qa=function(){};function Fm(a,b){a.g=b;a.c=null}function Gm(a,b){a.i=b;a.i||(a.c=null)}g.pa=function(a){this.j=n(a)?a:0};var Hm={Sf:"Aquamarin",rc:"Schwarz",Vf:"Blau",dg:"Purpurrot",gg:"Grau",hg:"Gr\u00fcn",ig:"Hellgr\u00fcn",ng:"Kastanienbraun",og:"Marineblau",rg:"Olivgr\u00fcn",vg:"Purpur",xg:"Rot",Ag:"Silber",Cg:"Blaugr\u00fcn",Fc:"Weiss",Pg:"Gelb"};function Im(a,b,c,d,e,f){P.call(this,"GRAPH_LAYOUT");this.g=f||"block";uk(e,b);this.view=new Ck("X_Y_GRAPH_VIEW",new M(0,0,1,1));Gk(this.view,"FULL");Fk(this.view,"FULL");Xj(b,this.view);this.i=this.view.g;this.a=new jl("X_Y_GRAPH_LINE",a);this.a.tb(0);this.a.Sa(1);this.a.La("lime");this.view.Ca(this.a);this.f=Mk(this.view);a=v(function(a){if(a.R(kl.nb)){var b=this.f;var c=this.a;c=-1<c.a?Jc(c.b,c.a).getName(!0):"";b.Le=c}a.R(kl.cb)&&(a=this.f,b=this.a,b=-1<b.f?Jc(b.b,b.f).getName(!0):"",a.Vd=b)},
this);new Bj(this.a,a);a(new Pb(this.a,ll.nb));this.c=new ql("X_Y_AUTO_SCALE",this.a,this.view);this.c.h=.05;this.b=new Cm(this.a);Fm(this.b,this.view.f);Gm(this.b,!0);Sj(this.i,this.b);new Bj(this.view,v(function(a){a.R("SCREEN_RECT_CHANGED")&&Fm(this.b,this.view.f)},this));this.h=[];this.j=c;Jm(this,Rk(e));c=ec(this.a,kl.cb);Jm(this,new Ni(c,"Y:"));c=ec(this.a,kl.nb);Jm(this,new Ni(c,"X:"));Jm(this,new Oi(ll.be,v(this.a.reset,this.a)));c=fc(this.a,kl.wc);Jm(this,new Ni(c,void 0,[Hm.Sf,Hm.rc,Hm.Vf,
Hm.dg,Hm.gg,Hm.hg,Hm.ig,Hm.ng,Hm.og,Hm.rg,Hm.vg,Hm.xg,Hm.Ag,Hm.Cg,Hm.Fc,Hm.Pg],"aqua black blue fuchsia gray green lime maroon navy olive purple red silver teal white yellow".split(" ")));c=ec(this.a,kl.LINE_WIDTH);Jm(this,new Ql(c));c=fc(this.a,kl.vc);Jm(this,new Ni(c));new ym(b,null,{alt:!1,control:!1,xf:!1,shift:!1});b=Qk(this.view,v(function(){this.c.Cb(!0)},this));d.appendChild(b);d=Vk(b,this);Jm(this,new Ji(d))}l(Im,P);Im.prototype.toString=function(){return""};
Im.prototype.Ha=function(){return[this,this.a,this.view,this.c]};function Jm(a,b){var c=b.ja();c.style.display=a.g;a.j.appendChild(c);a.h.push(b)};function Km(a){a.style[Qh?"styleFloat":"cssFloat"]="left"};function Lm(a,b,c){P.call(this,"TAB_LAYOUT");b=b||800;c=c||800;this.B=this.A=this.F=1;db(a.images_dir);this.L=Mm(a,"tab_list");this.f=Nm(this);""==this.f&&(this.f=Om,Pm(this,this.f));wi(this.L,"click",v(function(a){a=a.target;if(void 0===a)throw Error("event target is undefined ");if(null!=a&&"LI"==a.tagName&&!(-1<a.className.indexOf("selected"))){a=a.className;a=a.toLowerCase().trim();switch(a){case Qm:a=Rm;break;case Sm:a=Tm;break;case Um:a=Vm}this.Fb(a)}},this));wi(window,"resize",v(this.Zb,this));
wi(window,"orientationchange",v(this.Zb,this));var d=Wm(a,"term_output");this.O=Wm(a,"term_input");this.la=new Xi(this.O,d);this.C=Mm(a,"container");this.c=Mm(a,"sim_applet");this.c.style.position="relative";d=document.createElement("canvas");d.tabIndex=0;this.j=new Uj(d,"SIM_CANVAS");ck(this.j,b,c);this.c.appendChild(this.j.a);this.h=Mm(a,"show_sim");d=ei(this.h);if(null==d||"LABEL"!=d.tagName)throw Error();this.v=d;wi(this.h,"click",v(function(){var a=this.h.checked;switch(this.f){case "":case Om:break;
case Qm:a&&this.Fb(Rm);break;case Rm:a||this.Fb(Qm);break;case Sm:a&&this.Fb(Tm);break;case Tm:a||this.Fb(Sm);break;case Um:a&&this.Fb(Vm);break;case Vm:a||this.Fb(Um);break;default:throw Error('showSim: no such layout "'+this.f+'"');}},this));this.a=Mm(a,"div_graph");this.a.style.position="relative";d=document.createElement("canvas");this.H=new Uj(d,"GRAPH_CANVAS");b=Math.max(b,c);ck(this.H,b,b);this.a.appendChild(d);this.i=Mm(a,"graph_controls");this.sa=[];this.g=Mm(a,"sim_controls");this.g.style.marginLeft=
"10px";this.ia=Mm(a,"div_terminal");this.ia.style.display="none";Mm(a,"label_terminal").style.display="inline";this.D=Mm(a,"show_terminal");wi(this.D,"click",v(function(){this.Ff(this.D.checked)},this));this.b=Mm(a,"div_time_graph");this.b.style.position="relative";c=document.createElement("canvas");this.$=new Uj(c,"TIME_GRAPH_CANVAS");ck(this.$,b,b);this.b.appendChild(c);this.o=Mm(a,"time_graph_controls");this.Zb();this.I(new N(this,Xm.xd,Ym.xd,v(this.vh,this),v(this.Ji,this)));this.I(new N(this,
Xm.kd,Ym.kd,v(this.ih,this),v(this.Bi,this)));this.I(new N(this,Xm.Cd,Ym.Cd,v(this.Bh,this),v(this.Pi,this)));this.I(new Yb(this,Xm.he,Ym.he,v(this.mh,this),v(this.Fb,this),[Om,Qm,Rm,Sm,Tm,Um,Vm],[Om,Qm,Rm,Sm,Tm,Um,Vm]));this.I(new Qb(this,Xm.qe,Ym.qe,v(function(){return this.D.checked},this),v(this.Ff,this)))}l(Lm,P);g=Lm.prototype;g.toString=function(){return""};
function Mm(a,b){a=a[b];if(!ia(a))throw Error("unknown elementId: "+b);b=document.getElementById(a);if(!oa(b))throw Error("not found: element with id="+a);return b}function Wm(a,b){a=a[b];if(!ia(a))throw Error("unknown elementId: "+b);return document.getElementById(a)}
function Zm(a,b,c,d){b.style.display="block";c.style.display="inline-block";c.style.a="1";c.style.MozColumnCount="1";c.style.webkitColumnCount="1";c.style.width="auto";var e=c.getBoundingClientRect().width;e=150<e?e:300;b=b.offsetWidth||b.getBoundingClientRect().width;null!=d&&(d.style.display="block",b+=d.offsetWidth||d.getBoundingClientRect().width);a=a.C.offsetWidth||a.C.getBoundingClientRect().width;a-b-2<e&&a>2*e&&(c.style.width="100%",c.style.a="2",c.style.MozColumnCount="2",c.style.webkitColumnCount=
"2")}g.ih=function(){return this.A};g.mh=function(){return this.f};function Nm(a){a=Da(a.L.childNodes,function(a){return a.nodeType!=Node.ELEMENT_NODE||"LI"!=a.tagName?!1:null!=a.className.match(/.*selected/)});return null==a?"":a.className.replace(/[ ]*selected/,"")}g.vh=function(){return this.F};g.Ha=function(){return[this,this.j,this.H,this.$]};g.Bh=function(){return this.B};
g.Zb=function(){var a=di();Km(this.c);Km(this.a);Km(this.b);switch(this.f){case "":case Om:this.a.style.display="none";this.i.style.display="none";this.b.style.display="none";this.o.style.display="none";$m(this,.95*this.F,this.a);Zm(this,this.c,this.g);this.v.style.display="none";break;case Qm:this.c.style.display="none";this.g.style.display="none";this.b.style.display="none";this.o.style.display="none";$m(this,.95*this.A,this.a);Zm(this,this.a,this.i);this.h.checked=!1;this.v.style.display="inline";
break;case Rm:this.b.style.display="none";this.g.style.display="none";this.o.style.display="none";600<a.width?$m(this,.49,this.a):$m(this,.95*this.A,this.a);Zm(this,this.a,this.i,this.c);this.h.checked=!0;this.v.style.display="inline";break;case Sm:this.a.style.display="none";this.i.style.display="none";this.c.style.display="none";this.g.style.display="none";$m(this,.95*this.B,this.b);Zm(this,this.b,this.o);this.h.checked=!1;this.v.style.display="inline";break;case Tm:this.a.style.display="none";
this.g.style.display="none";this.i.style.display="none";600<a.width?$m(this,.49,this.b):$m(this,.95*this.B,this.b);Zm(this,this.b,this.o,this.c);this.h.checked=!0;this.v.style.display="inline";break;case Um:this.a.style.display="block";this.b.style.display="block";this.c.style.display="none";this.g.style.display="none";this.i.style.display="none";this.o.style.display="none";$m(this,.49,this.a);$m(this,.49,this.b);this.h.checked=!1;this.v.style.display="inline";break;case Vm:this.a.style.display="block";
this.b.style.display="block";this.c.style.display="block";this.g.style.display="none";this.i.style.display="none";this.o.style.display="none";$m(this,.49,this.a);$m(this,.49,this.b);this.h.checked=!0;this.v.style.display="inline";break;default:throw Error('redoLayout: no such layout "'+this.f+'"');}};
function $m(a,b,c){var d=di().height-80,e=a.C.offsetWidth||a.C.getBoundingClientRect().width,f=Zj(a.j);b=Math.min(b,d/e*(f.S()/f.T()));b=Math.floor(100*b)+"%";a.c.style.width=b;a.c.style.height="auto";c.style.width=b;c.style.height="auto"}g.Bi=function(a){F(a,this.A)&&(this.A=a);this.Zb();Q(this,Xm.kd)};g.Fb=function(a){a=a.toLowerCase().trim();if(this.f!=a){a=this.f=a;switch(a){case Rm:a=Qm;break;case Tm:a=Sm;break;case Vm:a=Um}Pm(this,a);this.Zb()}};
function Pm(a,b){Nm(a)!=b&&z(a.L.childNodes,function(a){a.nodeType==Node.ELEMENT_NODE&&"LI"==a.tagName&&(a.className.trim()==b?a.className+=" selected":-1<a.className.indexOf("selected")&&(a.className=a.className.replace(/[ ]*selected/,"")))},a)}g.Ji=function(a){F(a,this.F)&&(this.F=a);this.Zb();Q(this,Xm.xd)};g.Pi=function(a){F(a,this.B)&&(this.B=a);this.Zb();Q(this,Xm.Cd)};g.Ff=function(a){this.ia.style.display=a?"block":"none";(this.D.checked=a)&&this.O&&!this.la.j&&this.O.focus()};
var Om="sim",Qm="graph",Rm="sim+graph",Sm="time_graph",Tm="sim+time_graph",Um="multi_graph",Vm="sim+multi_graph",Xm={xd:"sim-width",kd:"graph-width",Cd:"time-graph-width",he:"layout",qe:"show terminal"},Ym={xd:"Sim Breite",kd:"Graf Breite",Cd:"Zeit Graf Breite",he:"layout",qe:"zeige Terminal"};function an(a,b,c,d,e){P.call(this,"TIME_GRAPH_LAYOUT");uk(e,b);this.view=new Ck("TIME_GRAPH_VIEW",new M(0,0,1,1));Gk(this.view,"FULL");Fk(this.view,"FULL");Xj(b,this.view);Mk(this.view);this.a=new jl("TIME_GRAPH_LINE_1",a);this.a.La("lime");this.view.Ca(this.a);this.f=new ql("TIME_GRAPH_AUTO_SCALE",this.a,this.view);this.f.h=.05;this.g=new Cm(this.a);Fm(this.g,this.view.f);Sj(this.view.g,this.g);new Bj(this.view,v(function(a){a.R("SCREEN_RECT_CHANGED")&&Fm(this.g,this.view.f)},this));var f=this.a.w().b;
this.a.tb(f);this.a.Sa(0);Gm(this.g,this.a.a!=f);this.b=new jl("TIME_GRAPH_LINE_2",a);ul(this.f,this.b);this.view.Ca(this.b);this.b.tb(f);this.b.Sa(1);this.b.La("red");Dm(this.g,this.b);this.c=new jl("TIME_GRAPH_LINE_3",a);ul(this.f,this.c);this.view.Ca(this.c);this.c.tb(f);this.c.Sa(-1);this.c.La("blue");Dm(this.g,this.c);this.h=[];this.i=c;bn(this,Rk(e));a=ec(this.a,kl.cb);bn(this,new Ni(a,cn.jg));a=ec(this.b,kl.cb);bn(this,new Ni(a,cn.kg));a=ec(this.c,kl.cb);bn(this,new Ni(a,cn.lg));a=ec(this.a,
kl.nb);bn(this,new Ni(a,"X:"));a=ec(this.f,rl.Cc);bn(this,new Ql(a));a=new Oi(ll.be,v(function(){this.a.reset();this.b.reset();this.c.reset()},this));bn(this,a);new Bj(this.a,v(function(){Gm(this.g,this.a.a!=f);this.b.tb(this.a.a);this.c.tb(this.a.a)},this));new ym(b,null,{alt:!1,control:!1,xf:!1,shift:!1});this.view.Mf(!1);new Bj(e,v(function(a){a.R("RESET")&&(this.view.Td(this.view.S()/2),this.f.Cb(!0))},this));b=Qk(this.view,v(function(){this.f.Cb(!0)},this));d.appendChild(b);d=Vk(b,this);bn(this,
new Ji(d))}l(an,P);an.prototype.toString=function(){return""};function bn(a,b){var c=b.ja();c.style.display="block";a.i.appendChild(c);a.h.push(b)}an.prototype.Ha=function(){return[this,this.a,this.b,this.c,this.view,this.f]};var cn={jg:"linie 1",kg:"linie 2",lg:"linie 3"};function dn(a,b,c,d,e){bb();P.call(this,e||"APP");this.H=b;this.b=new Lm(a,800,Math.round(800*this.H.T()/this.H.S()));this.D=this.b.la;a=this.b.j;this.j=c;jj(this.D,v(c.ea,c));new Bj(c,v(function(){c.ea()},this));c.fa(!1);this.C=c.a;this.Lb=c.w();this.ia=d;this.o=new Ck("SIM_VIEW",this.H);this.A=this.o.g;Xj(a,this.o);this.L=new Ck("STATUS_VIEW",new M(-10,-10,10,10));Xj(a,this.L);Mk(this.o,!0);this.a=new rk(d);uk(this.a,a);this.f=this.a.a;this.la=new Ul(c,this.f);this.Hc=new ym(a,this.la);vk(this.a,
this.Hc);this.sa=new rm(this.C,this.A);this.h=new Hl(c);this.fc=new sj(c);this.Gc=Uk(this.fc,this.L,this);this.lb=new Ti(v(c.X,c),v(this.f.Mc,this.f));this.lb.Qa(new J(8,4));this.gc=Tk(this.lb,this.L,this);a=Qk(this.o,v(function(){Ik(this.o,this.H)},this));this.b.c.appendChild(a);this.mb=Vk(a,this);this.mb.Vc(!1);this.Va=new El(c,c,d);this.i=new Im(c.w(),this.b.H,this.b.i,this.b.a,this.a);this.v=new an(c.w(),this.b.$,this.b.o,this.b.b,this.a)}l(dn,P);dn.prototype.toString=function(){return""};
dn.prototype.ob=function(){};dn.prototype.defineNames=dn.prototype.ob;function en(a,b){new Bj(b.ga(),v(function(a){a==b&&(this.j.ea(),this.j.w().Yb(2,3))},a))}dn.prototype.Ha=function(){return Ja([this,this.j,this.h,this.Va,this.a,this.f,this.o,this.L,this.Lb],this.b.Ha(),this.i.Ha(),this.v.Ha())};function fn(a){var b=[a.Lb];la(void 0)&&(b=Ja(b,void 0));a.B=Sk(a.Ha(),b,a.a,a.D)}
dn.prototype.Pc=function(a){null!=a||(a=Da(B(this.j.b),function(a){return isFinite(a.N())}));null!=a&&(0>this.i.a.a&&this.i.a.tb(a.wa()),0>this.i.a.f&&this.i.a.Sa(a.wa()+2));this.v.a.Sa(1);this.v.b.Sa(2);this.v.c.Sa(3)};dn.prototype.graphSetup=dn.prototype.Pc;function gn(a){hn(a,Wk(a.B,a.a));Jm(a.i,Wk(a.B,a.a));bn(a.v,Wk(a.B,a.a))}
function jn(a){var b=ec(a.h,Il.Ib);hn(a,new Ql(b));b=bc(a.j,vf.ec);hn(a,new Ji(b));hn(a,new Ji(a.Gc));hn(a,new Ji(a.gc));hn(a,new Ji(a.mb));b=ec(a.a,sk.Nb);hn(a,new Ql(b));b=ec(a.a.a,ek.Mb);hn(a,new Ql(b));b=fc(a.Va,Fl.Hb);hn(a,new Ni(b));b=Nk(a.b.j);hn(a,b)}function hn(a,b){a=a.b;var c=b.ja();c.style.display="block";a.g.appendChild(c);a.sa.push(b)}dn.prototype.eval=function(a,b){try{return this.D.eval(a,b)}catch(c){Yi(this.D,c)}};dn.prototype.eval=dn.prototype.eval;
dn.prototype.bf=function(){kk(this.f);var a=this.D;if(null!=a.h){var b=a.h;b.v=pj(b,!1).split(";");b.i=pj(b,!0).split(";")}b=window.location.href;var c=b.indexOf("?");-1<c?(b=b.slice(c+1),b=decodeURIComponent(b),a.eval(b),b=!0):b=!1;b||ij(a);xf(this.j);this.j.ea();this.a.Pa()};dn.prototype.setup=dn.prototype.bf;dn.prototype.start=function(){pk(this.a.b)};dn.prototype.start=dn.prototype.start;function kn(a,b,c,d,e,f,h){b=new Mg(b,c,d,e,f,h);Pf(a,b);b.Sc()}function ln(a,b,c,d){mn(a,tf,b.G(c),b,c,d)}function mn(a,b,c,d,e,f){kn(a,b,c,d,e,f,Db);kn(a,b,c,d,e,f,Cb)};function nn(a,b,c,d,e){this.f=a;this.c=b;this.b=c;this.a=d;this.g=e}nn.prototype.toString=function(){return""};nn.prototype.Xb=function(){};nn.prototype.Rb=function(){var a=this.g*this.f.X();a=new J(this.a*Math.cos(a),this.a*Math.sin(a));return[new yc("rotating",this.c,this.b,0,a,0)]};nn.prototype.Vb=function(){return 0};function on(a){var b=new M(-6,-6,6,6),c=new Nf;X(c,"velocity_and_distance");dn.call(this,a,b,c,new Xc(c));this.c=c;Ig(this.sa.c,"rgb(240,240,240)");this.c.fa(!1);this.h.c(.8);this.F=new df(.1,.15,this.C);this.ta=!0;this.g=0;this.O=.3;this.$=!1;hn(this,Rk(this.a));this.I(a=new Qb(this,pn.Bd,qn.Bd,v(this.Ah,this),v(this.Oi,this)));hn(this,new Ji(a));this.I(a=new Qb(this,pn.ac,qn.ac,v(this.fh,this),v(this.yi,this)));hn(this,new Ji(a));this.I(a=new N(this,pn.nd,qn.nd,v(this.kh,this),v(this.Di,this)));
hn(this,new Ql(a));this.I(a=new N(this,pn.td,qn.td,v(this.qh,this),v(this.Gi,this)));hn(this,new Ql(a));a=ec(this.F,gf.ub);hn(this,new Ql(a));jn(this);fn(this);gn(this);rn(this);this.Pc()}l(on,dn);g=on.prototype;g.toString=function(){return""};g.ob=function(a){dn.prototype.ob.call(this,a)};g.Ha=function(){return Ja(this.F,dn.prototype.Ha.call(this))};
function rn(a){var b=a.h.b();a.c.wb();a.ia.reset();V(a.c,a.F);ff(a.F,a.c.a);sn(a.c,a.ta);Ig(Rj(a.A,pn.md),"rgba(51,204,255,0.5)").pa(2);Ig(Rj(a.A,pn.Kb+1),"rgb(200,200,200)");Ig(Rj(a.A,pn.Kb+2),"rgb(200,200,200)");if(a.$){var c=Z(1,3,pn.ac,qn.ac);c.u(new J(-5.5,-4));a.c.s(c);Ig(Rj(a.A,c),"blue");z(B(a.c.b),function(a){null!=a.getName().match(/^FIXED.*/)&&(a.Da([c]),c.Da([a]))})}if(0<a.g){var d=Af(a.c,"handle");0<a.O?d=new nn(a.c,d,new J(0,-3),a.g,a.O):(d=new yc("turning",d,new J(0,-3),0,new J(a.g,
0),0),d=new Gh(d));V(a.c,d)}W(a.c,b);Lc(a.c.w());xf(a.c);nk(a.f,0);mk(a.f,0);qj(a.B)}
function sn(a,b){var c=Z(.8,6.2,pn.md,qn.md);c.M(.5);c.Eb([new J(0,-2.8)]);a.s(c);var d=b?1:.98;b=Z(d,2.5,pn.Kb+1,qn.Kb+1);b.u(new J(0,2),Math.PI);a.s(b);d=Z(d,2.5,pn.Kb+2,qn.Kb+2);d.u(new J(-2.5,0),Math.PI/2);a.s(d);for(var e=0;2>e;e++)for(var f=0;2>f;f++){var h=f+2*e;h=Z(4,4,pn.de+h,qn.de+h);h.u(new J(2.507*(1-2*e),2.507*(1-2*f)),0);h.M(I);a.s(h);c.Da([h]);h.Da([c])}e=b.ca();f=d.ca();h=sb(e,f);c.bb(-Math.PI/2+Math.atan(-e.m()/f.l()));mn(a,b,new J(0,0),c,new J(0,2.8),0);mn(a,d,new J(0,0),c,new J(0,
2.8-h),0);Of(a)}g.kh=function(){return this.g};g.Di=function(a){this.g=a;rn(this);Q(this,pn.nd)};g.qh=function(){return this.O};g.Gi=function(a){this.O=a;rn(this);Q(this,pn.td)};g.Ah=function(){return this.ta};g.Oi=function(a){this.ta=a;rn(this);Q(this,pn.Bd)};g.fh=function(){return this.$};g.yi=function(a){this.$=a;rn(this);Q(this,pn.ac)};
var pn={nd:"handle force",td:"force rotation rate",Bd:"tight fit",ac:"extra block",md:"handle",Kb:"shuttle",de:"fixed block"},qn={nd:"Griff Kraft",td:"Kraft, Rotation Tempo",Bd:"exakt passend",ac:"extra Block",md:"Griff",Kb:"Shuttle",de:"Festblock"};y("makeDoNothingApp",function(a){return new on(a)});function tn(){throw Error();}y("module$exports$myphysicslab$test$DoNothingTest.do_nothing_variable_setup",function(a,b){V(a,new df(.05,.15,a.a));a.qa(.01);a.Ka(.5);Gf(a,"serial grouped lastpass");a.fa(!1);a.Z(.6);b.f=new Uc(a);X(a,"velocity");b.c=!0;b.a=.025;sn(a,!0);W(a,.8);b=new M(-5,-5,5,5);a.c=b;b=Af(a,"handle");V(a,new nn(a,b,new J(0,-3),2,.3))});
function un(a,b){a.qa(.01);a.Ka(.5);Gf(a,"serial grouped lastpass");a.fa(!1);a.Z(.6);X(a,"velocity");b.c=!0;b.f=new Uc(a);b.a=.025;sn(a,!0);W(a,.8);b=new M(-5,-5,5,5);a.c=b;b=Af(a,"handle");b=new yc("turning",b,new J(0,-3),0,Cb,0);V(a,new Gh(b))}y("module$exports$myphysicslab$test$DoNothingTest.do_nothing_constant_setup",un);y("module$exports$myphysicslab$test$DoNothingTest.do_nothing_constant_1b_setup",function(a,b){un(a,b);b.c=!1;X(a,"none")});function vn(){throw Error();}function wn(a,b){V(a,new df(0,.15,a.a));a.qa(.01);a.Ka(.5);a.Z(.6);Gf(a,"serial grouped lastpass");a.ya(99999);a instanceof Nf&&X(a,"none");b.c=!0;b.a=.025;b.f=new Uc(a)}
function xn(a,b,c){var d=yn;switch(b){case d.ff:case d.ke:case d.me:case d.le:var e=yn;d=Z(1,5,"PENDULUM");d.Eb([new J(0,-2)]);d.u(new J(0,-2),0);d.U();a.s(d);var f=new J(0,2),h=new J(0,0),k=new J(-.4,-1);switch(b){case e.ke:kn(a,tf,d.G(f),d,f,c,Cb);break;case e.me:kn(a,tf,d.G(k),d,k,c,Db);case e.le:kn(a,tf,d.G(h),d,h,c,Cb)}kn(a,tf,d.G(f),d,f,c,Db);b=xc(.2,"ATTACH1").M(I);b.u(d.G(f));a.a.add(b);W(a,.8);Of(a);break;case d.ue:case d.we:case d.xe:case d.ye:case d.te:case d.ve:d=yn;f=Z(1,1,"connect1");
e=Z(.9,1.1,"connect2");f.M(.6);e.M(.6);f.u(new J(0,0),0);e.u(new J(0,0),0);a.s(f);a.s(e);f.U(0);e.U(0);h=new J(0,-.4);k=new J(-.4,0);var m=new J(.4,0),p=new J(0,.4),q=new J(0,0),t=new J(-.4,.4),u=new J(.4,-.4),C=new J(0,0),G=Ab(new J(.2,.8)),w=Ab(new J(-.5,.5)),x=Ab(new J(.6,-.4));switch(b){case d.ye:kn(a,f,u,e,C,c,x);case d.xe:kn(a,f,q,e,t,c,w);case d.we:kn(a,f,m,e,p,c,Cb);case d.ue:kn(a,f,h,e,k,c,G);break;case d.ve:kn(a,f,m,e,p,c,Db),kn(a,f,m,e,p,c,Cb);case d.te:kn(a,f,h,e,k,c,Db);kn(a,f,h,e,k,
c,Cb);break;default:throw Error();}W(a,.8);Of(a);break;default:throw Error();}}y("module$exports$myphysicslab$test$JointTest.pendulum_1_joint_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.ff,1);Af(a,"pendulum").bb(Math.PI/3);Of(a);V(a,new U(5,a.a));b=new Ob("joint-line",new J(0,0),new J(4,0));a.a.add(b)});y("module$exports$myphysicslab$test$JointTest.pendulum_2_joints_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.ke,1);Af(a,"pendulum").bb(Math.PI/3);Of(a);V(a,new U(5,a.a))});
y("module$exports$myphysicslab$test$JointTest.pendulum_2_joints_offset_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.le,1);Af(a,"pendulum").bb(Math.PI/3);Of(a);V(a,new U(5,a.a));b=Da(B(a.a.a),function(a){return"JOINT1"==a.getName()});null!=b&&(b=new Ob("joint1_line",b.Na().add(new J(-4,0)),b.Na().add(new J(4,0))),a.a.add(b));b=Da(B(a.a.a),function(a){return"JOINT0"==a.getName()});null!=b&&(b=new Ob("joint0_line",b.Na().add(new J(0,-4)),b.Na().add(new J(0,4))),console.log("line="+b),a.a.add(b))});
y("module$exports$myphysicslab$test$JointTest.pendulum_3_joints_offset_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.me,1);Af(a,"pendulum").bb(Math.PI/3);Of(a);V(a,new U(5,a.a))});y("module$exports$myphysicslab$test$JointTest.two_blocks_1_joint_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.ue,0)});y("module$exports$myphysicslab$test$JointTest.two_blocks_2_joints_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.we,0)});
y("module$exports$myphysicslab$test$JointTest.two_blocks_3_joints_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.xe,0)});y("module$exports$myphysicslab$test$JointTest.two_blocks_4_joints_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.ye,0);b=Af(a,"connect1");b.K(new J(0,0),6);zf(a,b);b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});y("module$exports$myphysicslab$test$JointTest.two_blocks_1_dbl_joint_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.te,0)});
y("module$exports$myphysicslab$test$JointTest.two_blocks_2_dbl_joint_setup",function(a,b){var c=yn;wn(a,b);xn(a,c.ve,0);b=Af(a,"connect1");b.K(new J(0,0),6);W(a,.8);zf(a,b);b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});var yn={ff:1,ke:2,le:3,me:4,ue:5,we:6,xe:7,ye:8,te:9,ve:10};var zn={qg:"chain links",Lg:"walls",ce:"extra body",$f:"fixed point left",cg:"fixed point right",ag:"fixed point left X",bg:"fixed point left Y",Tf:"block length",Uf:"block width",ae:"chain",Mg:"wall width"},An={qg:"Kettenglieder",Lg:"W\u00e4nde",ce:"extra K\u00f6rper",$f:"Fixpunkt links",cg:"Fixpunkt rechts",ag:"Fixpunkt links X",bg:"Fixpunkt links Y",Tf:"Blockl\u00e4nge",Uf:"Blockbreite",ae:"Kette",Mg:"Wand breite"};function Bn(a,b,c,d,e){this.c=kb(E(a));this.i=b||a;this.j=c;this.h=d;this.g=e}Bn.prototype.toString=function(){return""};Bn.prototype.getName=function(a){return a?this.i:this.c};Bn.prototype.R=function(a){return this.c==E(a)};function Cn(a,b,c,d,e,f){r(b)||(b=-3*Math.PI/2);r(c)||(c=Math.PI/2);n(d)||(d=!0);e=e||Dn.da;f=f||En.da;Bn.call(this,e,f,b,c,d);this.f=a}l(Cn,Bn);Cn.prototype.toString=function(){return""};Cn.prototype.a=function(a){return this.f*Math.cos(a)};Cn.prototype.b=function(a){return this.f*Math.sin(a)};var Dn={da:"Circle"},En={da:"Kreis"};function Fn(a,b){a=new Rl(b,a);for(var c=0;6>c;c++){var d=c;var e=c,f=b;var h=f.Tb()[0];2>=e||(e=f.nc(),h=K(h,e),h=K(e,h));e=c;f=0>e||e>=Gn.length?L:Bb(new J(2==e||3==e?1:.4,0),Gn[e]);e=a;if(0>d||d>=e.b.length)throw Error();e.b[d]=h;e.c[d]=f}return a}var Gn=Array(6);Gn[0]=Math.PI;Gn[1]=0;Gn[2]=Math.PI/2;Gn[3]=-Math.PI/2;Gn[4]=Math.PI;Gn[5]=0;function Hn(a){var b=new M(-4,-6,8,6),c=new Nf;dn.call(this,a,b,c,new Xc(c));this.c=c;Kg(Hg(this.sa.f),"10pt sans-serif");Lj(this.sa.A,.3);this.c.fa(!0);this.F=new df(0,.15,this.C);this.O=new U(3,this.C);this.h.c(.8);this.ab=6;this.g=1.5;hn(this,Rk(this.a));this.I(a=Xb(Vb(Ub(new N(this,In.kb,Jn.kb,v(this.gi,this),v(this.hi,this))),1),6));hn(this,new Ql(a));this.I(a=new N(this,In.Ad,Jn.Ad,v(this.zh,this),v(this.Ni,this)));hn(this,new Ql(a));a=ec(this.O,pf.Ma);hn(this,new Ql(a));en(this,a);a=ec(this.F,
gf.ub);hn(this,new Ql(a));jn(this);fn(this);gn(this);Kn(this);this.Pc()}l(Hn,dn);g=Hn.prototype;g.toString=function(){return""};g.ob=function(a){dn.prototype.ob.call(this,a)};g.Ha=function(){return Ja(this.F,this.O,dn.prototype.Ha.call(this))};
function Kn(a){var b=a.h.b();a.c.wb();a.ia.reset();Ln(a.c,a.O,a.F,a.ab,a.o.b,a.A);if(1<=a.ab){var c=Af(a.c,"block1");a.ta=Fn(a.g,c);Vl(a.la,a.ta,"left");V(a.c,a.ta)}2<=a.ab&&(c=Af(a.c,"ball2"),a.$=Fn(a.g,c),Vl(a.la,a.$,"right"),V(a.c,a.$));W(a.c,b);xf(a.c);nk(a.f,a.c.X());mk(a.f,a.c.X());qj(a.B)}
function Ln(a,b,c,d,e,f){V(a,c);ff(c,a.a);V(a,b);of(b,a.a);c=Z(2,2,In.Jb+1,Jn.Jb+1);c.M(I);c.u(new J(-.4,-4.6),-Math.PI/16);a.s(c);c=Y(2,In.ee+2,Jn.ee+2);c.M(I);c.u(new J(3,-2.1),0);a.s(c);c=Z(2,2,In.Jb+3,Jn.Jb+3);c.M(I);c.u(new J(-3.4,-4.6),Math.PI/16);a.s(c);c=Z(1.5,4,In.Jb+4,Jn.Jb+4);c.M(I);c.u(new J(6.7,-1),-.2);a.s(c);1<=d&&(c=Z(.8,1.5,In.sc+1,Jn.sc+1),c.u(new J(-2,-2),0),a.s(c),null!=f&&Ig(Rj(f,c),"cyan"));2<=d&&(c=Y(.8,In.jb+2,Jn.jb+2),c.ra(c.Aa()+.5*c.S(),c.Fa()+.2*c.T()),c.u(new J(-1.7,1),
0),a.s(c),null!=f&&Ig(Rj(f,c),"orange"));3<=d&&(c=Y(1,In.jb+2,Jn.jb+2),c.u(new J(.5,1.8+a.g/2),Math.PI),a.s(c),null!=f&&Ig(Rj(f,c),"#9f3"));4<=d&&(c=Z(.8,2,In.sc+4,Jn.sc+4),c.M(2),c.u(new J(5,0),.2),a.s(c),null!=f&&Ig(Rj(f,c),"#f6c"));5<=d&&(c=Y(.4,In.jb+5,Jn.jb+5),c.M(1.5),c.u(new J(5.9,2)),a.s(c),null!=f&&Ig(Rj(f,c),"#39f"));6<=d&&(c=Y(1,In.jb+6,Jn.jb+6),c.M(1),c.u(new J(-2.5,4)),a.s(c),null!=f&&Ig(Rj(f,c),"#c99"));a=Ah(a,e);b.U(a)}g.gi=function(){return this.ab};
g.hi=function(a){this.ab=a;Kn(this);Q(this,In.kb)};g.zh=function(){return this.g};g.Ni=function(a){this.g=a;this.$.f=a;this.ta.f=a;Q(this,In.Ad)};var In={kb:"number of objects",Ad:"thrust",jb:"ball",sc:"block",ee:"fixed ball",Jb:"fixed block"},Jn={kb:"Anzahl von Objekten",Ad:"Schubkraft",jb:"Ball",sc:"Block",ee:"Festball",Jb:"Festblock"};y("makeCurvedTestApp",function(a){return new Hn(a)});function Mn(a,b,c){if(c<b)throw Error();var d=B(a.c).length;if(0>b||b>=d)throw Error();if(0>c||c>=d)throw Error();this.c=a;this.a=b;this.b=c}Mn.prototype.toString=function(){return""};function Nn(a){for(var b=Zd(a);;){var c=ce(a.f),d=Zd(c);if(d<b)b=d,a=c;else break}c=Zd(ce(a.f));return new Mn(a.a,b,c)};function On(a,b,c,d){r(a)||(a=-3);r(b)||(b=3);c=c||Pn.da;d=d||Qn.da;Bn.call(this,c,d,a,b,!1)}l(On,Bn);On.prototype.a=function(a){return a};On.prototype.b=function(a){return 3+a*a*(-7+a*a)/6};var Pn={da:"Hump"},Qn={da:"Buckel"};function Rn(a){var b=new M(-5,-3,5,5),c=new Nf;dn.call(this,a,b,c,new Xc(c));this.c=c;this.b.j.ib("black");this.b.j.Db(.1);this.h.c(1);this.c.fa(!1);this.ia.c=!1;this.F=new df(0,.15,this.C);this.O=new U(32,this.C);this.g={Yc:3,Ia:.6,Jd:0,ab:5,Nf:-Math.PI/4};hn(this,Rk(this.a));this.I(a=Xb(Vb(Ub(new N(this,Sn.kb,Tn.kb,v(this.ii,this),v(this.ki,this))),1),6));hn(this,new Ql(a));a=ec(this.O,pf.Ma);hn(this,new Ql(a));en(this,a);a=ec(this.F,gf.ub);hn(this,new Ql(a));this.I(a=new N(this,Sn.pd,Tn.pd,v(this.xh,
this),v(this.Li,this)));hn(this,new Ql(a));this.I(a=new N(this,Sn.jd,Tn.jd,v(this.hh,this),v(this.Ai,this)));hn(this,new Ql(a));this.I(a=new N(this,Sn.sd,Tn.sd,v(this.ji,this),v(this.li,this)));hn(this,new Ql(a));jn(this);fn(this);gn(this);Un(this);this.Pc()}l(Rn,dn);g=Rn.prototype;g.toString=function(){return""};g.ob=function(a){dn.prototype.ob.call(this,a)};g.Ha=function(){return Ja(this.F,this.O,dn.prototype.Ha.call(this))};
g.Pc=function(a){a=Af(this.c,"pendulum1");this.i.a.tb(a.wa()+4);this.i.a.Sa(a.wa()+5);this.v.a.Sa(a.wa()+4);this.v.b.Sa(a.wa()+5)};g.ii=function(){return this.g.ab};g.ki=function(a){this.g.ab=a;Un(this);Q(this,Sn.kb)};g.xh=function(){return this.g.Yc};g.Li=function(a){this.g.Yc=a;Un(this);Q(this,Sn.pd)};g.hh=function(){return this.g.Jd};g.Ai=function(a){this.g.Jd=a;Un(this);Q(this,Sn.jd)};g.ji=function(){return this.g.Ia};g.li=function(a){this.g.Ia=a;Un(this);Q(this,Sn.sd)};
function Un(a){var b=a.h.b();a.c.wb();V(a.c,a.F);ff(a.F,a.c.a);V(a.c,a.O);of(a.O,a.c.a);Vn(a.c,a.g);W(a.c,b);Lc(a.c.w());xf(a.c);nk(a.f,0);mk(a.f,0);qj(a.B)}function Vn(a,b){var c=b.ab,d=b.Ia,e=a.g/2+b.Jd;c=-(2*c*d+(c-1)*e)/2+d;for(d=0;d<b.ab;d++){var f=rh(b.Yc,b.Ia,Sn.je+(d+1),Tn.je+(d+1));f.bb(0);a.s(f);mn(a,tf,new J(c,2),f,new J(0,b.Yc),1);f.U();Of(a);c+=f.S()+e}Af(a,"pendulum1").bb(b.Nf);Of(a)}
var Sn={jd:"offset",je:"pendulum",kb:"pendulums",pd:"pendulum length",sd:"radius"},Tn={jd:"Zwischenraum",je:"Pendel",kb:"Pendelanzahl",pd:"Pendell\u00e4nge",sd:"Radius"};y("makeNewtonsCradleApp",function(a){return new Rn(a)});function Wn(a,b,c){var d=2*Math.PI/36,e=40*d/200,f=30*d/100,h=new J(b,0);b=new J(b+.3,0);var k=h;$e(a,new te(new J(k.l(),k.m())));for(var m=0;36>m;m++){var p=m*d,q=Bb(b,p+e);var t=.001>Math.abs(k.l()-q.l())?q.m()>k.m():k.l()>q.l();t=T(a,q,t);0==m&&c.push(t);k=Bb(b,p+e+f);t=.001>Math.abs(k.l()-q.l())?k.m()>q.m():k.l()<q.l();T(a,k,t);q=Bb(h,p+e+f+e);t=.001>Math.abs(k.l()-q.l())?k.m()>q.m()?!1:!0:q.l()<k.l();T(a,q,t);k=Bb(h,p+d);t=.001>Math.abs(k.l()-q.l())?k.m()>q.m():k.l()<q.l();T(a,k,t)}Oe(a)};var Xn={Wd:"anchor",fd:"escape wheel",ce:"extra body",tg:"pendulum length",Eg:"turning force",Og:"with gears",ge:"gear"},Yn={Wd:"Anker",fd:"escape Rad",ce:"extra K\u00f6rper",tg:"Pendell\u00e4nge",Eg:"drehende Kraft",Og:"mit Zahnr\u00e4dern",ge:"Zahnrad"};function Zn(){throw Error();}y("module$exports$myphysicslab$test$MiscellanyTest.newtons_cradle_setup",function(a,b){a.fa(!0);Gf(a,"serial grouped lastpass");a.Z(.6);a.qa(.01);X(a,"velocity");var c=new M(-5,-3,5,5);a.c=c;b.c=!1;b.f=new Uc(a);b.a=.025;Vn(a,{Yc:3,Ia:.6,Jd:0,ab:5,Nf:-Math.PI/4});W(a,1);V(a,new df(0,.15,a.a));V(a,new U(32,a.a))});
y("module$exports$myphysicslab$test$MiscellanyTest.chain_setup",function(a,b){a.fa(!0);Gf(a,"serial grouped lastpass");a.Z(.6);a.qa(.01);X(a,"velocity_joints");b.c=!1;b.f=new Uc(a);b.a=.025;var c=.15*3;var d=-180;b=[];var e;for(e=0;7>e;e++){var f=new He(zn.ae+"-"+e,An.ae+"-"+e);$e(f,new te(new J(0,0)));T(f,new J(1,0),!1);T(f,new J(1,3),!0);T(f,new J(0,3),!0);T(f,new J(0,0),!1);Ve(f);We(f,new J(.5,1.5));f.Ba(10/12);f.Y(.8);b.push(f);a.s(f);d+=22.5;f.bb(Math.PI*d/180);0==e&&f.vb(new J(.5,c),new J(-5,
4),Math.PI*d/180)}for(e=0;7>e;e++)0==e&&ln(a,b[e],new J(.5,c),0),0<e&&mn(a,b[e-1],new J(.5,2.55),b[e],new J(.5,c),0),6==e&&ln(a,b[e],new J(.5,2.55),0);Of(a);c=Lb;for(e=0;7>e;e++)d=b[e],d.U(),c=Kb(c,d.Ja());b=c;W(a,.8);b=b.scale(1.15);a.c=b;V(a,new df(0,.15,a.a));V(a,new U(4,a.a))});
y("module$exports$myphysicslab$test$MiscellanyTest.clock_with_gears_setup",function(a,b){var c=new M(-2,-2,6,4.5);a.c=c;a.fa(!0);Gf(a,"serial grouped lastpass");a.Z(.6);a.qa(.01);X(a,"velocity");b.c=!0;b.f=new Uc(a);b.a=.025;var d=new J(3.27,166*.03);c=[];b=new He(Xn.Wd,Yn.Wd);$e(b,new te(new J(61*.03,3.12)));var e=T(b,new J(.24,162*.03),!1);c.push(e);T(b,new J(3.27,5.91),!0);T(b,new J(6.63,4.38),!0);T(b,new J(155*.03,3.09),!1);T(b,new J(4.77,3.81),!0);T(b,new J(2.19,141*.03),!1);T(b,new J(61*.03,
3.12),!1);Oe(b);var f=d.l(),h=d.m()-4-.6;$e(b,new te(new J(.05+f,.6+h)));e=T(b,new J(.05+f,4.05+h),!0);c.push(e);T(b,new J(-.05+f,4.05+h),!0);T(b,new J(-.05+f,.6+h),!1);Le(b,new J(.05+f,.6+h),new J(f,h));Oe(b);Ve(b);b.ra(f,h);b.Eb([new J(f,h)]);e=Math.sqrt(.05*.05+.36);b.Ba(e*e/2);b.M(10);a.s(b);e=L.add(new J(0,4.6));b.vb(d,e,0);ln(a,b,d,0);b.U();b.vb(d,e,.13);Of(a);d=new He(Xn.ge+2,Yn.ge+2);Wn(d,2.16,[]);Ve(d);d.Ba(2.3328);d.M(.5);f=2*Math.PI/36;e=L.add(new J(4.328+.4,0));d.u(e,-f/5-.002);d.Da([b]);
b.Da([d]);a.s(d);ln(a,d,new J(0,0),1);d.U();e=[];f=new He(Xn.fd,Yn.fd);h=90*.03;var k=new J(h,0),m=new J(h+.42,0),p=k,q=m;$e(f,new te(new J(p.l(),p.m())));for(var t=1;24>=t;t++){var u=.01>Math.abs(p.l()-q.l())?q.m()>p.m():p.l()>q.l();p=T(f,q,u);1==t&&e.push(p);var C=2*Math.PI*t/24;p=Bb(k,C);u=.01>Math.abs(p.l()-q.l())?q.m()<p.m():p.l()<q.l();T(f,p,u);q=Bb(m,C)}Oe(f);Wn(f,.8*h,e);Ve(f);f.ra(0,0);f.Eb([new J(0,2)]);h+=.21;f.Ba(h*h/2);f.u(L,0);f.M(1);a.s(f);ln(a,f,L,1);f.U();c=Nn(c[1]);f.C=c;c=Nn(e[0]);
d.C=c;c=Nn(e[1]);b.C=c;W(a,.3);b=Af(a,Xn.fd);b=new yc("turning",b,new J(2,0),0,new J(0,-1),0);V(a,new Gh(b));V(a,new df(.05,.15,a.a));V(a,new U(10,a.a))});function $n(a,b){a.qa(.01);a.Ka(.5);a.Z(.6);Gf(a,"serial grouped lastpass");X(a,"velocity");b.c=!0;b.a=.025;b.f=new Uc(a)}
y("module$exports$myphysicslab$test$MiscellanyTest.non_collide_edges_setup",function(a,b){$n(a,b);b=rh(3,.6,"pendulum1");b.u(new J(0,0),5*Math.PI/4);a.s(b);var c=Y(.5,"ball");c.M(.7);c.u(new J(-.2,-2),0);var d=Zd(B(b.c)[0]),e=Zd(B(b.c)[2]);d=new Mn(b,d,e);c.C=d;a.s(c);d=Z(10,.5,"floor");d.M(I);d.u(new J(0,-6),0);e=d.Nc();b.U(e+.6);c.U(e+.5);a.s(d);W(a,.8);V(a,new U(3,a.a));V(a,new df(.1,.15,a.a))});
y("module$exports$myphysicslab$test$MiscellanyTest.damping_standard_setup",function(a,b){$n(a,b);b=Y(.5,"small");b.u(new J(2,0),0);b.K(new J(0,0),2);a.s(b);b=Y(1,"large");b.u(new J(-2,0),0);b.K(new J(0,0),2);a.s(b);W(a,.8);V(a,new df(.1,.15,a.a))});
y("module$exports$myphysicslab$test$MiscellanyTest.three_body_spin_setup",function(a,b,c){void 0===c&&(c=0);V(a,new df(c,.15,a.a));a.qa(.01);a.Ka(.5);Gf(a,"serial grouped lastpass");a.fa(!1);a.Z(.6);X(a,"velocity");b.f=new Uc(a);b.c=!0;b.a=.025;b=Z(1,3,"block1");b.M(2);b.K(new J(-6,0),-6);a.s(b);c=Z(1,6,"block2");c.M(.2);a.s(c);var d=Z(1,3,"block3");d.bb(Math.PI);d.M(1);d.K(new J(12,0),-6);a.s(d);c.Da([b,d]);b.Da([d]);d.Da([b]);d.If([b]);mn(a,c,new J(0,2.7),b,new J(0,-1.3),0);mn(a,c,new J(0,-2.7),
d,new J(0,-1.3),0);Of(a);W(a,.8);b=new M(-7,-7,7,7);a.c=b;b=[];a.ua(b,Ic(a.w()),0);hd(a,b);a:if(a=B(a.i),b=a.length,0<b){for(c=0;c<b;c++){d=a[c];var e=d.Kd();if(.005<Math.abs(e)){jh(!1,"joints","joint not tight, tolerance="+Ya(.005)+" dist="+Ya(e)+" joint="+d);break a}}jh(!0,"joint_tightness")}});
y("module$exports$myphysicslab$test$MiscellanyTest.curved_test_error_setup",function(a,b){a.fa(!0);Gf(a,"serial grouped lastpass");a.Z(.6);a.qa(.01);X(a,"velocity_and_distance");var c=new M(-4,-6,8,6);a.c=c;b.a=.025;b=new df(0,.15);var d=new U(3);Ln(a,d,b,6,c,null);R(a.w(),0,51.324999999998155);R(a.w(),1,4.938388182728488);R(a.w(),2,77.95311071780354);R(a.w(),3,82.89149890053203);R(a.w(),4,-.4);R(a.w(),5,0);R(a.w(),6,-4.6);R(a.w(),7,0);R(a.w(),8,-.19634954084936207);R(a.w(),9,0);R(a.w(),10,3);R(a.w(),
11,0);R(a.w(),12,-2.1);R(a.w(),13,0);R(a.w(),14,0);R(a.w(),15,0);R(a.w(),16,-3.4);R(a.w(),17,0);R(a.w(),18,-4.6);R(a.w(),19,0);R(a.w(),20,.19634954084936207);R(a.w(),21,0);R(a.w(),22,6.7);R(a.w(),23,0);R(a.w(),24,-1);R(a.w(),25,0);R(a.w(),26,-.2);R(a.w(),27,0);R(a.w(),28,-2.030795390390061);R(a.w(),29,4.512865458735808E-15);R(a.w(),30,-4.281663998539167);R(a.w(),31,-1.1584129699182643E-14);R(a.w(),32,.19634954084936204);R(a.w(),33,3.3977124756576173E-17);R(a.w(),34,-3.508908223390306);R(a.w(),35,
-.0022134459375859725);R(a.w(),36,-3.071233147002327);R(a.w(),37,-.18982118035546516);R(a.w(),38,-.7162029577728759);R(a.w(),39,-.007014474875197854);R(a.w(),40,-1.4131244157697151);R(a.w(),41,-.06857331596331266);R(a.w(),42,-2.408589255520962);R(a.w(),43,.12595281822724558);R(a.w(),44,-112.72011439193216);R(a.w(),45,-3.7286560279187655);R(a.w(),46,.48658427652460706);R(a.w(),47,.23366497836499053);R(a.w(),48,-2.764524317030443);R(a.w(),49,-.19591156901509027);R(a.w(),50,3.7792677989200723);R(a.w(),
51,.30948577445391096);R(a.w(),52,.6997935247254902);R(a.w(),53,-.022239653137489386);R(a.w(),54,-1.858830272934958);R(a.w(),55,-.1391275239412234);R(a.w(),56,-20.117731072015484);R(a.w(),57,-1.700213190810039);R(a.w(),58,-2.8164864386930573);R(a.w(),59,-.31043319580664064);R(a.w(),60,-.936849316206379);R(a.w(),61,-.2824877573186655);R(a.w(),62,88.5596358892376);R(a.w(),63,2.1012464824287935);R(a.w(),64,2);R(a.w(),65,0);R(a.w(),66,-6.5);R(a.w(),67,0);R(a.w(),68,0);R(a.w(),69,0);R(a.w(),70,8.5);R(a.w(),
71,0);R(a.w(),72,0);R(a.w(),73,0);R(a.w(),74,0);R(a.w(),75,0);R(a.w(),76,2);R(a.w(),77,0);R(a.w(),78,6.5);R(a.w(),79,0);R(a.w(),80,0);R(a.w(),81,0);R(a.w(),82,-4.5);R(a.w(),83,0);R(a.w(),84,0);R(a.w(),85,0);R(a.w(),86,0);R(a.w(),87,0);a.ea()});
y("module$exports$myphysicslab$test$MiscellanyTest.roller_hump_setup",function(a,b){$n(a,b);b.c=!1;X(a,"velocity_joints");b=new Rg(new On);a.a.add(b);var c=Z(1,3,"block");c.u(new J(-4,4),Math.PI/4);c.K(new J(0,0),0);a.s(c);var d=c.Tb()[1];b=new fh(b,c,d);Pf(a,b);Of(a);V(a,new U(3,a.a))});
y("module$exports$myphysicslab$test$MiscellanyTest.roller_end_point_setup",function(a,b){$n(a,b);b.c=!1;X(a,"velocity_joints");b=new Rg(new Cn(3));a.a.add(b);var c=Z(1,3,"block");c.u(new J(-4,4),Math.PI/4);c.K(new J(0,0),0);c.Y(.5);a.s(c);var d=c.Tb()[1],e=new fh(b,c,d);Pf(a,e);e=Zg(b,new J(-2,-2));Pf(a,new qm("stop point",b,c,d,e.a,!0));Of(a);V(a,new U(3,a.a))});function ao(){throw Error();}function bo(a,b){V(a,new df(0,.15,a.a));a.Z(.6);Gf(a,"serial grouped lastpass");a.ya(99999);a instanceof Nf&&(a.qa(.01),a.Ka(.5),X(a,"velocity"));b.c=!1;b.a=.025;b.f=new Uc(a)}y("module$exports$myphysicslab$test$MultipleCollisionTest.one_hits_wall_setup",function(a,b){bo(a,b);b=Z(1,1,"block");b.u(new J(0,2),0);b.K(new J(0,-3),0);a.s(b);b=Z(3,1,"wall");b.u(new J(0,-2),0);b.M(I);a.s(b);W(a,1)});
function co(a,b,c){bo(a,b);b=c?Y(.5,"ball0"):Z(1,1,"block0");b.u(new J(-3,0),0);b.K(new J(3,0),0);a.s(b);b=c?Y(.5,"ball1"):Z(1,1,"block1");b.u(new J(0,0),0);a.s(b);c=c?Y(.5,"ball2"):Z(1,1,"block2");c.u(new J(1.005,0),0);a.s(c);W(a,1)}y("module$exports$myphysicslab$test$MultipleCollisionTest.one_hits_two_ball_setup",function(a,b){co(a,b,!0)});y("module$exports$myphysicslab$test$MultipleCollisionTest.one_hits_two_block_setup",function(a,b){co(a,b,!1)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.two_hits_one_asymmetric_setup",function(a,b){bo(a,b);b=a.g;var c=Y(.5,"left");c.u(new J(-5+b/2,0),0);c.K(new J(3,0),0);a.s(c);b=Y(.5,"center");b.u(new J(0,0),0);a.s(b);b=Y(.5,"right");b.u(new J(3,0),0);b.K(new J(-1.5,0),0);a.s(b);W(a,1)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.one_hits_two_separate_setup",function(a,b){bo(a,b);b=Z(1,3,"block0");b.u(new J(-4,0),0);b.K(new J(3,0),0);b.M(2);a.s(b);b=Y(.5,"ball1");b.u(new J(0,1),0);a.s(b);b=Y(.5,"ball2");b.u(new J(0,-1),0);a.s(b);W(a,1)});
function eo(a,b,c){bo(a,b);b=c?Y(.5,"ball0"):Z(1,1,"block0");b.u(new J(-3,0),0);b.K(new J(3,0),0);a.s(b);b=c?Y(.5,"ball1"):Z(1,1,"block1");b.u(new J(0,0),0);a.s(b);c=c?Y(.5,"ball2"):Z(1,1,"block2");c.u(new J(1.005,0),0);a.s(c);c=Z(1,3,"wall");c.M(I);c.u(new J(2.01,0),0);a.s(c);W(a,1)}y("module$exports$myphysicslab$test$MultipleCollisionTest.one_hits_two_on_wall_ball_setup",function(a,b){eo(a,b,!0)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.one_hits_two_on_wall_block_setup",function(a,b){eo(a,b,!1)});y("module$exports$myphysicslab$test$MultipleCollisionTest.center_spin_setup",function(a,b){bo(a,b);b=Z(1,3,"block0");b.u(new J(0,0),0);b.K(new J(0,0),2);a.s(b);b=Z(1,3,"block1");b.u(new J(2.8,0),Math.PI/2);a.s(b);b=Z(1,3,"block2");b.u(new J(-2.8,0),-Math.PI/2);a.s(b);W(a,1)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.side_spin_setup",function(a,b){bo(a,b);b=Z(1,3,"block0");b.u(new J(0,0),Math.PI/2);a.s(b);b=Z(1,3,"block1");b.u(new J(2.8,1.001),0);b.K(new J(0,0),2);a.s(b);b=Z(1,3,"block2");b.u(new J(-2.8,1.001),Math.PI/2);a.s(b);W(a,1)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.joint_collision_setup",function(a,b){bo(a,b);b=xh(a,20,10);var c=Z(1,3,"joint1");c.u(new J(2,-4.495),Math.PI/2);var d=Z(1,3,"joint2");d.u(new J(4,-4.495),Math.PI/2);a.s(c);a.s(d);mn(a,c,new J(0,1),d,new J(0,-1),0);Of(a);c=Z(1,3,"free1");c.u(new J(-6,-4.495),Math.PI/2);c.K(new J(3,0),0);a.s(c);c=new U(4,a.a);V(a,c);c.U(b+.5);W(a,.8)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.joint_collision_2_setup",function(a,b){bo(a,b);b=Z(1,3,"joint1");b.u(new J(2,0),Math.PI/2);var c=Z(1,3,"joint2");c.u(new J(0,0),Math.PI/2);c.K(new J(3,0),0);a.s(b);a.s(c);mn(a,b,new J(0,1),c,new J(0,-1),0);Of(a);b=[];a.ua(b,Ic(a.w()),0);hd(a,b);W(a,.8)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.joint_collision_3_setup",function(a,b){bo(a,b);b=Z(1,3,"joint1");b.u(new J(2,0),Math.PI/2);a.s(b);var c=Z(1,3,"joint2");c.u(new J(0,0),Math.PI/2);a.s(c);mn(a,b,new J(0,1),c,new J(0,-1),0);Of(a);b=Y(.5,"free1");b.u(new J(-6,0),Math.PI/2);b.K(new J(3,0),0);a.s(b);W(a,1)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.joint_collision_4_setup",function(a,b){bo(a,b);b=Z(1,3,"joint1");b.u(new J(2,0),Math.PI/2);b.K(new J(0,0),3);a.s(b);var c=Z(1,3,"joint2");c.u(new J(0,0),Math.PI/2);c.K(new J(0,0),-5);a.s(c);mn(a,b,new J(0,1),c,new J(0,-1),0);Of(a);W(a,.8);b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.joint_collision_5_setup",function(a,b){bo(a,b);b=a.g;var c=Y(.5,"body4");c.M(2);c.u(new J(1+b/2,0));a.s(c);c=Y(.5,"body1");c.M(2);c.u(new J(-5,0),0);c.K(new J(3,0),0);a.s(c);b=Z(2,1,"body2");b.u(new J(-2,0));a.s(b);c=Z(2,1,"body3");c.u(new J(-.5,0));a.s(c);mn(a,b,new J(.75,0),c,new J(-.75,0),0);Of(a);W(a,1)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.two_in_box_setup",function(a,b){bo(a,b);b=a.g;var c=qh(3*b/2+2.2,2*b/2+1.2);c.u(new J(0,0));a.s(c);c=Y(.5,"body2");c.u(new J(-.5-b/4,0));a.s(c);c=Y(.5,"body3");c.u(new J(.5+b/4,0));c.K(new J(3,0),0);a.s(c);W(a,1)});
y("module$exports$myphysicslab$test$MultipleCollisionTest.one_hits_two_in_box_setup",function(a,b){bo(a,b);b=a.g;var c=qh(3*b/2+2.2,2*b/2+1.2);c.u(new J(0,0));a.s(c);c=Y(.5,"body2");c.u(new J(-.5-b/4,0));a.s(c);c=Y(.5,"body3");c.u(new J(.5+b/4,0));a.s(c);c=Y(.5,"body4");c.u(new J(-5,0));c.K(new J(3,0),0);a.s(c);W(a,1)});function fo(a,b){b=n(b)?b:0;var c=uh(15.3,1,2,yh.Pb+"_"+go.xc,zh.Pb+"_"+ho.xc);c.u(new J(-5,-5+b),-Math.PI/4);c.M(I);a.s(c);var d=uh(15.3,1,2,yh.Pb+"_"+go.zc,zh.Pb+"_"+ho.zc);d.u(new J(5,-5+b),Math.PI/4);d.M(I);a.s(d);var e=uh(1,15,3,yh.Ec,zh.Ec);e.u(new J(10.5,7.5+b),0);e.M(I);a.s(e);var f=uh(1,15,1,yh.Dc,zh.Dc);f.u(new J(-10.5,7.5+b),0);f.M(I);a.s(f);var h=[c,d,e,f];z(h,function(a){a.Da(h)});return c.G(new J(6.65,.5)).m()}
function io(a,b,c){for(var d=0,e=0,f=0;;){var h=b.b+2.2+4*d+.2*d;if(h+2.2>b.na())break;for(;;){var k=2.2+b.va()+4*e+.2*e;if(k+2.2>b.a)break;f++;var m=c?Y(2):Z(4,4);m.u(new J(k,h));m.M(1);a.s(m);if(10<f)return;e++}e=0;d++}}
function jo(a,b,c,d,e){var f=n(f)?f:!0;for(var h=[],k=0;k<b;k++){var m=.2+cf(e)/4294967295,p=.2+cf(e)/4294967295,q=Math.PI*(cf(e)/4294967295);ko(e);if(f)var t=Z(m,p);else{var u=void 0,C=void 0;t=Math.sqrt(m*m+p*p)/2;n(C)||(C=Math.PI/4);n(u)||(u=3*Math.PI/4);for(var G=[0],w=0,x=0;3>x;x++){var H=(.5+cf(vh)/4294967295)*(2*Math.PI-w)/(4-x);H=Math.min(Math.min(u,2*Math.PI-w-C*(3-x)),Math.max(C,H));H=Math.min(2*Math.PI,w+H);G.push(H);w=H}u=new He(void 0,void 0);w=C=new J(t,0);$e(u,new te(w));for(x=1;4>
x;x++)H=new J(t*Math.cos(G[x]),t*Math.sin(G[x])),T(u,H,H.l()<w.l()),w=H;T(u,C,!1);Ve(u);u.Ba(t*t/6);u.Y(.8);t=u}G=m*(cf(e)/4294967295)/4;x=p*(cf(e)/4294967295)/4;m=.9*m/2;p=.9*p/2;G<-m?G=-m:G>m&&(G=m);x<-p?x=-p:x>p&&(x=p);t.ra(G,x);t.u(new J(c,d),q);p=t.Ie();t.u(new J(c+(c-p),d),q);c=t.Je()+.05;t.M(t.S()*t.T());a.s(t);h.push(t)}}
function lo(a,b,c,d){var e=Z(1,1);e.M(.6);e.u(new J(b,c),d);a.s(e);var f=Z(.9,1.1);f.M(.6);f.u(new J(b,c),d);a.s(f);mn(a,e,new J(0,-.4),f,new J(-.4,0),0);mn(a,e,new J(.4,0),f,new J(0,.4),0);Of(a)}
function ko(a){a=a||mo;for(var b=Array(3),c=!0,d=0;3>d;d++){var e=Math.min(1,Math.max(0,.1+1.5*(cf(a)/4294967295)));.9>e&&(c=!1);b[d]=e}if(c)b=ko(a);else{a="#";b=[b[0],b[1],b[2]];for(c=0;3>c;c++)d=b[c],d=Math.floor(.5+256*d),a+=255<=d?"ff":0>=d?"00":"0123456789abcdef".charAt(Math.floor(d/16))+"0123456789abcdef".charAt(d%16);b=a}return b}
var mo=new af(901745),go={pg:"number of blocks",Rf:"add block",wg:"rebuild",Fg:"two piles",Xf:"connected blocks",Zf:"endless loop",mg:"loop time",dc:"random seed",Kg:"wall",xc:"left",zc:"right",Bg:"square blocks"},ho={pg:"Bl\u00f6ckezahl",Rf:"Block hinzu f\u00fcgen",wg:"wieder aufbauen",Fg:"zwei Haufen",Xf:"zusammenh\u00e4ngende Bl\u00f6cke",Zf:"endliche Schleife",mg:"Schleifezeit",dc:"Zufallskern",Kg:"Wand",xc:"links",zc:"rechts",Bg:"rechteckig Bl\u00f6cke"};function no(){throw Error();}y("module$exports$myphysicslab$test$PileTest.connected_blocks_pile_setup",function(a,b){var c=new M(-3.5,-9.2,3.5,-1);a.c=c;V(a,new df(.05,.15,a.a));a.fa(!1);Gf(a,"serial grouped lastpass");a.Z(.6);a.ya(12);X(a,"velocity_and_distance");b.f=new Bl(a);b.c=!0;b.a=.025;b=fo(a);c=new af(4);jo(a,5,-6,-2,c);lo(a,6,7,Math.PI/8+.05);W(a,.8);c=new U(10);V(a,c);rf(c,B(a.b));c.U(b)});
y("module$exports$myphysicslab$test$PileTest.stable_connected_blocks_pile_setup",function(a,b){var c=new M(-3.5,-9.2,3.5,-1);a.c=c;V(a,new df(.05,.15,a.a));a.fa(!1);Gf(a,"serial grouped lastpass");a.Z(.6);a.ya(0);X(a,"velocity_and_distance");b.f=new Bl(a);b.c=!0;b.a=.025;b=fo(a);c=new af(4);jo(a,5,-6,-2,c);lo(a,6,7,Math.PI/8+.05);W(a,.8);c=a.w();R(c,28,-1.307317532081011);R(c,29,3.4568078175222356E-14);R(c,30,-7.679563403384621);R(c,31,-4.2635556397879164E-14);R(c,32,3.9269908169872414);R(c,33,-1.3993648320570288E-15);
R(c,34,-.6338649363183791);R(c,35,2.230623502423369E-14);R(c,36,-8.36840450674311);R(c,37,-9.196703672775336E-15);R(c,38,3.926990816987241);R(c,39,-1.8602527688658332E-14);R(c,40,-.863509453866681);R(c,41,2.5327666670337238E-14);R(c,42,-7.443359658566195);R(c,43,-3.609941383157646E-14);R(c,44,16.493361431346415);R(c,45,-3.834636183127082E-14);R(c,46,-.2794896421175775);R(c,47,2.372714000478332E-14);R(c,48,-8.88957479858616);R(c,49,-5.4309467895987256E-15);R(c,50,21.205750411731103);R(c,51,-7.082394166687482E-14);
R(c,52,.1624361210614297);R(c,53,6.727726003835136E-13);R(c,54,-8.875842608812114);R(c,55,1.6018768653977866E-12);R(c,56,-.7853981633975663);R(c,57,-1.3844587651630329E-12);R(c,58,.7732428782686775);R(c,59,-4.652887853860082E-11);R(c,60,-7.805472491546362);R(c,61,-4.652474225205978E-11);R(c,62,3.926990816987241);R(c,63,3.6456541219008105E-15);R(c,64,.19928633339146276);R(c,65,4.859438051687864E-11);R(c,66,-7.791391682401767);R(c,67,-4.718455523774639E-11);R(c,68,3.9269908169437704);R(c,69,-4.409839525917456E-12);
a.ea();xf(a);a.ya(1);c=new U(10);V(a,c);rf(c,B(a.b));c.U(b)});
y("module$exports$myphysicslab$test$PileTest.near_stable_connected_blocks_pile_setup",function(a,b){var c=new M(-3.5,-9.2,3.5,-1);a.c=c;V(a,new df(.05,.15,a.a));a.fa(!1);Gf(a,"serial grouped lastpass");a.Z(.6);a.ya(0);X(a,"velocity_and_distance");b.f=new Bl(a);b.c=!0;b.a=.025;b=fo(a);c=new af(4);jo(a,5,-6,-2,c);lo(a,6,7,Math.PI/8+.05);W(a,.8);c=a.w();R(c,28,-1.3074166349097716);R(c,29,-.010840525228905605);R(c,30,-7.6748558792433785);R(c,31,.03162290166164498);R(c,32,3.9269569334324403);R(c,33,.004326577793446015);
R(c,34,-.6295172375406212);R(c,35,-.12156323274219026);R(c,36,-8.363693937673977);R(c,37,-.11589631970547537);R(c,38,3.9243199960788253);R(c,39,-.07310382168395342);R(c,40,.31893418138882307);R(c,41,-.6319951813598994);R(c,42,-6.8097160566956365);R(c,43,2.1006107619247305);R(c,44,15.6167669356595);R(c,45,6.9807796520379455);R(c,46,-.2794020111788371);R(c,47,.005559355507812818);R(c,48,-8.889415521500014);R(c,49,.012931603383049635);R(c,50,21.205702274040966);R(c,51,-.02672084560754362);R(c,52,.16264515275973984);
R(c,53,.03730970034660824);R(c,54,-8.875487287160695);R(c,55,.0468739543956697);R(c,56,-.7852734225490905);R(c,57,.017531522195257027);R(c,58,.7681938978094821);R(c,59,-.22265049769722722);R(c,60,-7.787103915157201);R(c,61,.20258649058167544);R(c,62,3.89184653938446);R(c,63,.4490870396661657);R(c,64,.19458710272314095);R(c,65,-.23157678224607303);R(c,66,-7.753146072367401);R(c,67,-.05129863223356834);R(c,68,3.89184653938771);R(c,69,.4490870396647062);a.ea();xf(a);a.ya(1);c=new U(10);V(a,c);rf(c,B(a.b));
c.U(b)});
y("module$exports$myphysicslab$test$PileTest.pile_config_1_setup",function(a,b){var c=new M(-7,0,7,8);a.c=c;V(a,new df(.05,.15,a.a));a.fa(!1);Gf(a,"serial grouped lastpass");a.Z(.6);a.ya(0);X(a,"velocity_and_distance");b.f=new Bl(a);b.c=!1;b.a=.025;c=new af(594074265);b=fo(a,9.348706704297266);jo(a,3,-9.9,19,c);jo(a,3,-9,16,c);lo(a,3,21,0);W(a,.8);c=a.w();R(c,28,-4.826036961610339);R(c,29,5.507262977202934);R(c,30,6.3686904268363635);R(c,31,-7.953916554586297);R(c,32,-2.4297073283893753);R(c,33,-3.2910792690296575);
R(c,34,-.39136366049574994);R(c,35,11.596594391854405);R(c,36,6.401989888500372);R(c,37,-6.3050312680892455);R(c,38,2.833546728939748);R(c,39,11.84282384112968);R(c,40,-2.6677254408578985);R(c,41,7.500061085685241);R(c,42,4.741186660019);R(c,43,-7.976266185005914);R(c,44,8.581332736951099);R(c,45,12.121849497962163);R(c,46,-.5750827056429556);R(c,47,11.45349352174985);R(c,48,1.8528786215208863);R(c,49,-2.623975579277876);R(c,50,-4.0009341616207355);R(c,51,-11.167073162011471);R(c,52,.4901868773177362);
R(c,53,10.209045158895574);R(c,54,.8991047151294028);R(c,55,9.426218453147095);R(c,56,-1.0250437996613715);R(c,57,58.10877825300471);R(c,58,.38386358504151985);R(c,59,-1.1422881143836392);R(c,60,3.346206103148756);R(c,61,6.623070984882051);R(c,62,23.57586164417926);R(c,63,35.37119888296379);R(c,64,-.674508123401993);R(c,65,-7.960427953540814);R(c,66,4.248616367886464);R(c,67,.683655285060861);R(c,68,-2.0251585739061584);R(c,69,-8.34224694613519);R(c,70,-1.2106565077697318);R(c,71,-9.494215020773796);
R(c,72,4.065566370010308);R(c,73,5.146494032387025);R(c,74,-2.0251585739061584);R(c,75,-8.34224694613518);a.ea();xf(a);a.ya(0);c=new U(10);V(a,c);rf(c,B(a.b));c.U(b)});y("module$exports$myphysicslab$test$PileTest.pile_10_random_blocks_setup",function(a,b){var c=new M(-3.5,-9.2,3.5,-1);a.c=c;V(a,new df(.05,.15,a.a));a.fa(!1);Gf(a,"serial grouped lastpass");a.Z(.6);X(a,"velocity");b.f=new Bl(a);b.c=!0;b.a=.025;a.ya(13);b=fo(a);c=new af(0);jo(a,10,-5.5,-2,c);W(a,.5);c=new U(3);V(a,c);rf(c,B(a.b));c.U(b)});
function oo(a,b){V(a,new df(.05,.15,a.a));a.fa(!1);Gf(a,"serial grouped lastpass");a.Z(.6);X(a,"velocity");b.f=new Bl(a);b.c=!0;b.a=.025;a.ya(14);b=fo(a);var c=new U(3,a.a);V(a,c);c.U(b)}y("module$exports$myphysicslab$test$PileTest.pile_uniform_balls_setup",function(a,b){oo(a,b);b=new M(-9,5,9,20);io(a,b,!0);W(a,.8)});y("module$exports$myphysicslab$test$PileTest.pile_uniform_blocks_setup",function(a,b){oo(a,b);b=new M(-9,5,9,20);io(a,b,!1);W(a,.8)});
y("module$exports$myphysicslab$test$PileTest.pile_20_random_blocks_setup",function(a,b){var c=new M(-3.5,-9.2,3.5,-1);a.c=c;V(a,new df(.05,.15,a.a));a.fa(!1);Gf(a,"serial grouped lastpass");a.Z(.6);X(a,"velocity");b.f=new Bl(a);b.c=!0;b.a=.025;a.ya(14);b=fo(a);c=new af(0);jo(a,10,-5.5,-2,c);jo(a,10,-6,-.5,c);W(a,.5);c=new U(3);V(a,c);rf(c,B(a.b));c.U(b)});function po(){throw Error();}function qo(a,b){V(a,new df(0,.15,a.a));a.qa(.01);a.Ka(.5);a.Z(.6);Gf(a,"serial grouped lastpass");X(a,"velocity");b.f=new Uc(a);b.c=!1;b.a=.01}function ro(a,b,c){qo(a,b);b=Z(1,3,"block");a.s(b);c=new im(tf,new J(0,2),b,Db,4,c);Pf(a,c);b.u(new J(0,-6),0);Of(a);b.U();b.u(new J(6,-3),-Math.PI/4);Of(a);c=new U(10,a.a);V(a,c);W(a,.8)}y("module$exports$myphysicslab$test$RopeTest.pendulum_rope_setup",function(a,b){ro(a,b,1)});
y("module$exports$myphysicslab$test$RopeTest.pendulum_rod_setup",function(a,b){ro(a,b,2)});y("module$exports$myphysicslab$test$RopeTest.pendulum_rope_bounce_setup",function(a,b){qo(a,b);b=Z(1,3,"block");a.s(b);var c=new im(tf,new J(0,2),b,Db,4,1);Pf(a,c);b.u(new J(0,-6),0);Of(a);b.U();b.u(new J(-2,0),Math.PI/4);zf(a,b);b=new U(10,a.a);V(a,b);W(a,.8)});
function so(a,b,c,d){qo(a,b);b=Z(1,3,"block");b.u(new J(-1.5,0),Math.PI/4);b.K(new J(0,-4),0);var e=Y(1,"ball");e.u(new J(1.5,0),3*Math.PI/4);e.K(new J(0,4),0);var f=new im(b,Db,e,new J(.2,.3),4,c);d&&(d=new yc("constant",b,new J(0,0),0,new J(-2,0),1),V(a,new Gh(d)),b.K(new J(0,0),0),e.K(new J(0,0),0));a.s(b);a.s(e);Pf(a,f);2==c&&Of(a);W(a,.8)}y("module$exports$myphysicslab$test$RopeTest.double_rope_spin_setup",function(a,b){so(a,b,1,!1)});
y("module$exports$myphysicslab$test$RopeTest.double_rod_spin_setup",function(a,b){so(a,b,2,!1);b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});y("module$exports$myphysicslab$test$RopeTest.double_rope_thrust_setup",function(a,b){so(a,b,1,!0)});y("module$exports$myphysicslab$test$RopeTest.double_rod_thrust_setup",function(a,b){so(a,b,2,!0)});function to(){throw Error();}function uo(a,b,c){V(a,new df(void 0===c?.05:c,.15,a.a));a instanceof Nf&&(a.qa(.01),a.Ka(.5),X(a,"velocity_and_distance"));a.Z(.6);Gf(a,"serial grouped lastpass");b.f=new Uc(a);b.c=!0;b.a=.025}y("module$exports$myphysicslab$test$SpeedTest.ball_vs_wall_setup",function(a,b){uo(a,b);b=Y(.2,"fast_ball");b.M(.1);b.u(new J(-5,0),0);b.K(new J(200,153),0);b.Y(.95);a.s(b);xh(a,12,12,.01)});
y("module$exports$myphysicslab$test$SpeedTest.ball_vs_circle_setup",function(a,b){uo(a,b);b=Y(.2,"fast_ball");b.M(.1);b.u(new J(-5,0),0);b.K(new J(200,153),0);a.s(b);xh(a,12,12,.01);b=Y(4,"fixBall");b.M(I);b.u(new J(0,0),0);a.s(b);W(a,.95)});
y("module$exports$myphysicslab$test$SpeedTest.small_small_setup",function(a,b){uo(a,b,0);var c=new M(-32,-12,32,12);a.c=c;b.f=new Bl(a);b.a=.1;b=Z(1,1,"block0");b.u(new J(-30,0),Math.PI/4);b.K(new J(100,0),0);c=Z(1,1.3,"block1");c.u(new J(5,0));a.s(b);a.s(c);W(a,1)});function vo(){throw Error();}function wo(a,b,c){V(a,new df(void 0===c?0:c,.15,a.a));a.qa(.01);a.Ka(.5);a.Z(.6);Gf(a,"serial grouped lastpass");X(a,"velocity");a.ya(99999);b.c=!0;b.a=.025;b.f=new Uc(a)}function xo(a,b){wo(a,b);a.Z(.6);for(b=0;6>b;b++){var c=Z(1,3,"block"+b);0==b&&c.M(.6);c.u(new J(-4.4+1.73*b,-3+b%2*2),Math.PI*(.3-.15*b));a.s(c)}b=new U(5,a.a);W(a,.6);V(a,b);a=xh(a,12,12,1);b.U(a)}y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_settle_setup",xo);
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_settle_2_setup",function(a,b){xo(a,b);b.c=!1;X(a,"velocity_and_distance")});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_1_setup",function(a,b){wo(a,b);b=xh(a,12,12,1);for(var c=0;6>c;c++){var d=Z(1,3);if(0==c)var e=d;a.s(d)}W(a,.8);c=new U(3,a.a);V(a,c);c.U(b);if(null==e)throw Error();e=e.wa()-24;b=a.w();R(b,e+24,-4.490076631581924);R(b,e+25,2.0679515313825692E-25);R(b,e+26,-5.490392097196945);R(b,e+27,0);R(b,e+28,1.570728988355649);R(b,e+29,-1.6543612251060553E-24);R(b,e+30,-1.5396242471983494);R(b,e+31,-4.0943711582070005E-5);R(b,e+32,-4.4898881738213126);
R(b,e+33,8.353404996231836E-4);R(b,e+34,-2.6278523346345535E-4);R(b,e+35,-.001671999187052211);R(b,e+36,-.5296767271003119);R(b,e+37,9.92762060763532E-4);R(b,e+38,-4.49018008838388);R(b,e+39,.0011794589874429395);R(b,e+40,-3.01799353204607E-4);R(b,e+41,-.0023610557776990396);R(b,e+42,1.4801168847646147);R(b,e+43,-9.352577078533856E-5);R(b,e+44,-5.490056858917946);R(b,e+45,.0011493692932998238);R(b,e+46,-1.5708341618266073);R(b,e+47,1.8706997138135463E-4);R(b,e+48,-2.638125069016346);R(b,e+49,-.045351341609523976);
R(b,e+50,-3.5270071804900893);R(b,e+51,-.0024453038919747434);R(b,e+52,9.271714397689529);R(b,e+53,-.07484736093054672);R(b,e+54,4.490094678411976);R(b,e+55,2.098397952794706E-12);R(b,e+56,-5.4902652470048166);R(b,e+57,6.294899545886009E-12);R(b,e+58,-1.5708101952854403);R(b,e+59,-4.1966191264251884E-12);a.ea()});
function yo(a,b,c,d){n(d)||(d=!0);wo(a,b,.05);b=0;d&&(b=xh(a,12,12,1));for(var e=0;6>e;e++){var f=Z(1,3);if(0==e)var h=f;a.s(f)}d||(b=xh(a,12,12,1));if(null==h)throw Error();d=h.wa();h=a.w();for(e=0;36>e;e++)R(h,d+e,c[e]);W(a,.8);c=new U(3,a.a);V(a,c);c.U(b);a.ea()}
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_4_setup",function(a,b){yo(a,b,[-3.3545261663555896,-.355180346288018,-4.4091676608815025,.01888840410875564,-.33441693630855124,.78578131361648,-1.5175707648198662,.003206135053147014,-5.4907362257189956,5.436678584988201E-6,-4.712417858395409,-3.6244872808309476E-6,-5.030329202688726,-.9844534862980994,-3.109909451638245,-.17187889001353449,-.3350299277503665,.7861778657011144,-4.422188956281887,-.06277409660041239,-4.40909237120817,
.020106263134300622,21.655729079144088,.7861180509905386,1.4901049976435212,.0023613793610671716,-5.490185485906266,.0056322362177322945,-7.853916200558516,.0016857384982070047,4.490161555800651,1.5819651323954016E-4,-5.4900738791375066,.0040804895964462965,-1.570843916633821,-.0027203695546943584]);b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_5_setup",function(a,b){yo(a,b,[-5.489965075066497,.004087251835193464,-4.490052900839322,.001362247691451171,-4.6677414087053384E-5,-.0027248769565007607,-3.401717547428832,.0019117628245731183,-4.971189895635601,.008305583285810448,-1.1920467322044246,.006870863906211994,-.5748706825516253,-.0417381964456494,-5.490251890670699,-6.808027313556439E-17,-1.5709353569488083,-2.42861286636753E-17,2.426724225565317,-.04173819644564949,
-5.4905529523168,-3.2612801348363973E-16,1.5705328359361475,1.1188966420050406E-16,4.465167990404531,-.00719303842885928,-4.741243000027946,-.016690598972297344,.981668335500221,.017218871182208717,.7783656030362079,-.029240805650546875,-4.481170584745237,2.783746992588203E-4,-1.5714036339542785,4.1296827244508794E-5])});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_6_setup",function(a,b){yo(a,b,[-2.479254054598802,-.008383172809440613,-4.490192922711039,.0012134875363453183,8.791012830956698E-5,.002427615317992623,-.4693351531726902,-.005211501828657076,-5.490287752459545,.0014093667389195456,-4.712383176065981,9.395796500458078E-4,.7911849247646761,.03453590587929963,-4.473392209630643,.10383355825723466,1.5650945215047225,-.06935148785076672,-4.489184128917945,-.0042418646209149355,-5.491555977672989,
.00150356820555,20.420918091036057,-.0010021899368622567,2.535618102853626,.0073038373861507525,-5.491785588161739,-5.204170427930421E-18,-7.854694744724996,-8.673617379884035E-18,4.441714724437791,-.02949542212365918,-4.651840897521864,-.04573324755774091,.9731961682115491,.07207352623369913,236.15012435916688])});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_7_setup",function(a,b){yo(a,b,[-1.4008804821505663,-1.0953755183567188E-9,-4.981046079045859,-1.9992068048789671E-10,-1.200071147740437,-1.6427989772619893E-10,1.4796160598187693,1.1235988991072552E-13,-5.491714158480645,-1.2662785196137558E-15,-4.712740442557912,-8.417187575915385E-16,1.688449935615377,-1.0824993284576629E-9,-4.4820860141082655,3.777030401650401E-13,-1.5711430162348365,-1.8223005738926858E-15,-4.490145272150233,
2.5960715059151575E-14,-5.490437318063508,4.230764788816007E-6,20.420090322954632,-5.203366672719886E-14,4.489950496597266,1.1283686080194514E-13,-5.4917274053566505,-3.0534805866899067E-17,-7.853654066004802,-2.6598913917167402E-17,4.418005502150728,-2.0572215074183382E-11,-3.945734031406925,-2.180998329736897E-10,1.1777659258720574,1.8268885795336528E-10])});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_8_setup",function(a,b){yo(a,b,[-1.4006667035152596,-9.693089413206307E-4,-4.9838649196508955,2.2302351400742795E-5,-1.202117102796731,1.829539682510507E-5,1.4797014053709832,-.0010921604658408748,-5.496521932131233,1.1762751343205065E-8,-4.71224974108439,7.842198285288454E-9,1.6885479215423251,-9.706566845123935E-4,-4.48778364199535,4.1213406048957926E-8,-1.5704902770116411,1.5105026038341254E-8,-4.490015398935664,-5.181172627948807E-4,
-5.4919767634570285,.0015545518282173046,20.420313643816957,.0010363545502616025,4.489864055427361,-.0010921643777436155,-5.496486998294175,-4.3368086899420177E-19,-7.853455994143339,2.3852447794681098E-18,4.417991142178613,-1.8443050080908566E-5,-3.9505739533206237,-1.9531414976105667E-4,1.1779001844891648,1.6408965739089505E-4])});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_9_setup",function(a,b){yo(a,b,[-1.4098834956330757,-.011021823548695726,-4.901190292092527,.06896168332172642,-1.1329171003184435,.06015134284633006,1.1048833769390685,-.2383595895375249,-5.490575648872165,-5.985483064997513E-23,-4.7121628015794945,1.061957734850305E-22,1.6703348810645853,-.021994369069460246,-4.481173864069186,5.869360705162414E-5,-1.570496969228481,6.504411289860808E-6,-4.490089724681169,-8.470329472543003E-22,
-5.490535827441271,2.309033496920736E-5,20.4202774547725,0,4.115016540060451,-.23835958953752487,-5.491084890522951,0,-7.854124817129153,0,4.413957328404009,-4.263125237630913E-4,-3.9479177969108523,-.004412366070905673,1.1755736147755107,.00367304369690573])});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_10_setup",function(a,b){yo(a,b,[-4.112367787413438,.39026511526212854,-3.47432218043552,-.04844606751715124,-.01681971028050594,.15444140342140358,-4.4902665319358945,.009708687447405103,-5.492362116791236,.04110771891404174,-1.5703141789281565,-.019389331575013213,-1.1117912478988092,-.08180869895105755,-4.472560662315691,-.05278060856444347,-1.5653868372165212,-.4933976799463698,-.2864037845545129,-.021580789346602885,-5.48855328848715,
-.5111254210373286,-1.5667732606816016,-.005675550346695361,1.4297966380301976,-.6222954049493852,-4.380312958037922,-1.3388667898420845,.7202422536661243,.3569620001764969,4.358511630657416,-.1897987425234288,-5.492781293281953,1.5820678100908484E-16,-1.5724773538024814,2.7755575615628914E-17]);b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_11_setup",function(a,b){yo(a,b,[-3.4807418124962246,-.0032609654797268383,-4.690642129379,.005884959813226634,-4.069471245774962,.006533340019550788,-5.490093621397956,-1.2407709188295415E-24,-4.490584738508103,4.576046549796252E-6,-3.340109945538294E-6,-4.1359030627651384E-24,1.4800261549386085,-.0027374555459506204,-5.490302215555195,3.7694317660346175E-18,-1.5708678273429248,2.5128946259988686E-18,-1.5300317991165833,-.005469762569256994,
-5.490109925347951,3.8857812481217984E-17,1.570865119007061,1.1102214371068299E-17,4.490046868656358,-9.997577275171447E-18,-5.490157832629273,2.346783365031779E-5,1.5708320499034099,-4.2136073022102525E-18,4.47198537447647,-.0029572640614469424,-4.480593249937791,2.3091036442906875E-5,-4.71206604332963,1.807523974207076E-7],!1)});
y("module$exports$myphysicslab$test$StraightStraightTest.six_blocks_12_setup",function(a,b){yo(a,b,[-3.9795534864733946,.5603947124399835,-4.494999999999999,-1.5563590077982844E-14,-7.348187395995754E-16,-2.9029394275278674E-16,-2.950617113946953,-.2553017864528158,-4.494999999999999,-5.3058849962594086E-15,-1.7908831144300597E-15,6.608018768607392E-14,-.5200000006730288,-9.7046021848972E-19,-5.494999999999999,-7.96944081510657E-15,-1.5707963267948968,8.726266789357274E-16,2.4849999993269716,-2.154014466284064E-15,
-5.494999999999999,-9.922729685802491E-15,1.5707963267948963,-2.6256274349643637E-15,4.489999999326985,2.1562780968094406E-15,-4.494999999999999,-1.2431040096932952E-14,9.528498640341283E-16,-4.800359450590645E-14,5.494999999380792,-1.2931512186863026E-18,-4.494999999999999,-6.99044503042167E-15,-1.974518458830297E-16,-5.007438423172913E-16],!1);b=[];a.ua(b,Ic(a.w()),0);hd(a,b)});
y("module$exports$myphysicslab$test$StraightStraightTest.hexagon_1_setup",function(a,b){wo(a,b);b=Math.sin(Math.PI/3);var c=new He("hexagon",void 0),d=Math.sin(Math.PI/3),e=Math.cos(Math.PI/3);$e(c,new te(new J(1-e,0)));T(c,new J(1+e,0),!1);T(c,new J(2,d),!1);T(c,new J(1+e,2*d),!0);T(c,new J(1-e,2*d),!0);T(c,new J(0,d),!0);T(c,new J(1-e,0),!1);Ve(c);d=Math.sqrt(3)/2;c.Ba(d*d/2);c.Y(.8);c.u(new J(0,b+.009),-2*Math.PI/3);a.s(c);c=Z(1,1,"block");c.u(new J(0,2*b+.018+Math.sqrt(2)/2),Math.PI/4);a.s(c);
b=Z(6,1,"floor");b.M(I);b.u(new J(0,-.5),0);a.s(b);W(a,.8);V(a,new U(3,a.a))});y("module$exports$myphysicslab$test$StraightStraightTest.block_block_contact_1_setup",function(a,b){wo(a,b);b=Z(1,1,"block1");b.u(new J(-.502,0),0);b.K(new J(0,.6),0);a.s(b);b=Z(1,2.5,"block2");b.u(new J(.502,0),0);b.K(new J(0,-.6),0);a.s(b);W(a,.8);V(a,new lh(3,a.a))});
y("module$exports$myphysicslab$test$StraightStraightTest.block_block_contact_2_setup",function(a,b){wo(a,b);b=Z(1,1,"block1");b.u(new J(-1,0),0);b.K(new J(0,.6),0);a.s(b);b=Z(1,2,"block2");b.u(new J(1,0),0);b.K(new J(0,-.6),0);a.s(b);W(a,.8);V(a,new lh(3,a.a))});
y("module$exports$myphysicslab$test$StraightStraightTest.ngon_block_setup",function(a,b){wo(a,b);b=new He("polygon-16-sides");var c=2*Math.PI/16;$e(b,new te(new J(.75,0)));for(var d=1;16>d;d++)T(b,new J(.75*Math.cos(c*d),.75*Math.sin(c*d)),8>=d);T(b,new J(.75,0),!1);Ve(b);b.ra(0,0);b.Ba(.28125);b.Y(.8);b.ra(0,-.2);b.u(new J(-.255,0),0);b.K(new J(0,.6),1);a.s(b);b=Z(1,3,"block");b.u(new J(1,0),0);b.K(new J(0,-.6),0);a.s(b);W(a,.8);V(a,new lh(3,a.a))});
y("module$exports$myphysicslab$test$StraightStraightTest.diamonds_setup",function(a,b){wo(a,b);b.a=.01;b=ph(1,Math.PI/4,"diamond1");b.u(new J(-2,.5),0);a.s(b);b=ph(2,-Math.PI/4,"diamond2");b.u(new J(2,-.5),0);a.s(b);W(a,.5);V(a,new lh(3,a.a))});y("module$exports$myphysicslab$test$StraightStraightTest.one_block1_setup",function(a,b){wo(a,b);b=Z(1,3,"blue");b.u(new J(-4,-4));a.s(b);b=xh(a,20,20);var c=new U(4,a.a);V(a,c);c.U(b);W(a,.8)});
y("module$exports$myphysicslab$test$StraightStraightTest.one_block2_setup",function(a,b){wo(a,b);X(a,"none");b=Z(1,3,"blue");b.u(new J(0,-3.495),.01);b.K(new J(0,-.3));a.s(b);b=xh(a,10,10);var c=new U(4,a.a);V(a,c);c.U(b);W(a,.8)});y("module$exports$myphysicslab$test$StraightStraightTest.fast_close_setup",function(a,b){wo(a,b);X(a,"none");b=xh(a,10,10);var c=Z(1,3,"blue");c.u(new J(0,-3.495),.01);c.K(new J(0,-3));a.s(c);c=new U(4,a.a);V(a,c);c.U(b);W(a,.8)});
y("module$exports$myphysicslab$test$StraightStraightTest.corner_collision_setup",function(a,b){wo(a,b);b.a=.01;b=ph(1,Math.PI/4,"diamond1");b.u(new J(-2,0),0);b.K(new J(3,0),0);a.s(b);b=ph(1,-Math.PI/4,"diamond2");b.u(new J(2,0),0);a.s(b);W(a,.5)});y("module$exports$myphysicslab$test$StraightStraightTest.rounded_corner_collision_setup",function(a,b){wo(a,b);b.a=.01;b=th("rounded1");b.u(new J(-2,0),Math.PI/4);b.K(new J(3,0),0);a.s(b);b=th("rounded2");b.u(new J(2,0),Math.PI/4);a.s(b);W(a,.5)});
y("module$exports$myphysicslab$test$StraightStraightTest.oblique_corner_collision_setup",function(a,b){wo(a,b);var c=new M(-.04602673981896506,-.0309592659798244,.029428926297351846,.04412223980864299);a.c=c;a.Z(.1);b.a=.025;b=Z(2,2,"fixed");b.M(I);b.u(new J(1,-1),0);a.s(b);b=Z(1,1,"moving");b.u(new J(-.525,.51),0);b.K(new J(1.5925,-.597),0);a.s(b);W(a,.5)});
y("module$exports$myphysicslab$test$StraightStraightTest.acute_corners_setup",function(a,b){wo(a,b,0);X(a,"velocity_and_distance_joints");b=Ah(a,new M(-4.5,-3.6,3.1,4));Ie=1;var c=sh([new J(1,0),new J(-.5131779511732342,.858282232386085),new J(-.9697687959221418,.24402557746211612),new J(.5131779511732341,-.8582822323860851)]);a.s(c);a.s(Z(1,3));c=sh([new J(1,0),new J(-.5168307315243816,.8560876093905182),new J(-.8145354532535083,-.5801137779721335),new J(.6155488042485365,-.7880987689295023)]);a.s(c);
a.s(Z(1,3));a.s(Z(1,3));c=sh([new J(1,0),new J(-.5189138250576965,.8548265567727704),new J(-.9713811395821201,.2375261704826262),new J(-.08733120618134813,-.9961793314594068)]);a.s(c);c=new U(3,a.a);W(a,.8);V(a,c);c.U(b);a=a.w();R(a,0,0);R(a,1,.03178706216753517);R(a,2,21.275092573513827);R(a,3,21.306879635681362);R(a,4,-.7);R(a,5,0);R(a,6,-4.1);R(a,7,0);R(a,8,0);R(a,9,0);R(a,10,3.5999999999999996);R(a,11,0);R(a,12,.19999999999999996);R(a,13,0);R(a,14,0);R(a,15,0);R(a,16,-.7);R(a,17,0);R(a,18,4.5);
R(a,19,0);R(a,20,0);R(a,21,0);R(a,22,-5);R(a,23,0);R(a,24,.19999999999999996);R(a,25,0);R(a,26,0);R(a,27,0);R(a,28,-3.994175423172596);R(a,29,-3.375246109755061E-7);R(a,30,-2.7383266394583425);R(a,31,-5.942141763683848E-9);R(a,32,-1.0548398616079855);R(a,33,-9.118912363980537E-9);R(a,34,-2.003265933175177);R(a,35,-4.007266059523297E-7);R(a,36,-3.0949999992492216);R(a,37,-2.805109218609374E-8);R(a,38,-1.5707963271905572);R(a,39,1.4783921554646415E-8);R(a,40,2.1894973957584805);R(a,41,-.002607801649199815);
R(a,42,-2.8567099904181865);R(a,43,-1.137377229716843E-13);R(a,44,.14442290824138998);R(a,45,-3.3018032752131266E-14);R(a,46,.5531761073947989);R(a,47,-.07606659236252189);R(a,48,-1.7549648725459994);R(a,49,-.0375339986382553);R(a,50,1.8055032081848377);R(a,51,-.030052137616049142);R(a,52,-1.7979653247900453);R(a,53,.186005234323005);R(a,54,-1.089999995447982);R(a,55,-1.7043644812988394E-7);R(a,56,3.141592646020941);R(a,57,2.8341393571213067E-7);R(a,58,.6357229411480702);R(a,59,.14498910247394578);
R(a,60,-2.9733009783756574);R(a,61,-4.2449932455742765E-13);R(a,62,.9490286328488056);R(a,63,3.497165520156307E-13)});function zo(){this.b="gray";this.c=4;this.a=[]}zo.prototype.toString=function(){return""};function Ao(a){this.a=null;this.b=[];this.i=[];this.g=[];this.j=hg;this.c=!0;this.h=null;this.f=null!=a?a:null}g=Ao.prototype;g.toString=function(){return""};function Bo(a,b){A(a.b,b)||(a.b.push(b),a.i.push(Co(a)),a.g.push(0),a.c=!0,a.a=null)}g.gb=function(){return!1};
g.hb=function(a,b){var c=this.j;if(!c.Za()){var d=c.S();c=c.T();a.save();z(this.b,function(a,b){0!=this.g[b]&&(this.g[b]=0,this.c=!0)},this);if(null==this.h||this.h!=b)this.h=b,this.c=!0;var e=Do(this);!e||null==this.a||this.a.width==d&&this.a.height==c||(this.a=null);e&&null==this.a&&(this.a=document.createElement("canvas"),this.a.width=d,this.a.height=c,this.c=!0);var f=a;if(e&&this.a){var h=this.a.getContext("2d");h&&(f=h)}if(this.c||!e)e&&f.clearRect(0,0,d,c),z(this.b,function(a,c){var d=f;c=
this.i[c];var e=new ld(0,0),h=!0;for(a=new dh(a);eh(a,e);){var k=qg(b,e.l()),m=rg(b,e.m());h&&(d.beginPath(),d.moveTo(k,m),h=!1);h||d.lineTo(k,m)}d.strokeStyle=c.b;d.lineWidth=c.c;0<c.a.length&&na(d.setLineDash)&&d.setLineDash(c.a);d.stroke()},this),this.c=!1;e&&this.a&&a.drawImage(this.a,0,0,d,c);a.restore()}};function Co(a){return void 0!==a.v?a.v:null!=a.f?Co(a.f):new zo}g.Xa=function(){return[]};g.$a=function(){return L};g.Oa=function(){return B(this.b)};
function Do(a){return void 0!==a.A?a.A:null!=a.f?Do(a.f):!0}g.ha=function(){return void 0!==this.o?this.o:null!=this.f?this.f.ha():0};g.eb=function(){return!1};function Eo(a,b){A(a.b,b)&&(b=xa(a.b,b),-1<b&&(Ha(a.b,b),Ha(a.i,b),Ha(a.g,b),a.c=!0,a.a=null))}g.Qa=function(){};function Fo(a,b){a.j=b;a.a=null}g.pa=function(a){this.o=a};function Go(a,b){this.a=b;this.c=b.g;this.f=a;Zb(this.f,this);this.b=[];this.g=new Ao;this.g.pa(-10)}Go.prototype.toString=function(){return""};function Ho(a,b){if(null==Qj(a.c,b)){var c=new Ao(a.g);Fo(c,a.a.f);Bo(c,b);a.c.add(c);var d=new Bj(a.a,v(function(a){a.ga()==this.a&&a.R("SCREEN_RECT_CHANGED")&&Fo(c,this.a.f)},a));a.b.push({cf:b,oi:d,mf:c})}}function Io(a,b){var c=Da(a.b,function(a){return a.cf==b});null!=c&&(a.c.remove(c.mf),Cj(c.oi),Eo(c.mf,b),Ga(a.b,c))}
Go.prototype.ka=function(a){if(a.ga()==this.f){var b=a.P();b instanceof Rg&&(a.R("OBJECT_ADDED")?Ho(this,b):a.R("OBJECT_REMOVED")&&Io(this,b))}};function Jo(a){db(a.images_dir);this.h=[];var b=Ko(a,"term_output"),c=Ko(a,"term_input");this.j=new Xi(c,b);this.g=Lo(a,"sim_applet");this.g.style.position="relative";b=document.createElement("canvas");b.tabIndex=0;b.width=800;b.height=480;this.a=new Uj(b,"simCanvas");this.g.appendChild(this.a.a);this.b=Lo(a,"div_graph");b=document.createElement("canvas");b.style.b="left";b.style.margin="0px 15px 15px 0px";this.c=new Uj(b,"graphCanvas");ck(this.c,480,480);this.b.style.display="none";this.i=Lo(a,"graph_controls");
this.b.insertBefore(this.c.a,this.i);var d=Lo(a,"show_graph");this.v=v(function(a){this.b.style.display=a?"block":"none";d.checked=a},this);wi(d,"click",v(function(){this.v(d.checked)},this));this.f=Lo(a,"sim_controls");var e=Lo(a,"show_controls");this.f.style.display="none";this.o=v(function(a){this.f.style.display=a?"block":"none";e.checked=a},this);wi(e,"click",v(function(){this.o(e.checked)},this));Lo(a,"form_terminal").style.display="none";Lo(a,"label_terminal").style.display="none";Lo(a,"show_hide_form")}
Jo.prototype.toString=function(){return""};function Lo(a,b){a=a[b];if(!ia(a))throw Error("unknown elementId: "+b);b=document.getElementById(a);if(!oa(b))throw Error("not found: element with id="+a);return b}function Ko(a,b){a=a[b];if(!ia(a))throw Error("unknown elementId: "+b);return document.getElementById(a)};function Mo(a){bb();P.call(this,"TEST_VIEWER_APP");this.$=[];this.i=[];this.A=-1;this.O=[];this.h=[];this.F=-1;this.C=!0;this.b=new Jo(a);this.b.a.ib("black");this.v=this.b.j;a=this.b.a;this.a=new Nf;jj(this.v,v(this.a.ea,this.a));new Bj(this.a,v(function(){this.a.ea()},this));this.a.fa(!0);Gf(this.a,"serial grouped lastpass");X(this.a,"velocity_and_distance");this.Va=this.a.a;this.L=this.a.w();this.L.f=!0;this.j=new Xc(this.a);this.j.c=!0;this.o=new M(-6,-6,6,6);this.g=new Ck("simView",this.o);this.mb=
this.g.g;Xj(a,this.g);this.B=new Ck("status",new M(-10,-10,10,10));Xj(a,this.B);Mk(this.g,!0);this.c=new rk(this.j);this.c.Oe(.025);uk(this.c,a);Wb(ec(this.c,sk.Nb),7);this.f=this.c.a;Wb(ec(this.f,ek.Mb),5);this.Gc=new Ul(this.a,this.f);new ym(a,this.Gc);this.Hc=new rm(this.Va,this.g.g);new Go(this.Va,this.g);No(this,vo,"Straight/Straight");No(this,Dh,"Circle/Straight");No(this,Bh,"Circle/Circle");No(this,tn,"DoNothingGrinder");No(this,Zn,"Miscellany");No(this,no,"Pile");No(this,ao,"Multiple Collision");
No(this,vn,"Joints");No(this,po,"Ropes");No(this,to,"Speed");a=Rk(this.c);Oo(this,a);a=new Dj(document.createElement("BR"),[]);Oo(this,a);this.I(a=new N(this,Po.ld,Qo.ld,v(this.jh,this),v(this.Ci,this),this.i,Ua(this.i.length)));Oo(this,new Ni(a,""));this.D=new N(this,Po.zd,Qo.zd,v(this.yh,this),v(this.Mi,this),this.h,Ua(this.h.length));this.I(this.D);Oo(this,new Ni(this.D,""));this.I(a=new Qb(this,Po.yd,Qo.yd,v(this.wh,this),v(this.Ki,this)));Oo(this,new Ji(a));a=new Dj(document.createElement("BR"),
[]);Oo(this,a);this.sa=new Hl(this.a);a=ec(this.sa,Il.Ib);Ro(this,new Ql(a));a=new Dj(document.createElement("BR"),[]);Ro(this,a);a=bc(this.a,vf.ec);Ro(this,new Ji(a));this.Lb=new sj(this.a);this.Qf=Uk(this.Lb,this.B,this);Ro(this,new Ji(this.Qf));this.ia=new Ti(v(this.a.X,this.a),v(this.f.Mc,this.f));this.ia.Qa(new J(8,4));this.Qg=Tk(this.ia,this.B,this);Ro(this,new Ji(this.Qg));a=Qk(this.g,v(function(){Ik(this.g,this.o)},this));this.b.g.appendChild(a);this.ta=Vk(a,this);this.ta.Vc(!1);Ro(this,new Ji(this.ta));
a=Nk(this.b.a);Ro(this,a);a=new Dj(document.createElement("BR"),[]);Ro(this,a);a=ec(this.c,sk.Nb);Ro(this,new Ql(a));a=ec(this.c.a,ek.Mb);Ro(this,new Ql(a));this.H=new El(this.a,this.a,this.j);a=fc(this.H,Fl.Hb);Ro(this,new Ni(a));this.fc=new Im(this.L,this.b.c,this.b.i,this.b.b,this.c,"inline");Hg(Kg(Jg(Ig(this.Hc.f,"rgba(51,204,255,0.5)")),"12pt sans-serif")).i=!0;a=[this,this.a,this.H,this.c,this.f,this.g,this.B,this.b.a,this.b.c,this.sa];a=Ja(a,this.fc.Ha());this.la=Sk(a,[this.L],this.c,this.v);
Ro(this,Wk(this.la,this.c))}l(Mo,P);Mo.prototype.toString=function(){return""};Mo.prototype.ob=function(){};Mo.prototype.defineNames=Mo.prototype.ob;g=Mo.prototype;g.jh=function(){return this.A};
g.Ci=function(a){if(0>a||a>=this.i.length)throw Error("setGroup: groupIndex="+a+" range="+this.i.length);if(this.A!=a){this.A=a;this.F=-1;Fa(this.O);Fa(this.h);a=this.$[a];for(var b in a)if(a.hasOwnProperty(b)&&"function"===typeof a[b]&&b.match(/.*_setup$/)){var c=b.replace(/_setup$/,"").replace(/_/g," ");this.h.push(c);this.O.push(a[b])}Sb(this.D,this.h,Ua(this.h.length));this.D.Ye(0);Q(this,Po.ld)}};g.yh=function(){return this.F};
g.Mi=function(a){if(0>a||a>=this.h.length)throw Error("setTest: index="+a+" range="+this.h.length);this.F!=a&&(this.F=a,So(this,a),Q(this,Po.zd))};function No(a,b,c){a.$.push(b);a.i.push(c)}g.wh=function(){return this.C};g.Ki=function(a){this.C!=a&&(this.C=a,Q(this,Po.yd))};
function So(a,b){a.a.qa(.01);a.a.Ka(.5);a.a.Z(.6);a.a.wb();a.j.reset();var c=a.i[a.A],d=a.h[b],e=a.a.B;Ie=1;a.O[b](a.a,a.j);z(Tj(a.mb),function(a){if(a instanceof sg){var b=a.Xa()[0];isFinite(b.N())&&Ig(a,ko());"Miscellany"==c&&"clock with gears"==d&&(a.g="black",b.R("escape wheel")&&a.pa(-1))}});a.c.Oe(a.j.a);Q(a.H,Fl.Hb);a.a.fa(e);To(a);Uo(a);xf(a.a);Vo(a);qj(a.la);nk(a.f,a.a.X());mk(a.f,a.a.X());a.C?kk(a.f):jk(a.f);pk(a.c.b)}
function To(a){var b=Da(B(a.a.h),function(a){return a instanceof U||a instanceof lh}),c=document.getElementById("gravity_control");if(!oa(c))throw Error("gravity_control not found");null==b?(c.value="",c.disabled=!0):(a.gc=b,a=ec(a.gc,pf.Ma),(new Ql(a,c)).xb(!0))}
function Uo(a){var b=Da(B(a.a.h),function(a){return a instanceof df}),c=document.getElementById("damping_control");if(!oa(c))throw Error("damping_control not found");null==b?(c.value="",c.disabled=!0):(a.lb=b,a=ec(a.lb,gf.ub),(new Ql(a,c)).xb(!0))}function Vo(a){var b=a.a.c;if(null!=b)a.o=b;else{b=B(a.a.a.a);if(0==b.length)return;var c=b[0].Ja(),d=!1;z(b,function(a){c=Kb(c,a.Ja());d=d||a.getName().match(/^WALL*/)});d||(c=c.scale(2));a.o=c}Ik(a.g,a.o)}g.bf=function(){bj(this.v,"TestViewerApp does not work with advanced-compile")};
Mo.prototype.setup=Mo.prototype.bf;function Ro(a,b){a=a.b;var c=b.ja();c.style.display="inline-block";a.f.appendChild(c);a.h.push(b)}function Oo(a,b){var c=b.ja();c.style.display="inline-block";a.b.h.push(b);b=document.getElementById("damping_control");if(!oa(b))throw Error("damping_control not found");a.b.f.insertBefore(c,b.parentNode)}Mo.prototype.eval=function(a,b){try{return this.v.eval(a,b)}catch(c){Yi(this.v,c)}};Mo.prototype.eval=Mo.prototype.eval;Mo.prototype.start=function(){};
Mo.prototype.start=Mo.prototype.start;var Po={ld:"group",zd:"test",yd:"start on load"},Qo={ld:"Gruppe",zd:"Pr\u00fcfung",yd:"beginn nach laden"};y("makeTestViewerApp",function(a){return new Mo(a)});}).call(window)
